"use strict";var kk=Object.defineProperty;var s=(t,e)=>kk(t,"name",{value:e,configurable:!0});var D=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Oe=D((vX,ah)=>{"use strict";var Ek=require("util"),Tk="MLBOUND_"+Date.UTC(2014,12,31);function qk(){var t=arguments.length;switch(t){case 0:return[];case 1:var e=arguments[0];return Array.isArray(e)?e:[e];default:for(var n=new Array(t),r=0;r<t;++r)n[r]=arguments[r];return n}}s(qk,"asArray");function nh(t,e,n){for(var r=arguments.length>1?e:{},a=Array.isArray(n),o=a?n:Object.keys(t),l=o.length,u=0;u<l;u++){var f=o[u],d=t[f];(!a||d!=null)&&(r[f]=d)}return r}s(nh,"copyProperties");function Nk(){switch(arguments.length){case 0:return{};default:var t=arguments[0];return t instanceof Array?t[0]:t}}s(Nk,"first");function Pk(t,e,n){if(n!==void 0){var r=t[e];r===void 0?t[e]=[n]:r.push(n)}}s(Pk,"appendItem");function Ll(t){try{return JSON.parse(t)}catch{return t}}s(Ll,"parseJSON");function ma(t,e){if(!(this instanceof ma))return new ma(t,e);var n=null,r=null;t==null?r="unknown error":e==null?r=t:(n=t,r=e),Error.call(this),n!==null&&(this.name=n),this.message=r,Error.captureStackTrace(this,ma)}s(ma,"MarkLogicError");Ek.inherits(ma,Error);function Ok(t,e){var n=t,r=e;return s(function(){return r.apply(n,arguments)},"callBackMethod")}s(Ok,"callbackOn");function Ck(t){if(t!=null)if(Array.isArray(t))switch(t.length){case 0:break;case 1:return"transform="+encodeURIComponent(t[0]);default:for(var e="transform="+encodeURIComponent(t[0]),n=t[1],r=Object.keys(n),a=0;a<r.length;a++){var o=r[a];e+="&trans:"+encodeURIComponent(o)+"="+encodeURIComponent(n[o])}return e}else return"transform="+encodeURIComponent(t)}s(Ck,"endpointTransform");function _k(t,e,n){let r=nh(t),a=t.database;if(t.basePath){let o=t.basePath.toString(),l=t.host.toString().endsWith("/")&&o.startsWith("/")?o.substring(1):o;l=l.endsWith("/")?l.substring(0,l.length-1):l,e=l+e}return r.method=n||"GET",a!==null&&(e.includes("?")?e.endsWith("?")?r.path=a==null?e:e+"database="+encodeURIComponent(a):r.path=a==null?e:e+"&database="+encodeURIComponent(a):r.path=a==null?e:e+"?database="+encodeURIComponent(a)),r}s(_k,"newRequestOptions");function Rk(t){var e=t.lastIndexOf(".")+1;return e===0||e===t.length?null:t.substring(e)}s(Rk,"extension");function Xk(t){var e=t.lastIndexOf(".");return e===0||e===t.length?null:t.substring(0,e)}s(Xk,"rootname");function rh(t,e){if(t===void 0)return"undefined";if(t===null)return"null";var n=typeof t;switch(n){case"boolean":return e?n+" "+t:n;case"function":return n;case"number":return e?n+" "+t:n;case"object":if(Array.isArray(t))return e?"Array "+JSON.stringify(t):"Array";if(Buffer.isBuffer(t))return"Buffer";if(t instanceof Error)return e?"Error "+JSON.stringify(t):"Error";var r=Object.prototype.toString.call(t),a=r.replace(/^\[object ([^\]])$/,"$1");return a!=null&&a!==r?e?a+" "+JSON.stringify(t):a:e?n+" "+JSON.stringify(t):n;case"string":return e?n+" "+t:n;case"symbol":return e?n+" "+t:n;default:return e?n+" "+t:n}}s(rh,"identify");function Dk(t,e){if(t==null)return null;if(typeof t=="string"||t instanceof String)return t;if(Buffer.isBuffer(t))return t;if(typeof t._read=="function")return e!==void 0&&e.isReplayable===!0&&(e.isReplayable=!1),t;if(typeof t=="object"&&t!==null){if(Array.isArray(t))return JSON.stringify(t);if(t instanceof Date)return t.toISOString();if(t instanceof Set)return JSON.stringify(Array.from(t));if(t instanceof Map){let n={};return t.forEach((r,a)=>{n[a]=r}),JSON.stringify(n)}return JSON.stringify(t)}return String(t)}s(Dk,"marshal");function Ik(t,e){if(e==null)return null;switch(t){case"binary":return e;case"json":return e.length===0?e:typeof e=="string"||e instanceof String?Ll(e):Buffer.isBuffer(e)?Ll(e.toString()):e;case"text":case"xml":return Buffer.isBuffer(e)?e.toString():e;default:return e}}s(Ik,"unmarshal");function Bk(t){if(t==null)return null;if(typeof t=="string"||t instanceof String||t instanceof Sn)return t;if(t.txid!=null&&t.cookies!=null)return Sn(t.txid,t.cookies);throw new Error("cannot process transaction without string or Transaction or Transaction properties")}s(Bk,"convertTransaction");function Sn(t,e){if(!(this instanceof Sn))return new Sn(t,e);if(this.txid=t,Array.isArray(e)&&e.length>0){for(var n=0;n<e.length;n++)e[n]=e[n].replace(/;\s*expires\s*=[^;]+(;|$)/i,"$1");this.cookies=e}}s(Sn,"Transaction");Sn.prototype.toString=s(function(){return this.txid},"transactionToString");function jk(t,e){if(t==null){if(e!=null)throw new Error("cannot "+e+" transaction without string or Transaction object identifier");return}if(typeof t=="string"||t instanceof String)return t;if(t instanceof Sn)return t.txid;throw new Error("can only "+e+" transaction with string or Transaction object identifier: "+typeof t)}s(jk,"getTxidParam");function Lk(t,e){if(e instanceof Sn){var n=e.cookies;if(n!=null){var r=t.headers;r!=null?r.cookie=n:t.headers={cookie:n}}}}s(Lk,"addTxidHeaders");function Ml(t){if(!(this instanceof Ml))return new Ml;if(this.value=null,t!=null)if(typeof t=="string"||t instanceof String)this.value=t;else throw new Error("timestamp value must be specified as a string")}s(Ml,"Timestamp");var Fl="array";function Mk(t){Fl=t}s(Mk,"setSliceMode");function Fk(t,e){for(var n=e.length,r={},a=null,o=null,l=Math.min(n,t==="query"?5:3),u=null,f=0;f<l;f++)if(u=e[f],typeof u=="number"||u instanceof Number)switch(f){case 0:a=u;break;case 1:o=u;break}else{switch(t){case"query":if(u["transform-results"]!==void 0){r["transform-results"]=u["transform-results"];continue}else if(u["extract-document-data"]!==void 0){r["extract-document-data"]=u["extract-document-data"];continue}else if(u["document-transform"]!==void 0){r["document-transform"]=u["document-transform"];continue}break;case"values":if(u["document-transform"]!==void 0){r["document-transform"]=u["document-transform"];continue}break}throw new Error("unknown slice argument: "+rh(u,!0))}if(a!==null&&o!==0){var d=Fl==="legacy"?a:a+1;d===0&&o===null?r["page-length"]=0:r["page-start"]=d}return o!==null&&(Fl==="legacy"?r["page-length"]=o:r["page-length"]=o-a),r}s(Fk,"makeSliceClause");function $k(t,e){let n=Object.keys(t),r=n.length,a="";for(let o=0;o<r;o++){let l=n[o],u=t[l];Array.isArray(u)||(u=[u]);let f=u.map(d=>{let g=d.value,v=null;if(g===void 0)v=l,g=d;else{let w=d.type,b=d.lang,S=w!=null;if(S){if(typeof w!="string"&&!(w instanceof String))throw new Error("type must be string");if(w.indexOf(":")>-1)throw new Error("type cannot contain colon - "+w)}let E=b!=null;if(E&&typeof b!="string"&&!(b instanceof String))throw new Error("lang must be string");if(S&&E&&w!=="string")throw new Error("cannot combine type with lang - "+w+" "+b);E?v=l+"@"+b:S?v=l+":"+w:v=l}return encodeURIComponent("bind:"+v)+"="+encodeURIComponent(g)}).join("&");f.length!==0&&(a+=e+f,e==="?"&&(e="&"))}return a}s($k,"makeBindingsParams");ah.exports={addTxidHeaders:Lk,appendItem:Pk,asArray:qk,callbackOn:Ok,convertTransaction:Bk,copyProperties:nh,newRequestOptions:_k,endpointTransform:Ck,identify:rh,Error:ma,extension:Rk,first:Nk,getTxidParam:jk,makeSliceClause:Fk,makeBindingsParams:$k,marshal:Dk,multipartBoundary:Tk,parseJSON:Ll,rootname:Xk,setSliceMode:Mk,Timestamp:Ml,Transaction:Sn,unmarshal:Ik}});var sh=D((xX,ih)=>{"use strict";var Si=require("util");function Jn(t){if(!(this instanceof Jn))return new Jn(t);if(t==null)throw new Error("no logger provided");if(typeof t.debug!="function")throw new Error("logger does not have debug() method");if(typeof t.info!="function")throw new Error("logger does not have info() method");if(typeof t.warn!="function")throw new Error("logger does not have warn() method");if(typeof t.error!="function")throw new Error("logger does not have error() method");this.logger=t,this.isErrorFirst=!1}s(Jn,"DelegatingLogger");Jn.prototype.debug=s(function(){this.logger.debug.apply(this.logger,arguments)},"logDebug");Jn.prototype.info=s(function(){this.logger.info.apply(this.logger,arguments)},"logInfo");Jn.prototype.warn=s(function(){this.logger.warn.apply(this.logger,arguments)},"logWarn");Jn.prototype.error=s(function(){this.logger.error.apply(this.logger,arguments)},"logError");function kn(t){if(!(this instanceof kn))return new kn(t);this.setLevel(t??"silent"),this.isErrorFirst=!1}s(kn,"ConsoleLogger");kn.prototype.setLevel=s(function(e){if(e!=null)switch(e){case"debug":this.level=20;break;case"info":this.level=30;break;case"warn":this.level=40;break;case"error":this.level=50;break;case"silent":this.level=100;break;default:throw new Error("unsupported logging level: "+e)}},"consoleSetLevel");kn.prototype.debug=s(function(){this.level>20||console.log("Debug: "+Si.format.apply(this,arguments))},"consoleDebug");kn.prototype.info=s(function(){this.level>30||console.log("Info: "+Si.format.apply(this,arguments))},"consoleInfo");kn.prototype.warn=s(function(){this.level>40||console.log("Warn: "+Si.format.apply(this,arguments))},"consoleWarn");kn.prototype.error=s(function(){this.level>50||console.log("Error: "+Si.format.apply(this,arguments))},"consoleError");ih.exports={DelegatingLogger:Jn,ConsoleLogger:kn}});var ph=D((AX,uh)=>{var Uk=/(\w+)\s+(.*)/,zk=/([",=])/;function oh(t){var e,n,r,a,o,l,u=0,f=t.split(zk);for(r=0,a=f.length;r<a;r++)if(n=e,e=f[r],!!e.length)switch(u){case 0:o=e.trim(),u=1;continue;case 1:if(e!="=")return"Equal sign was expected after "+o;u=2;continue;case 2:if(e=='"'){l="",u=3;continue}else{this.parms[o]=l=e.trim(),u=9;continue}case 3:if(e=='"'){u=8;continue}else{l+=e,u=3;continue}case 8:if(e=='"'){l+='"',u=3;continue}if(e==","){this.parms[o]=l,u=0;continue}else return"Unexpected token ("+e+") after "+l+'"';continue;case 9:if(e!=",")return"Comma expected after "+l;u=0;continue}switch(u){case 0:case 9:return;case 8:this.parms[o]=l;return;default:return"Unexpected end of www-authenticate value."}}s(oh,"parse_params");function lh(t){var e=t.match(Uk);this.scheme=e[1],this.parms={};var n=this.parse_params(e[2]);n&&(this.scheme="",this.parms={},this.err=n)}s(lh,"Parse_WWW_Authenticate");ch.prototype.parse_params=oh;function ch(t){this.scheme="Digest",this.parms={};var e=this.parse_params(t);e&&(this.scheme="",this.parms={},this.err=e)}s(ch,"Parse_Authentication_Info");lh.prototype.parse_params=oh;uh.exports={WWW_Authenticate:lh,Authentication_Info:ch}});var $l=D((EX,mh)=>{var fh=require("crypto"),kX=fh.createHash("md5");function Qk(t){return fh.createHash("md5").update(t).digest("hex")}s(Qk,"md5");mh.exports=Qk});var hh=D((qX,gh)=>{var dh=$l();function Gk(t,e,n){if(t.is_user_credentials&&typeof t.basic=="function"&&typeof t.digest=="function")return t;var r=n&&n.hide_basic?"":!e&&e!==""?new Buffer(t,"ascii").toString("base64"):new Buffer(t+":"+e,"ascii").toString("base64");function a(){this.username=t}return s(a,"Credentials"),a.prototype.basic=function(){return r},a.prototype.digest=function(o){return dh(!e&&e!==""?t+":"+o:t+":"+o+":"+e)},a.prototype.is_user_credentials=function(){return!0},new a}s(Gk,"user_credentials");gh.exports=Gk});var bh=D((OX,Tr)=>{"use strict";var yh=require("crypto"),PX=yh.createHash("md5"),vh=ph(),da=$l(),Ul=hh(),wh={statusCode:401,headers:{"www-authenticate":'Basic realm="sample"'}};function Wk(t){return("00000000"+t.toString(16)).slice(-8)}s(Wk,"hex8");var xh=s(function(t,e,n){arguments.length==2&&toString.call(e)!="[object String]"&&(n=e,e=null);var r=Ul(t,e),a;n&&toString.call(n.cnonce)=="[object String]"&&(a=n.cnonce),a===void 0&&(a=yh.pseudoRandomBytes(8).toString("hex"));var o=s(function(l){function u(){function f(K){this.err=K}s(f,"note_error");var d=0,g=new vh.WWW_Authenticate(l);if(g.err)return f(g.err);var v=this.parms=g.parms;switch(this.cnonce=a,g.scheme){case"Basic":var w="Basic "+r.basic();this.authorize=function(){return w};return;case"Digest":var b=v.realm;if(!b)return f("Realm not found in www-authenticate header.");var S=r.digest(b),E=v.nonce;if(!E)return f("Nonce not found in www-authenticate header.");var q='Digest username="'+r.username+'", realm="'+b+'", nonce="'+E+'",',P=v.qop;if(P){var R=P.split(","),O,M,j,U;for(j=0,U=R.length;j<U;j++){if(R[j]==="auth"){var G=v.opaque,k=v.algorithm;k?q+=' algorithm="'+k+'",':k="MD5";var Y=k=="MD5-sess"?da(S+":"+E+":"+a):S;this.authorize=function(K,H){var pe=da(K+":"+H);d=d+1;var ge=Wk(d),be=q+' uri="'+H+'", qop=auth, nc='+ge+', cnonce="'+a+'", response="'+da(Y+":"+E+":"+ge+":"+a+":auth:"+pe)+'"';return G&&(be+=', opaque="'+G+'"'),be};return}return f("Server does not accept any supported quality of protection techniques.")}}else{this.authorize=function(K,H){var pe=da(K+":"+H);return q+' uri="'+H+'", response="'+da(S+":"+E+":"+pe)+'",'};return}break;default:return f("Unknown scheme")}}return s(u,"Authenticator"),new u},"parse_header");return o.authenticator=new Yn(r,n),o},"www_authenticator");function Yn(t,e){this.credentials=t,this.options=e,e&&e.sendImmediately&&(this.sendImmediately=!0)}s(Yn,"HigherLevel");Yn.prototype.get_challenge=function(t){if(t.statusCode==401&&"www-authenticate"in t.headers)return this.parse_header||(this.parse_header=xh(this.credentials,this.options)),this.challenge=this.parse_header(t.headers["www-authenticate"]),this.challenge.err};Yn.prototype._challenge=function(){return this.challenge?this.challenge:this.sendImmediately?(this.get_challenge(wh),this.challenge):void 0};Yn.prototype.authentication_string=function(t,e){var n=this._challenge();if(n)return n.err?n.err:n.authorize(t,e)};Yn.prototype.authenticate_headers=function(t,e,n){var r=this._challenge();if(r){if(r.err)return r.err;t.authorization=r.authorize(e,n)}};Yn.prototype.authenticate_request_options=function(t){var e=this._challenge();if(e){if(e.err)return e.err;t.headers||(t.headers={}),t.headers.authorization=e.authorize(t.method,t.path)}};Tr.exports=xh;Tr.exports.parsers=vh;Tr.exports.user_credentials=Ul;Tr.exports.basic_challenge=wh;Tr.exports.authenticator=function(t,e,n){arguments.length==2&&toString.call(e)!="[object String]"&&(n=e,e=null);var r=Ul(t,e);return new Yn(r,n)}});var Sh=D((_X,Ah)=>{"use strict";var Kk=bh();Ah.exports=Kk});var Th=D((RX,Eh)=>{"use strict";function kh(t){if(t==null)return null;try{return require(t)}catch{return null}}s(kh,"library");function Vk(t,e){var n=kh(t);return n==null?null:n[e]}s(Vk,"libraryProperty");Eh.exports={library:kh,libraryProperty:Vk}});var Oh=D((IX,Ph)=>{var qh=require("stream").Readable,DX=require("stream").PassThrough;function it(t){qh.call(this,t),t=t||{},this._streamsActive=!1,this._streamsAdded=!1,this._streams=[],this._currentStream=void 0,this._errorsEmitted=!1,t.head&&(this._head=t.head),t.tail&&(this._tail=t.tail),t.separator&&(this._separator=t.separator)}s(it,"SandwichStream");it.prototype=Object.create(qh.prototype,{constructor:it});it.prototype._read=function(){this._streamsActive||(this._streamsActive=!0,this._pushHead(),this._streamNextStream())};it.prototype.add=function(t){if(!this._streamsActive)this._streamsAdded=!0,this._streams.push(t),t.on("error",this._substreamOnError.bind(this));else throw new Error("SandwichStream error adding new stream while streaming")};it.prototype._substreamOnError=function(t){this._errorsEmitted=!0,this.emit("error",t)};it.prototype._pushHead=function(){this._head&&this.push(this._head)};it.prototype._streamNextStream=function(){this._nextStream()?this._bindCurrentStreamEvents():(this._pushTail(),this.push(null))};it.prototype._nextStream=function(){return this._currentStream=this._streams.shift(),this._currentStream!==void 0};it.prototype._bindCurrentStreamEvents=function(){this._currentStream.on("readable",this._currentStreamOnReadable.bind(this)),this._currentStream.on("end",this._currentStreamOnEnd.bind(this))};it.prototype._currentStreamOnReadable=function(){this.push(this._currentStream.read()||"")};it.prototype._currentStreamOnEnd=function(){this._pushSeparator(),this._streamNextStream()};it.prototype._pushSeparator=function(){this._streams.length>0&&this._separator&&this.push(this._separator)};it.prototype._pushTail=function(){this._tail&&this.push(this._tail)};function Nh(t){var e=new it(t);return e}s(Nh,"sandwichStream");Nh.SandwichStream=it;Ph.exports=Nh});var Ch=D((jX,zl)=>{typeof Object.create=="function"?zl.exports=s(function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))},"inherits"):zl.exports=s(function(e,n){if(n){e.super_=n;var r=s(function(){},"TempCtor");r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}},"inherits")});var tn=D((MX,Gl)=>{try{if(Ql=require("util"),typeof Ql.inherits!="function")throw"";Gl.exports=Ql.inherits}catch{Gl.exports=Ch()}var Ql});var Rh=D((FX,_h)=>{"use strict";var nn=_h.exports=function(t){return t!==null&&typeof t=="object"&&typeof t.pipe=="function"};nn.writable=function(t){return nn(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object"};nn.readable=function(t){return nn(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object"};nn.duplex=function(t){return nn.writable(t)&&nn.readable(t)};nn.transform=function(t){return nn.duplex(t)&&typeof t._transform=="function"&&typeof t._transformState=="object"}});var Ih=D(($X,Dh)=>{var Xh=Oh().SandwichStream,Hk=require("stream"),Jk=tn(),Yk=Rh(),qr=`\r
`;Dh.exports=ga;function ga(t){if(!this instanceof ga)return new ga(t);this.boundary=t||Math.random().toString(36).slice(2),Xh.call(this,{head:"--"+this.boundary+qr,tail:qr+"--"+this.boundary+"--",separator:qr+"--"+this.boundary+qr}),this._add=this.add,this.add=this.addPart}s(ga,"Multipart");Jk(ga,Xh);ga.prototype.addPart=function(t){t=t||{};var e=new Hk.PassThrough;if(t.headers)for(var n in t.headers){var r=t.headers[n];e.write(n+": "+r+qr)}e.write(qr),Yk(t.body)?t.body.pipe(e):e.end(t.body),this._add(e)}});var Wl=D((zX,Bh)=>{Bh.exports=require("stream")});var Uh=D((QX,$h)=>{"use strict";function jh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}s(jh,"ownKeys");function Lh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jh(Object(n),!0).forEach(function(r){Zk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}s(Lh,"_objectSpread");function Zk(t,e,n){return e=Fh(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}s(Zk,"_defineProperty");function e0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}s(e0,"_classCallCheck");function Mh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fh(r.key),r)}}s(Mh,"_defineProperties");function t0(t,e,n){return e&&Mh(t.prototype,e),n&&Mh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}s(t0,"_createClass");function Fh(t){var e=n0(t,"string");return typeof e=="symbol"?e:String(e)}s(Fh,"_toPropertyKey");function n0(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}s(n0,"_toPrimitive");var r0=require("buffer"),ki=r0.Buffer,a0=require("util"),Kl=a0.inspect,i0=Kl&&Kl.custom||"inspect";function s0(t,e,n){ki.prototype.copy.call(t,e,n)}s(s0,"copyBuffer");$h.exports=function(){function t(){e0(this,t),this.head=null,this.tail=null,this.length=0}return s(t,"BufferList"),t0(t,[{key:"push",value:s(function(n){var r={data:n,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length},"push")},{key:"unshift",value:s(function(n){var r={data:n,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length},"unshift")},{key:"shift",value:s(function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}},"shift")},{key:"clear",value:s(function(){this.head=this.tail=null,this.length=0},"clear")},{key:"join",value:s(function(n){if(this.length===0)return"";for(var r=this.head,a=""+r.data;r=r.next;)a+=n+r.data;return a},"join")},{key:"concat",value:s(function(n){if(this.length===0)return ki.alloc(0);for(var r=ki.allocUnsafe(n>>>0),a=this.head,o=0;a;)s0(a.data,r,o),o+=a.data.length,a=a.next;return r},"concat")},{key:"consume",value:s(function(n,r){var a;return n<this.head.data.length?(a=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):n===this.head.data.length?a=this.shift():a=r?this._getString(n):this._getBuffer(n),a},"consume")},{key:"first",value:s(function(){return this.head.data},"first")},{key:"_getString",value:s(function(n){var r=this.head,a=1,o=r.data;for(n-=o.length;r=r.next;){var l=r.data,u=n>l.length?l.length:n;if(u===l.length?o+=l:o+=l.slice(0,n),n-=u,n===0){u===l.length?(++a,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=l.slice(u));break}++a}return this.length-=a,o},"_getString")},{key:"_getBuffer",value:s(function(n){var r=ki.allocUnsafe(n),a=this.head,o=1;for(a.data.copy(r),n-=a.data.length;a=a.next;){var l=a.data,u=n>l.length?l.length:n;if(l.copy(r,r.length-n,0,u),n-=u,n===0){u===l.length?(++o,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=l.slice(u));break}++o}return this.length-=o,r},"_getBuffer")},{key:i0,value:s(function(n,r){return Kl(this,Lh(Lh({},r),{},{depth:0,customInspect:!1}))},"value")}]),t}()});var Hl=D((WX,Qh)=>{"use strict";function o0(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return r||a?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Vl,this,t)):process.nextTick(Vl,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?n._writableState?n._writableState.errorEmitted?process.nextTick(Ei,n):(n._writableState.errorEmitted=!0,process.nextTick(zh,n,o)):process.nextTick(zh,n,o):e?(process.nextTick(Ei,n),e(o)):process.nextTick(Ei,n)}),this)}s(o0,"destroy");function zh(t,e){Vl(t,e),Ei(t)}s(zh,"emitErrorAndCloseNT");function Ei(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}s(Ei,"emitCloseNT");function l0(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}s(l0,"undestroy");function Vl(t,e){t.emit("error",e)}s(Vl,"emitErrorNT");function c0(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}s(c0,"errorOrDestroy");Qh.exports={destroy:o0,undestroy:l0,errorOrDestroy:c0}});var En=D((VX,Kh)=>{"use strict";var Wh={};function wt(t,e,n){n||(n=Error);function r(l,u,f){return typeof e=="string"?e:e(l,u,f)}s(r,"getMessage");let o=class o extends n{constructor(u,f,d){super(r(u,f,d))}};s(o,"NodeError");let a=o;a.prototype.name=n.name,a.prototype.code=t,Wh[t]=a}s(wt,"createErrorType");function Gh(t,e){if(Array.isArray(t)){let n=t.length;return t=t.map(r=>String(r)),n>2?`one of ${e} ${t.slice(0,n-1).join(", ")}, or `+t[n-1]:n===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}s(Gh,"oneOf");function u0(t,e,n){return t.substr(!n||n<0?0:+n,e.length)===e}s(u0,"startsWith");function p0(t,e,n){return(n===void 0||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}s(p0,"endsWith");function f0(t,e,n){return typeof n!="number"&&(n=0),n+e.length>t.length?!1:t.indexOf(e,n)!==-1}s(f0,"includes");wt("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);wt("ERR_INVALID_ARG_TYPE",function(t,e,n){let r;typeof e=="string"&&u0(e,"not ")?(r="must not be",e=e.replace(/^not /,"")):r="must be";let a;if(p0(t," argument"))a=`The ${t} ${r} ${Gh(e,"type")}`;else{let o=f0(t,".")?"property":"argument";a=`The "${t}" ${o} ${r} ${Gh(e,"type")}`}return a+=`. Received type ${typeof n}`,a},TypeError);wt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");wt("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});wt("ERR_STREAM_PREMATURE_CLOSE","Premature close");wt("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});wt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");wt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");wt("ERR_STREAM_WRITE_AFTER_END","write after end");wt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);wt("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);wt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Kh.exports.codes=Wh});var Jl=D((JX,Vh)=>{"use strict";var m0=En().codes.ERR_INVALID_OPT_VALUE;function d0(t,e,n){return t.highWaterMark!=null?t.highWaterMark:e?t[n]:null}s(d0,"highWaterMarkFrom");function g0(t,e,n,r){var a=d0(e,r,n);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var o=r?n:"highWaterMark";throw new m0(o,a)}return Math.floor(a)}return t.objectMode?16:16*1024}s(g0,"getHighWaterMark");Vh.exports={getHighWaterMark:g0}});var Jh=D((ZX,Hh)=>{Hh.exports=require("util").deprecate});var ec=D((eD,ry)=>{"use strict";ry.exports=Ce;function Zh(t){var e=this;this.next=null,this.entry=null,this.finish=function(){$0(e,t)}}s(Zh,"CorkedRequest");var Nr;Ce.WritableState=ya;var h0={deprecate:Jh()},ey=Wl(),qi=require("buffer").Buffer,y0=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function v0(t){return qi.from(t)}s(v0,"_uint8ArrayToBuffer");function w0(t){return qi.isBuffer(t)||t instanceof y0}s(w0,"_isUint8Array");var Zl=Hl(),x0=Jl(),b0=x0.getHighWaterMark,Tn=En().codes,A0=Tn.ERR_INVALID_ARG_TYPE,S0=Tn.ERR_METHOD_NOT_IMPLEMENTED,k0=Tn.ERR_MULTIPLE_CALLBACK,E0=Tn.ERR_STREAM_CANNOT_PIPE,T0=Tn.ERR_STREAM_DESTROYED,q0=Tn.ERR_STREAM_NULL_VALUES,N0=Tn.ERR_STREAM_WRITE_AFTER_END,P0=Tn.ERR_UNKNOWN_ENCODING,Pr=Zl.errorOrDestroy;tn()(Ce,ey);function O0(){}s(O0,"nop");function ya(t,e,n){Nr=Nr||Zn(),t=t||{},typeof n!="boolean"&&(n=e instanceof Nr),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=b0(this,t,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var r=t.decodeStrings===!1;this.decodeStrings=!r,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){B0(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new Zh(this)}s(ya,"WritableState");ya.prototype.getBuffer=s(function(){for(var e=this.bufferedRequest,n=[];e;)n.push(e),e=e.next;return n},"getBuffer");(function(){try{Object.defineProperty(ya.prototype,"buffer",{get:h0.deprecate(s(function(){return this.getBuffer()},"writableStateBufferGetter"),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Ti;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ti=Function.prototype[Symbol.hasInstance],Object.defineProperty(Ce,Symbol.hasInstance,{value:s(function(e){return Ti.call(this,e)?!0:this!==Ce?!1:e&&e._writableState instanceof ya},"value")})):Ti=s(function(e){return e instanceof this},"realHasInstance");function Ce(t){Nr=Nr||Zn();var e=this instanceof Nr;if(!e&&!Ti.call(Ce,this))return new Ce(t);this._writableState=new ya(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),ey.call(this)}s(Ce,"Writable");Ce.prototype.pipe=function(){Pr(this,new E0)};function C0(t,e){var n=new N0;Pr(t,n),process.nextTick(e,n)}s(C0,"writeAfterEnd");function _0(t,e,n,r){var a;return n===null?a=new q0:typeof n!="string"&&!e.objectMode&&(a=new A0("chunk",["string","Buffer"],n)),a?(Pr(t,a),process.nextTick(r,a),!1):!0}s(_0,"validChunk");Ce.prototype.write=function(t,e,n){var r=this._writableState,a=!1,o=!r.objectMode&&w0(t);return o&&!qi.isBuffer(t)&&(t=v0(t)),typeof e=="function"&&(n=e,e=null),o?e="buffer":e||(e=r.defaultEncoding),typeof n!="function"&&(n=O0),r.ending?C0(this,n):(o||_0(this,r,t,n))&&(r.pendingcb++,a=X0(this,r,o,t,e,n)),a};Ce.prototype.cork=function(){this._writableState.corked++};Ce.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&ty(this,t))};Ce.prototype.setDefaultEncoding=s(function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new P0(e);return this._writableState.defaultEncoding=e,this},"setDefaultEncoding");Object.defineProperty(Ce.prototype,"writableBuffer",{enumerable:!1,get:s(function(){return this._writableState&&this._writableState.getBuffer()},"get")});function R0(t,e,n){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=qi.from(e,n)),e}s(R0,"decodeChunk");Object.defineProperty(Ce.prototype,"writableHighWaterMark",{enumerable:!1,get:s(function(){return this._writableState.highWaterMark},"get")});function X0(t,e,n,r,a,o){if(!n){var l=R0(e,r,a);r!==l&&(n=!0,a="buffer",r=l)}var u=e.objectMode?1:r.length;e.length+=u;var f=e.length<e.highWaterMark;if(f||(e.needDrain=!0),e.writing||e.corked){var d=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:a,isBuf:n,callback:o,next:null},d?d.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else Yl(t,e,!1,u,r,a,o);return f}s(X0,"writeOrBuffer");function Yl(t,e,n,r,a,o,l){e.writelen=r,e.writecb=l,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new T0("write")):n?t._writev(a,e.onwrite):t._write(a,o,e.onwrite),e.sync=!1}s(Yl,"doWrite");function D0(t,e,n,r,a){--e.pendingcb,n?(process.nextTick(a,r),process.nextTick(ha,t,e),t._writableState.errorEmitted=!0,Pr(t,r)):(a(r),t._writableState.errorEmitted=!0,Pr(t,r),ha(t,e))}s(D0,"onwriteError");function I0(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}s(I0,"onwriteStateUpdate");function B0(t,e){var n=t._writableState,r=n.sync,a=n.writecb;if(typeof a!="function")throw new k0;if(I0(n),e)D0(t,n,r,e,a);else{var o=ny(n)||t.destroyed;!o&&!n.corked&&!n.bufferProcessing&&n.bufferedRequest&&ty(t,n),r?process.nextTick(Yh,t,n,o,a):Yh(t,n,o,a)}}s(B0,"onwrite");function Yh(t,e,n,r){n||j0(t,e),e.pendingcb--,r(),ha(t,e)}s(Yh,"afterWrite");function j0(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}s(j0,"onwriteDrain");function ty(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,a=new Array(r),o=e.corkedRequestsFree;o.entry=n;for(var l=0,u=!0;n;)a[l]=n,n.isBuf||(u=!1),n=n.next,l+=1;a.allBuffers=u,Yl(t,e,!0,e.length,a,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new Zh(e),e.bufferedRequestCount=0}else{for(;n;){var f=n.chunk,d=n.encoding,g=n.callback,v=e.objectMode?1:f.length;if(Yl(t,e,!1,v,f,d,g),n=n.next,e.bufferedRequestCount--,e.writing)break}n===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}s(ty,"clearBuffer");Ce.prototype._write=function(t,e,n){n(new S0("_write()"))};Ce.prototype._writev=null;Ce.prototype.end=function(t,e,n){var r=this._writableState;return typeof t=="function"?(n=t,t=null,e=null):typeof e=="function"&&(n=e,e=null),t!=null&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||F0(this,r,n),this};Object.defineProperty(Ce.prototype,"writableLength",{enumerable:!1,get:s(function(){return this._writableState.length},"get")});function ny(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}s(ny,"needFinish");function L0(t,e){t._final(function(n){e.pendingcb--,n&&Pr(t,n),e.prefinished=!0,t.emit("prefinish"),ha(t,e)})}s(L0,"callFinal");function M0(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(L0,t,e)):(e.prefinished=!0,t.emit("prefinish")))}s(M0,"prefinish");function ha(t,e){var n=ny(e);if(n&&(M0(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var r=t._readableState;(!r||r.autoDestroy&&r.endEmitted)&&t.destroy()}return n}s(ha,"finishMaybe");function F0(t,e,n){e.ending=!0,ha(t,e),n&&(e.finished?process.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}s(F0,"endWritable");function $0(t,e,n){var r=t.entry;for(t.entry=null;r;){var a=r.callback;e.pendingcb--,a(n),r=r.next}e.corkedRequestsFree.next=t}s($0,"onCorkedFinish");Object.defineProperty(Ce.prototype,"destroyed",{enumerable:!1,get:s(function(){return this._writableState===void 0?!1:this._writableState.destroyed},"get"),set:s(function(e){this._writableState&&(this._writableState.destroyed=e)},"set")});Ce.prototype.destroy=Zl.destroy;Ce.prototype._undestroy=Zl.undestroy;Ce.prototype._destroy=function(t,e){e(t)}});var Zn=D((nD,iy)=>{"use strict";var U0=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};iy.exports=Mt;var ay=rc(),nc=ec();tn()(Mt,ay);for(tc=U0(nc.prototype),Ni=0;Ni<tc.length;Ni++)Pi=tc[Ni],Mt.prototype[Pi]||(Mt.prototype[Pi]=nc.prototype[Pi]);var tc,Pi,Ni;function Mt(t){if(!(this instanceof Mt))return new Mt(t);ay.call(this,t),nc.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",z0)))}s(Mt,"Duplex");Object.defineProperty(Mt.prototype,"writableHighWaterMark",{enumerable:!1,get:s(function(){return this._writableState.highWaterMark},"get")});Object.defineProperty(Mt.prototype,"writableBuffer",{enumerable:!1,get:s(function(){return this._writableState&&this._writableState.getBuffer()},"get")});Object.defineProperty(Mt.prototype,"writableLength",{enumerable:!1,get:s(function(){return this._writableState.length},"get")});function z0(){this._writableState.ended||process.nextTick(Q0,this)}s(z0,"onend");function Q0(t){t.end()}s(Q0,"onEndNT");Object.defineProperty(Mt.prototype,"destroyed",{enumerable:!1,get:s(function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},"get"),set:s(function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)},"set")})});var ly=D((ac,oy)=>{var Oi=require("buffer"),Ft=Oi.Buffer;function sy(t,e){for(var n in t)e[n]=t[n]}s(sy,"copyProps");Ft.from&&Ft.alloc&&Ft.allocUnsafe&&Ft.allocUnsafeSlow?oy.exports=Oi:(sy(Oi,ac),ac.Buffer=er);function er(t,e,n){return Ft(t,e,n)}s(er,"SafeBuffer");er.prototype=Object.create(Ft.prototype);sy(Ft,er);er.from=function(t,e,n){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Ft(t,e,n)};er.alloc=function(t,e,n){if(typeof t!="number")throw new TypeError("Argument must be a number");var r=Ft(t);return e!==void 0?typeof n=="string"?r.fill(e,n):r.fill(e):r.fill(0),r};er.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ft(t)};er.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Oi.SlowBuffer(t)}});var oc=D(uy=>{"use strict";var sc=ly().Buffer,cy=sc.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function G0(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}s(G0,"_normalizeEncoding");function W0(t){var e=G0(t);if(typeof e!="string"&&(sc.isEncoding===cy||!cy(t)))throw new Error("Unknown encoding: "+t);return e||t}s(W0,"normalizeEncoding");uy.StringDecoder=va;function va(t){this.encoding=W0(t);var e;switch(this.encoding){case"utf16le":this.text=Z0,this.end=eE,e=4;break;case"utf8":this.fillLast=H0,e=4;break;case"base64":this.text=tE,this.end=nE,e=3;break;default:this.write=rE,this.end=aE;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=sc.allocUnsafe(e)}s(va,"StringDecoder");va.prototype.write=function(t){if(t.length===0)return"";var e,n;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""};va.prototype.end=Y0;va.prototype.text=J0;va.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function ic(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}s(ic,"utf8CheckByte");function K0(t,e,n){var r=e.length-1;if(r<n)return 0;var a=ic(e[r]);return a>=0?(a>0&&(t.lastNeed=a-1),a):--r<n||a===-2?0:(a=ic(e[r]),a>=0?(a>0&&(t.lastNeed=a-2),a):--r<n||a===-2?0:(a=ic(e[r]),a>=0?(a>0&&(a===2?a=0:t.lastNeed=a-3),a):0))}s(K0,"utf8CheckIncomplete");function V0(t,e,n){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}s(V0,"utf8CheckExtraBytes");function H0(t){var e=this.lastTotal-this.lastNeed,n=V0(this,t,e);if(n!==void 0)return n;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}s(H0,"utf8FillLast");function J0(t,e){var n=K0(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}s(J0,"utf8Text");function Y0(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}s(Y0,"utf8End");function Z0(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}s(Z0,"utf16Text");function eE(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}s(eE,"utf16End");function tE(t,e){var n=(t.length-e)%3;return n===0?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,n===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}s(tE,"base64Text");function nE(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}s(nE,"base64End");function rE(t){return t.toString(this.encoding)}s(rE,"simpleWrite");function aE(t){return t&&t.length?this.write(t):""}s(aE,"simpleEnd")});var Ci=D((oD,my)=>{"use strict";var py=En().codes.ERR_STREAM_PREMATURE_CLOSE;function iE(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];t.apply(this,r)}}}s(iE,"once");function sE(){}s(sE,"noop");function oE(t){return t.setHeader&&typeof t.abort=="function"}s(oE,"isRequest");function fy(t,e,n){if(typeof e=="function")return fy(t,null,e);e||(e={}),n=iE(n||sE);var r=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,o=s(function(){t.writable||u()},"onlegacyfinish"),l=t._writableState&&t._writableState.finished,u=s(function(){a=!1,l=!0,r||n.call(t)},"onfinish"),f=t._readableState&&t._readableState.endEmitted,d=s(function(){r=!1,f=!0,a||n.call(t)},"onend"),g=s(function(S){n.call(t,S)},"onerror"),v=s(function(){var S;if(r&&!f)return(!t._readableState||!t._readableState.ended)&&(S=new py),n.call(t,S);if(a&&!l)return(!t._writableState||!t._writableState.ended)&&(S=new py),n.call(t,S)},"onclose"),w=s(function(){t.req.on("finish",u)},"onrequest");return oE(t)?(t.on("complete",u),t.on("abort",v),t.req?w():t.on("request",w)):a&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",d),t.on("finish",u),e.error!==!1&&t.on("error",g),t.on("close",v),function(){t.removeListener("complete",u),t.removeListener("abort",v),t.removeListener("request",w),t.req&&t.req.removeListener("finish",u),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",u),t.removeListener("end",d),t.removeListener("error",g),t.removeListener("close",v)}}s(fy,"eos");my.exports=fy});var gy=D((cD,dy)=>{"use strict";var _i;function qn(t,e,n){return e=lE(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}s(qn,"_defineProperty");function lE(t){var e=cE(t,"string");return typeof e=="symbol"?e:String(e)}s(lE,"_toPropertyKey");function cE(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}s(cE,"_toPrimitive");var uE=Ci(),Nn=Symbol("lastResolve"),tr=Symbol("lastReject"),wa=Symbol("error"),Ri=Symbol("ended"),nr=Symbol("lastPromise"),lc=Symbol("handlePromise"),rr=Symbol("stream");function Pn(t,e){return{value:t,done:e}}s(Pn,"createIterResult");function pE(t){var e=t[Nn];if(e!==null){var n=t[rr].read();n!==null&&(t[nr]=null,t[Nn]=null,t[tr]=null,e(Pn(n,!1)))}}s(pE,"readAndResolve");function fE(t){process.nextTick(pE,t)}s(fE,"onReadable");function mE(t,e){return function(n,r){t.then(function(){if(e[Ri]){n(Pn(void 0,!0));return}e[lc](n,r)},r)}}s(mE,"wrapForNext");var dE=Object.getPrototypeOf(function(){}),gE=Object.setPrototypeOf((_i={get stream(){return this[rr]},next:s(function(){var e=this,n=this[wa];if(n!==null)return Promise.reject(n);if(this[Ri])return Promise.resolve(Pn(void 0,!0));if(this[rr].destroyed)return new Promise(function(l,u){process.nextTick(function(){e[wa]?u(e[wa]):l(Pn(void 0,!0))})});var r=this[nr],a;if(r)a=new Promise(mE(r,this));else{var o=this[rr].read();if(o!==null)return Promise.resolve(Pn(o,!1));a=new Promise(this[lc])}return this[nr]=a,a},"next")},qn(_i,Symbol.asyncIterator,function(){return this}),qn(_i,"return",s(function(){var e=this;return new Promise(function(n,r){e[rr].destroy(null,function(a){if(a){r(a);return}n(Pn(void 0,!0))})})},"_return")),_i),dE),hE=s(function(e){var n,r=Object.create(gE,(n={},qn(n,rr,{value:e,writable:!0}),qn(n,Nn,{value:null,writable:!0}),qn(n,tr,{value:null,writable:!0}),qn(n,wa,{value:null,writable:!0}),qn(n,Ri,{value:e._readableState.endEmitted,writable:!0}),qn(n,lc,{value:s(function(o,l){var u=r[rr].read();u?(r[nr]=null,r[Nn]=null,r[tr]=null,o(Pn(u,!1))):(r[Nn]=o,r[tr]=l)},"value"),writable:!0}),n));return r[nr]=null,uE(e,function(a){if(a&&a.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=r[tr];o!==null&&(r[nr]=null,r[Nn]=null,r[tr]=null,o(a)),r[wa]=a;return}var l=r[Nn];l!==null&&(r[nr]=null,r[Nn]=null,r[tr]=null,l(Pn(void 0,!0))),r[Ri]=!0}),e.on("readable",fE.bind(null,r)),r},"createReadableStreamAsyncIterator");dy.exports=hE});var wy=D((pD,vy)=>{"use strict";function hy(t,e,n,r,a,o,l){try{var u=t[o](l),f=u.value}catch(d){n(d);return}u.done?e(f):Promise.resolve(f).then(r,a)}s(hy,"asyncGeneratorStep");function yE(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function l(f){hy(o,r,a,l,u,"next",f)}s(l,"_next");function u(f){hy(o,r,a,l,u,"throw",f)}s(u,"_throw"),l(void 0)})}}s(yE,"_asyncToGenerator");function yy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}s(yy,"ownKeys");function vE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yy(Object(n),!0).forEach(function(r){wE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}s(vE,"_objectSpread");function wE(t,e,n){return e=xE(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}s(wE,"_defineProperty");function xE(t){var e=bE(t,"string");return typeof e=="symbol"?e:String(e)}s(xE,"_toPropertyKey");function bE(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}s(bE,"_toPrimitive");var AE=En().codes.ERR_INVALID_ARG_TYPE;function SE(t,e,n){var r;if(e&&typeof e.next=="function")r=e;else if(e&&e[Symbol.asyncIterator])r=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])r=e[Symbol.iterator]();else throw new AE("iterable",["Iterable"],e);var a=new t(vE({objectMode:!0},n)),o=!1;a._read=function(){o||(o=!0,l())};function l(){return u.apply(this,arguments)}s(l,"next");function u(){return u=yE(function*(){try{var f=yield r.next(),d=f.value,g=f.done;g?a.push(null):a.push(yield d)?l():o=!1}catch(v){a.destroy(v)}}),u.apply(this,arguments)}return s(u,"_next2"),a}s(SE,"from");vy.exports=SE});var rc=D((dD,Py)=>{"use strict";Py.exports=he;var Or;he.ReadableState=Sy;var mD=require("events").EventEmitter,Ay=s(function(e,n){return e.listeners(n).length},"EElistenerCount"),ba=Wl(),Xi=require("buffer").Buffer,kE=(typeof global<"u"?global:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function EE(t){return Xi.from(t)}s(EE,"_uint8ArrayToBuffer");function TE(t){return Xi.isBuffer(t)||t instanceof kE}s(TE,"_isUint8Array");var cc=require("util"),oe;cc&&cc.debuglog?oe=cc.debuglog("stream"):oe=s(function(){},"debug");var qE=Uh(),hc=Hl(),NE=Jl(),PE=NE.getHighWaterMark,Di=En().codes,OE=Di.ERR_INVALID_ARG_TYPE,CE=Di.ERR_STREAM_PUSH_AFTER_EOF,_E=Di.ERR_METHOD_NOT_IMPLEMENTED,RE=Di.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Cr,uc,pc;tn()(he,ba);var xa=hc.errorOrDestroy,fc=["error","close","destroy","pause","resume"];function XE(t,e,n){if(typeof t.prependListener=="function")return t.prependListener(e,n);!t._events||!t._events[e]?t.on(e,n):Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]}s(XE,"prependListener");function Sy(t,e,n){Or=Or||Zn(),t=t||{},typeof n!="boolean"&&(n=e instanceof Or),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=PE(this,t,"readableHighWaterMark",n),this.buffer=new qE,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Cr||(Cr=oc().StringDecoder),this.decoder=new Cr(t.encoding),this.encoding=t.encoding)}s(Sy,"ReadableState");function he(t){if(Or=Or||Zn(),!(this instanceof he))return new he(t);var e=this instanceof Or;this._readableState=new Sy(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),ba.call(this)}s(he,"Readable");Object.defineProperty(he.prototype,"destroyed",{enumerable:!1,get:s(function(){return this._readableState===void 0?!1:this._readableState.destroyed},"get"),set:s(function(e){this._readableState&&(this._readableState.destroyed=e)},"set")});he.prototype.destroy=hc.destroy;he.prototype._undestroy=hc.undestroy;he.prototype._destroy=function(t,e){e(t)};he.prototype.push=function(t,e){var n=this._readableState,r;return n.objectMode?r=!0:typeof t=="string"&&(e=e||n.defaultEncoding,e!==n.encoding&&(t=Xi.from(t,e),e=""),r=!0),ky(this,t,e,!1,r)};he.prototype.unshift=function(t){return ky(this,t,null,!0,!1)};function ky(t,e,n,r,a){oe("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,BE(t,o);else{var l;if(a||(l=DE(o,e)),l)xa(t,l);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Xi.prototype&&(e=EE(e)),r)o.endEmitted?xa(t,new RE):mc(t,o,e,!0);else if(o.ended)xa(t,new CE);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!n?(e=o.decoder.write(e),o.objectMode||e.length!==0?mc(t,o,e,!1):gc(t,o)):mc(t,o,e,!1)}else r||(o.reading=!1,gc(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}s(ky,"readableAddChunk");function mc(t,e,n,r){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&Ii(t)),gc(t,e)}s(mc,"addChunk");function DE(t,e){var n;return!TE(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(n=new OE("chunk",["string","Buffer","Uint8Array"],e)),n}s(DE,"chunkInvalid");he.prototype.isPaused=function(){return this._readableState.flowing===!1};he.prototype.setEncoding=function(t){Cr||(Cr=oc().StringDecoder);var e=new Cr(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";n!==null;)r+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),r!==""&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var xy=1073741824;function IE(t){return t>=xy?t=xy:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}s(IE,"computeNewHighWaterMark");function by(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=IE(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}s(by,"howMuchToRead");he.prototype.read=function(t){oe("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return oe("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?dc(this):Ii(this),null;if(t=by(t,e),t===0&&e.ended)return e.length===0&&dc(this),null;var r=e.needReadable;oe("need readable",r),(e.length===0||e.length-t<e.highWaterMark)&&(r=!0,oe("length less than watermark",r)),e.ended||e.reading?(r=!1,oe("reading or ended",r)):r&&(oe("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=by(n,e)));var a;return t>0?a=qy(t,e):a=null,a===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&dc(this)),a!==null&&this.emit("data",a),a};function BE(t,e){if(oe("onEofChunk"),!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?Ii(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,Ey(t)))}}s(BE,"onEofChunk");function Ii(t){var e=t._readableState;oe("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(oe("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(Ey,t))}s(Ii,"emitReadable");function Ey(t){var e=t._readableState;oe("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,yc(t)}s(Ey,"emitReadable_");function gc(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(jE,t,e))}s(gc,"maybeReadMore");function jE(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var n=e.length;if(oe("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}s(jE,"maybeReadMore_");he.prototype._read=function(t){xa(this,new _E("_read()"))};he.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t);break}r.pipesCount+=1,oe("pipe count=%d opts=%j",r.pipesCount,e);var a=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=a?u:E;r.endEmitted?process.nextTick(o):n.once("end",o),t.on("unpipe",l);function l(q,P){oe("onunpipe"),q===n&&P&&P.hasUnpiped===!1&&(P.hasUnpiped=!0,g())}s(l,"onunpipe");function u(){oe("onend"),t.end()}s(u,"onend");var f=LE(n);t.on("drain",f);var d=!1;function g(){oe("cleanup"),t.removeListener("close",b),t.removeListener("finish",S),t.removeListener("drain",f),t.removeListener("error",w),t.removeListener("unpipe",l),n.removeListener("end",u),n.removeListener("end",E),n.removeListener("data",v),d=!0,r.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&f()}s(g,"cleanup"),n.on("data",v);function v(q){oe("ondata");var P=t.write(q);oe("dest.write",P),P===!1&&((r.pipesCount===1&&r.pipes===t||r.pipesCount>1&&Ny(r.pipes,t)!==-1)&&!d&&(oe("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}s(v,"ondata");function w(q){oe("onerror",q),E(),t.removeListener("error",w),Ay(t,"error")===0&&xa(t,q)}s(w,"onerror"),XE(t,"error",w);function b(){t.removeListener("finish",S),E()}s(b,"onclose"),t.once("close",b);function S(){oe("onfinish"),t.removeListener("close",b),E()}s(S,"onfinish"),t.once("finish",S);function E(){oe("unpipe"),n.unpipe(t)}return s(E,"unpipe"),t.emit("pipe",n),r.flowing||(oe("pipe resume"),n.resume()),t};function LE(t){return s(function(){var n=t._readableState;oe("pipeOnDrain",n.awaitDrain),n.awaitDrain&&n.awaitDrain--,n.awaitDrain===0&&Ay(t,"data")&&(n.flowing=!0,yc(t))},"pipeOnDrainFunctionResult")}s(LE,"pipeOnDrain");he.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,a=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<a;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var l=Ny(e.pipes,t);return l===-1?this:(e.pipes.splice(l,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)};he.prototype.on=function(t,e){var n=ba.prototype.on.call(this,t,e),r=this._readableState;return t==="data"?(r.readableListening=this.listenerCount("readable")>0,r.flowing!==!1&&this.resume()):t==="readable"&&!r.endEmitted&&!r.readableListening&&(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,oe("on readable",r.length,r.reading),r.length?Ii(this):r.reading||process.nextTick(ME,this)),n};he.prototype.addListener=he.prototype.on;he.prototype.removeListener=function(t,e){var n=ba.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(Ty,this),n};he.prototype.removeAllListeners=function(t){var e=ba.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(Ty,this),e};function Ty(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}s(Ty,"updateReadableListening");function ME(t){oe("readable nexttick read 0"),t.read(0)}s(ME,"nReadingNextTick");he.prototype.resume=function(){var t=this._readableState;return t.flowing||(oe("resume"),t.flowing=!t.readableListening,FE(this,t)),t.paused=!1,this};function FE(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick($E,t,e))}s(FE,"resume");function $E(t,e){oe("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),yc(t),e.flowing&&!e.reading&&t.read(0)}s($E,"resume_");he.prototype.pause=function(){return oe("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(oe("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function yc(t){var e=t._readableState;for(oe("flow",e.flowing);e.flowing&&t.read()!==null;);}s(yc,"flow");he.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;t.on("end",function(){if(oe("wrapped end"),n.decoder&&!n.ended){var l=n.decoder.end();l&&l.length&&e.push(l)}e.push(null)}),t.on("data",function(l){if(oe("wrapped data"),n.decoder&&(l=n.decoder.write(l)),!(n.objectMode&&l==null)&&!(!n.objectMode&&(!l||!l.length))){var u=e.push(l);u||(r=!0,t.pause())}});for(var a in t)this[a]===void 0&&typeof t[a]=="function"&&(this[a]=s(function(u){return s(function(){return t[u].apply(t,arguments)},"methodWrapReturnFunction")},"methodWrap")(a));for(var o=0;o<fc.length;o++)t.on(fc[o],this.emit.bind(this,fc[o]));return this._read=function(l){oe("wrapped _read",l),r&&(r=!1,t.resume())},this};typeof Symbol=="function"&&(he.prototype[Symbol.asyncIterator]=function(){return uc===void 0&&(uc=gy()),uc(this)});Object.defineProperty(he.prototype,"readableHighWaterMark",{enumerable:!1,get:s(function(){return this._readableState.highWaterMark},"get")});Object.defineProperty(he.prototype,"readableBuffer",{enumerable:!1,get:s(function(){return this._readableState&&this._readableState.buffer},"get")});Object.defineProperty(he.prototype,"readableFlowing",{enumerable:!1,get:s(function(){return this._readableState.flowing},"get"),set:s(function(e){this._readableState&&(this._readableState.flowing=e)},"set")});he._fromList=qy;Object.defineProperty(he.prototype,"readableLength",{enumerable:!1,get:s(function(){return this._readableState.length},"get")});function qy(t,e){if(e.length===0)return null;var n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(e.decoder?n=e.buffer.join(""):e.buffer.length===1?n=e.buffer.first():n=e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n}s(qy,"fromList");function dc(t){var e=t._readableState;oe("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(UE,e,t))}s(dc,"endReadable");function UE(t,e){if(oe("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}s(UE,"endReadableNT");typeof Symbol=="function"&&(he.from=function(t,e){return pc===void 0&&(pc=wy()),pc(he,t,e)});function Ny(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}s(Ny,"indexOf")});var vc=D((hD,Cy)=>{"use strict";Cy.exports=rn;var Bi=En().codes,zE=Bi.ERR_METHOD_NOT_IMPLEMENTED,QE=Bi.ERR_MULTIPLE_CALLBACK,GE=Bi.ERR_TRANSFORM_ALREADY_TRANSFORMING,WE=Bi.ERR_TRANSFORM_WITH_LENGTH_0,ji=Zn();tn()(rn,ji);function KE(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit("error",new QE);n.writechunk=null,n.writecb=null,e!=null&&this.push(e),r(t);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}s(KE,"afterTransform");function rn(t){if(!(this instanceof rn))return new rn(t);ji.call(this,t),this._transformState={afterTransform:KE.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",VE)}s(rn,"Transform");function VE(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,n){Oy(t,e,n)}):Oy(this,null,null)}s(VE,"prefinish");rn.prototype.push=function(t,e){return this._transformState.needTransform=!1,ji.prototype.push.call(this,t,e)};rn.prototype._transform=function(t,e,n){n(new zE("_transform()"))};rn.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var a=this._readableState;(r.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}};rn.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};rn.prototype._destroy=function(t,e){ji.prototype._destroy.call(this,t,function(n){e(n)})};function Oy(t,e,n){if(e)return t.emit("error",e);if(n!=null&&t.push(n),t._writableState.length)throw new WE;if(t._transformState.transforming)throw new GE;return t.push(null)}s(Oy,"done")});var Xy=D((vD,Ry)=>{"use strict";Ry.exports=Aa;var _y=vc();tn()(Aa,_y);function Aa(t){if(!(this instanceof Aa))return new Aa(t);_y.call(this,t)}s(Aa,"PassThrough");Aa.prototype._transform=function(t,e,n){n(null,t)}});var Ly=D((xD,jy)=>{"use strict";var wc;function HE(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}s(HE,"once");var By=En().codes,JE=By.ERR_MISSING_ARGS,YE=By.ERR_STREAM_DESTROYED;function Dy(t){if(t)throw t}s(Dy,"noop");function ZE(t){return t.setHeader&&typeof t.abort=="function"}s(ZE,"isRequest");function eT(t,e,n,r){r=HE(r);var a=!1;t.on("close",function(){a=!0}),wc===void 0&&(wc=Ci()),wc(t,{readable:e,writable:n},function(l){if(l)return r(l);a=!0,r()});var o=!1;return function(l){if(!a&&!o){if(o=!0,ZE(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();r(l||new YE("pipe"))}}}s(eT,"destroyer");function Iy(t){t()}s(Iy,"call");function tT(t,e){return t.pipe(e)}s(tT,"pipe");function nT(t){return!t.length||typeof t[t.length-1]!="function"?Dy:t.pop()}s(nT,"popCallback");function rT(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=nT(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new JE("streams");var a,o=e.map(function(l,u){var f=u<e.length-1,d=u>0;return eT(l,f,d,function(g){a||(a=g),g&&o.forEach(Iy),!f&&(o.forEach(Iy),r(a))})});return e.reduce(tT)}s(rT,"pipeline");jy.exports=rT});var Li=D((xt,ka)=>{var Sa=require("stream");process.env.READABLE_STREAM==="disable"&&Sa?(ka.exports=Sa.Readable,Object.assign(ka.exports,Sa),ka.exports.Stream=Sa):(xt=ka.exports=rc(),xt.Stream=Sa||xt,xt.Readable=xt,xt.Writable=ec(),xt.Duplex=Zn(),xt.Transform=vc(),xt.PassThrough=Xy(),xt.finished=Ci(),xt.pipeline=Ly())});var bc=D((AD,Fi)=>{var{Transform:Mi}=Li();function aT(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}s(aT,"inherits");function xc(t){return(e,n,r)=>(typeof e=="function"&&(r=n,n=e,e={}),typeof n!="function"&&(n=s((a,o,l)=>l(null,a),"transform")),typeof r!="function"&&(r=null),t(e,n,r))}s(xc,"through2");var iT=xc((t,e,n)=>{let r=new Mi(t);return r._transform=e,n&&(r._flush=n),r}),sT=xc((t,e,n)=>{function r(a){if(!(this instanceof r))return new r(a);this.options=Object.assign({},t,a),Mi.call(this,this.options),this._transform=e,n&&(this._flush=n)}return s(r,"Through2"),aT(r,Mi),r}),oT=xc(function(t,e,n){let r=new Mi(Object.assign({objectMode:!0,highWaterMark:16},t));return r._transform=e,n&&(r._flush=n),r});Fi.exports=iT;Fi.exports.ctor=sT;Fi.exports.obj=oT});var Fy=D((kD,My)=>{var lT=Object.prototype.toString,Ac=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function cT(t){return lT.call(t).slice(8,-1)==="ArrayBuffer"}s(cT,"isArrayBuffer");function uT(t,e,n){e>>>=0;var r=t.byteLength-e;if(r<0)throw new RangeError("'offset' is out of bounds");if(n===void 0)n=r;else if(n>>>=0,n>r)throw new RangeError("'length' is out of bounds");return Ac?Buffer.from(t.slice(e,e+n)):new Buffer(new Uint8Array(t.slice(e,e+n)))}s(uT,"fromArrayBuffer");function pT(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Buffer.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');return Ac?Buffer.from(t,e):new Buffer(t,e)}s(pT,"fromString");function fT(t,e,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return cT(t)?uT(t,e,n):typeof t=="string"?pT(t,e):Ac?Buffer.from(t):new Buffer(t)}s(fT,"bufferFrom");My.exports=fT});var Wy=D(Z=>{var $y=void 0,mT=1e5,ke=function(){var t=Object.prototype.toString,e=Object.prototype.hasOwnProperty;return{Class:function(n){return t.call(n).replace(/^\[object *|\]$/g,"")},HasProperty:function(n,r){return r in n},HasOwnProperty:function(n,r){return e.call(n,r)},IsCallable:function(n){return typeof n=="function"},ToInt32:function(n){return n>>0},ToUint32:function(n){return n>>>0}}}(),dT=Math.LN2,gT=Math.abs,$i=Math.floor,hT=Math.log,yT=Math.min,Pt=Math.pow,vT=Math.round;function Sc(t){if(Uy&&_r){var e=Uy(t),n;for(n=0;n<e.length;n+=1)_r(t,e[n],{value:t[e[n]],writable:!1,enumerable:!1,configurable:!1})}}s(Sc,"configureProperties");var _r;Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}()?_r=Object.defineProperty:_r=s(function(t,e,n){if(!t===Object(t))throw new TypeError("Object.defineProperty called on non-object");return ke.HasProperty(n,"get")&&Object.prototype.__defineGetter__&&Object.prototype.__defineGetter__.call(t,e,n.get),ke.HasProperty(n,"set")&&Object.prototype.__defineSetter__&&Object.prototype.__defineSetter__.call(t,e,n.set),ke.HasProperty(n,"value")&&(t[e]=n.value),t},"defineProp");var Uy=Object.getOwnPropertyNames||function(t){if(t!==Object(t))throw new TypeError("Object.getOwnPropertyNames called on non-object");var e=[],n;for(n in t)ke.HasOwnProperty(t,n)&&e.push(n);return e};function wT(t){if(!_r)return;if(t.length>mT)throw new RangeError("Array too large for polyfill");function e(r){_r(t,r,{get:function(){return t._getter(r)},set:function(a){t._setter(r,a)},enumerable:!0,configurable:!1})}s(e,"makeArrayAccessor");var n;for(n=0;n<t.length;n+=1)e(n)}s(wT,"makeArrayAccessors");function kc(t,e){var n=32-e;return t<<n>>n}s(kc,"as_signed");function Ec(t,e){var n=32-e;return t<<n>>>n}s(Ec,"as_unsigned");function xT(t){return[t&255]}s(xT,"packI8");function bT(t){return kc(t[0],8)}s(bT,"unpackI8");function AT(t){return[t&255]}s(AT,"packU8");function zy(t){return Ec(t[0],8)}s(zy,"unpackU8");function ST(t){return t=vT(Number(t)),[t<0?0:t>255?255:t&255]}s(ST,"packU8Clamped");function kT(t){return[t>>8&255,t&255]}s(kT,"packI16");function ET(t){return kc(t[0]<<8|t[1],16)}s(ET,"unpackI16");function TT(t){return[t>>8&255,t&255]}s(TT,"packU16");function qT(t){return Ec(t[0]<<8|t[1],16)}s(qT,"unpackU16");function NT(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]}s(NT,"packI32");function PT(t){return kc(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}s(PT,"unpackI32");function OT(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]}s(OT,"packU32");function CT(t){return Ec(t[0]<<24|t[1]<<16|t[2]<<8|t[3],32)}s(CT,"unpackU32");function Qy(t,e,n){var r=(1<<e-1)-1,a,o,l,u,f,d,g,v;function w(b){var S=$i(b),E=b-S;return E<.5?S:E>.5||S%2?S+1:S}for(s(w,"roundToEven"),t!==t?(o=(1<<e)-1,l=Pt(2,n-1),a=0):t===1/0||t===-1/0?(o=(1<<e)-1,l=0,a=t<0?1:0):t===0?(o=0,l=0,a=1/t===-1/0?1:0):(a=t<0,t=gT(t),t>=Pt(2,1-r)?(o=yT($i(hT(t)/dT),1023),l=w(t/Pt(2,o)*Pt(2,n)),l/Pt(2,n)>=2&&(o=o+1,l=1),o>r?(o=(1<<e)-1,l=0):(o=o+r,l=l-Pt(2,n))):(o=0,l=w(t/Pt(2,1-r-n)))),d=[],f=n;f;f-=1)d.push(l%2?1:0),l=$i(l/2);for(f=e;f;f-=1)d.push(o%2?1:0),o=$i(o/2);for(d.push(a?1:0),d.reverse(),g=d.join(""),v=[];g.length;)v.push(parseInt(g.substring(0,8),2)),g=g.substring(8);return v}s(Qy,"packIEEE754");function Gy(t,e,n){var r=[],a,o,l,u,f,d,g,v;for(a=t.length;a;a-=1)for(l=t[a-1],o=8;o;o-=1)r.push(l%2?1:0),l=l>>1;return r.reverse(),u=r.join(""),f=(1<<e-1)-1,d=parseInt(u.substring(0,1),2)?-1:1,g=parseInt(u.substring(1,1+e),2),v=parseInt(u.substring(1+e),2),g===(1<<e)-1?v!==0?NaN:d*(1/0):g>0?d*Pt(2,g-f)*(1+v/Pt(2,n)):v!==0?d*Pt(2,-(f-1))*(v/Pt(2,n)):d<0?-0:0}s(Gy,"unpackIEEE754");function _T(t){return Gy(t,11,52)}s(_T,"unpackF64");function RT(t){return Qy(t,11,52)}s(RT,"packF64");function XT(t){return Gy(t,8,23)}s(XT,"unpackF32");function DT(t){return Qy(t,8,23)}s(DT,"packF32");(function(){var t=s(function(b){if(b=ke.ToInt32(b),b<0)throw new RangeError("ArrayBuffer size is not a small enough positive integer");this.byteLength=b,this._bytes=[],this._bytes.length=b;var S;for(S=0;S<this.byteLength;S+=1)this._bytes[S]=0;Sc(this)},"ArrayBuffer");Z.ArrayBuffer=Z.ArrayBuffer||t;var e=s(function(){},"ArrayBufferView");function n(w,b,S){var E;return E=s(function(q,P,R){var O,M,j,U;if(!arguments.length||typeof arguments[0]=="number"){if(this.length=ke.ToInt32(arguments[0]),R<0)throw new RangeError("ArrayBufferView size is not a small enough positive integer");this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0}else if(typeof arguments[0]=="object"&&arguments[0].constructor===E)for(O=arguments[0],this.length=O.length,this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0,j=0;j<this.length;j+=1)this._setter(j,O._getter(j));else if(typeof arguments[0]=="object"&&!(arguments[0]instanceof t||ke.Class(arguments[0])==="ArrayBuffer"))for(M=arguments[0],this.length=ke.ToUint32(M.length),this.byteLength=this.length*this.BYTES_PER_ELEMENT,this.buffer=new t(this.byteLength),this.byteOffset=0,j=0;j<this.length;j+=1)U=M[j],this._setter(j,Number(U));else if(typeof arguments[0]=="object"&&(arguments[0]instanceof t||ke.Class(arguments[0])==="ArrayBuffer")){if(this.buffer=q,this.byteOffset=ke.ToUint32(P),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(this.byteOffset%this.BYTES_PER_ELEMENT)throw new RangeError("ArrayBuffer length minus the byteOffset is not a multiple of the element size.");if(arguments.length<3){if(this.byteLength=this.buffer.byteLength-this.byteOffset,this.byteLength%this.BYTES_PER_ELEMENT)throw new RangeError("length of buffer minus byteOffset not a multiple of the element size");this.length=this.byteLength/this.BYTES_PER_ELEMENT}else this.length=ke.ToUint32(R),this.byteLength=this.length*this.BYTES_PER_ELEMENT;if(this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer")}else throw new TypeError("Unexpected argument type(s)");this.constructor=E,Sc(this),wT(this)},"ctor"),E.prototype=new e,E.prototype.BYTES_PER_ELEMENT=w,E.prototype._pack=b,E.prototype._unpack=S,E.BYTES_PER_ELEMENT=w,E.prototype._getter=function(q){if(arguments.length<1)throw new SyntaxError("Not enough arguments");if(q=ke.ToUint32(q),q>=this.length)return $y;var P=[],R,O;for(R=0,O=this.byteOffset+q*this.BYTES_PER_ELEMENT;R<this.BYTES_PER_ELEMENT;R+=1,O+=1)P.push(this.buffer._bytes[O]);return this._unpack(P)},E.prototype.get=E.prototype._getter,E.prototype._setter=function(q,P){if(arguments.length<2)throw new SyntaxError("Not enough arguments");if(q=ke.ToUint32(q),q>=this.length)return $y;var R=this._pack(P),O,M;for(O=0,M=this.byteOffset+q*this.BYTES_PER_ELEMENT;O<this.BYTES_PER_ELEMENT;O+=1,M+=1)this.buffer._bytes[M]=R[O]},E.prototype.set=function(q,P){if(arguments.length<1)throw new SyntaxError("Not enough arguments");var R,O,M,j,U,G,k,Y,K,H;if(typeof arguments[0]=="object"&&arguments[0].constructor===this.constructor){if(R=arguments[0],M=ke.ToUint32(arguments[1]),M+R.length>this.length)throw new RangeError("Offset plus length of array is out of range");if(Y=this.byteOffset+M*this.BYTES_PER_ELEMENT,K=R.length*this.BYTES_PER_ELEMENT,R.buffer===this.buffer){for(H=[],U=0,G=R.byteOffset;U<K;U+=1,G+=1)H[U]=R.buffer._bytes[G];for(U=0,k=Y;U<K;U+=1,k+=1)this.buffer._bytes[k]=H[U]}else for(U=0,G=R.byteOffset,k=Y;U<K;U+=1,G+=1,k+=1)this.buffer._bytes[k]=R.buffer._bytes[G]}else if(typeof arguments[0]=="object"&&typeof arguments[0].length<"u"){if(O=arguments[0],j=ke.ToUint32(O.length),M=ke.ToUint32(arguments[1]),M+j>this.length)throw new RangeError("Offset plus length of array is out of range");for(U=0;U<j;U+=1)G=O[U],this._setter(M+U,Number(G))}else throw new TypeError("Unexpected argument type(s)")},E.prototype.subarray=function(q,P){function R(M,j,U){return M<j?j:M>U?U:M}s(R,"clamp"),q=ke.ToInt32(q),P=ke.ToInt32(P),arguments.length<1&&(q=0),arguments.length<2&&(P=this.length),q<0&&(q=this.length+q),P<0&&(P=this.length+P),q=R(q,0,this.length),P=R(P,0,this.length);var O=P-q;return O<0&&(O=0),new this.constructor(this.buffer,this.byteOffset+q*this.BYTES_PER_ELEMENT,O)},E}s(n,"makeConstructor");var r=n(1,xT,bT),a=n(1,AT,zy),o=n(1,ST,zy),l=n(2,kT,ET),u=n(2,TT,qT),f=n(4,NT,PT),d=n(4,OT,CT),g=n(4,DT,XT),v=n(8,RT,_T);Z.Int8Array=Z.Int8Array||r,Z.Uint8Array=Z.Uint8Array||a,Z.Uint8ClampedArray=Z.Uint8ClampedArray||o,Z.Int16Array=Z.Int16Array||l,Z.Uint16Array=Z.Uint16Array||u,Z.Int32Array=Z.Int32Array||f,Z.Uint32Array=Z.Uint32Array||d,Z.Float32Array=Z.Float32Array||g,Z.Float64Array=Z.Float64Array||v})();(function(){function t(o,l){return ke.IsCallable(o.get)?o.get(l):o[l]}s(t,"r");var e=function(){var o=new Z.Uint16Array([4660]),l=new Z.Uint8Array(o.buffer);return t(l,0)===18}(),n=s(function(l,u,f){if(arguments.length===0)l=new Z.ArrayBuffer(0);else if(!(l instanceof Z.ArrayBuffer||ke.Class(l)==="ArrayBuffer"))throw new TypeError("TypeError");if(this.buffer=l||new Z.ArrayBuffer(0),this.byteOffset=ke.ToUint32(u),this.byteOffset>this.buffer.byteLength)throw new RangeError("byteOffset out of range");if(arguments.length<3?this.byteLength=this.buffer.byteLength-this.byteOffset:this.byteLength=ke.ToUint32(f),this.byteOffset+this.byteLength>this.buffer.byteLength)throw new RangeError("byteOffset and length reference an area beyond the end of the buffer");Sc(this)},"DataView");function r(o){return function(l,u){if(l=ke.ToUint32(l),l+o.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");l+=this.byteOffset;var f=new Z.Uint8Array(this.buffer,l,o.BYTES_PER_ELEMENT),d=[],g;for(g=0;g<o.BYTES_PER_ELEMENT;g+=1)d.push(t(f,g));return!!u==!!e&&d.reverse(),t(new o(new Z.Uint8Array(d).buffer),0)}}s(r,"makeGetter"),n.prototype.getUint8=r(Z.Uint8Array),n.prototype.getInt8=r(Z.Int8Array),n.prototype.getUint16=r(Z.Uint16Array),n.prototype.getInt16=r(Z.Int16Array),n.prototype.getUint32=r(Z.Uint32Array),n.prototype.getInt32=r(Z.Int32Array),n.prototype.getFloat32=r(Z.Float32Array),n.prototype.getFloat64=r(Z.Float64Array);function a(o){return function(l,u,f){if(l=ke.ToUint32(l),l+o.BYTES_PER_ELEMENT>this.byteLength)throw new RangeError("Array index out of range");var d=new o([u]),g=new Z.Uint8Array(d.buffer),v=[],w,b;for(w=0;w<o.BYTES_PER_ELEMENT;w+=1)v.push(t(g,w));!!f==!!e&&v.reverse(),b=new Z.Uint8Array(this.buffer,l,o.BYTES_PER_ELEMENT),b.set(v)}}s(a,"makeSetter"),n.prototype.setUint8=a(Z.Uint8Array),n.prototype.setInt8=a(Z.Int8Array),n.prototype.setUint16=a(Z.Uint16Array),n.prototype.setInt16=a(Z.Int16Array),n.prototype.setUint32=a(Z.Uint32Array),n.prototype.setInt32=a(Z.Int32Array),n.prototype.setFloat32=a(Z.Float32Array),n.prototype.setFloat64=a(Z.Float64Array),Z.DataView=Z.DataView||n})()});var Jy=D((PD,Hy)=>{var Ky=Li().Writable,IT=tn(),Ea=Fy();typeof Uint8Array>"u"?Ui=Wy().Uint8Array:Ui=Uint8Array;var Ui;function ar(t,e){if(!(this instanceof ar))return new ar(t,e);typeof t=="function"&&(e=t,t={}),t||(t={});var n=t.encoding,r=!1;n?(n=String(n).toLowerCase(),(n==="u8"||n==="uint8")&&(n="uint8array")):r=!0,Ky.call(this,{objectMode:!0}),this.encoding=n,this.shouldInferEncoding=r,e&&this.on("finish",function(){e(this.getBody())}),this.body=[]}s(ar,"ConcatStream");Hy.exports=ar;IT(ar,Ky);ar.prototype._write=function(t,e,n){this.body.push(t),n()};ar.prototype.inferEncoding=function(t){var e=t===void 0?this.body[0]:t;return Buffer.isBuffer(e)?"buffer":typeof Uint8Array<"u"&&e instanceof Uint8Array?"uint8array":Array.isArray(e)?"array":typeof e=="string"?"string":Object.prototype.toString.call(e)==="[object Object]"?"object":"buffer"};ar.prototype.getBody=function(){return!this.encoding&&this.body.length===0?[]:(this.shouldInferEncoding&&(this.encoding=this.inferEncoding()),this.encoding==="array"?MT(this.body):this.encoding==="string"?jT(this.body):this.encoding==="buffer"?LT(this.body):this.encoding==="uint8array"?FT(this.body):this.body)};var ND=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"};function BT(t){return/Array\]$/.test(Object.prototype.toString.call(t))}s(BT,"isArrayish");function Vy(t){return typeof t=="string"||BT(t)||t&&typeof t.subarray=="function"}s(Vy,"isBufferish");function jT(t){for(var e=[],n=!1,r=0;r<t.length;r++){var a=t[r];typeof a=="string"||Buffer.isBuffer(a)?e.push(a):Vy(a)?e.push(Ea(a)):e.push(Ea(String(a)))}return Buffer.isBuffer(t[0])?(e=Buffer.concat(e),e=e.toString("utf8")):e=e.join(""),e}s(jT,"stringConcat");function LT(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];Buffer.isBuffer(r)?e.push(r):Vy(r)?e.push(Ea(r)):e.push(Ea(String(r)))}return Buffer.concat(e)}s(LT,"bufferConcat");function MT(t){for(var e=[],n=0;n<t.length;n++)e.push.apply(e,t[n]);return e}s(MT,"arrayConcat");function FT(t){for(var e=0,n=0;n<t.length;n++)typeof t[n]=="string"&&(t[n]=Ea(t[n])),e+=t[n].length;for(var r=new Ui(e),n=0,a=0;n<t.length;n++)for(var o=t[n],l=0;l<o.length;l++)r[a++]=o[l];return r}s(FT,"u8Concat")});var Zy=D(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});var $T=require("stream"),Yy=-1,Nc=class Nc extends $T.Transform{constructor(e,n=!1){super(),this.buffer=Buffer.alloc(0),this.queue=[],this.delimiter=Buffer.from(e.toString("utf8")),this.incl_delim=n}_transform(e,n,r){this.updateQueue(e),this.pushQueue(),r()}_final(e){this.buffer.length!==0&&(this.updateQueue(this.delimiter),this.pushQueue()),e()}updateQueue(e){let n=Buffer.concat([this.buffer,e]),r,a;do{if(r=n.indexOf(this.delimiter),r===Yy)break;a=r+this.delimiter.length,this.queue.push(n.slice(0,this.incl_delim?a:r)),n=n.slice(a)}while(r!==Yy);this.buffer=n}pushQueue(){for(;!(this.queue.length===0||this.push(this.queue.shift())===!1););}};s(Nc,"DelimitedStream");var Tc=Nc;qc.DelimitedStream=Tc});var tv=D(Rr=>{"use strict";var ev=require("stream"),{DelimitedStream:UT}=Zy(),Pc="";Rr.RS=Pc;var Oc=class Oc extends ev.Transform{constructor(e={}){super({...e,readableObjectMode:!0}),this._stream=new UT(Pc).on("data",n=>{if(n[n.length-1]===10)try{let r=JSON.parse(n);this.push(r)}catch{this.emit("invalid",n)}else this.emit("truncated",n)})}_transform(e,n,r){this._stream.write(e,n,r)}_final(e){this._stream.end(null,null,e)}};s(Oc,"JSONSequenceParser");var zi=Oc;Rr.parser=zi;Rr.Parser=zi;var Cc=class Cc extends ev.Transform{constructor(e={}){super({...e,writableObjectMode:!0})}_transform(e,n,r){let a=null;try{a=JSON.stringify(e)}catch(o){return r(o)}return this.push(`${Pc}${a}
`,"utf8"),r()}};s(Cc,"JSONSequenceGenerator");var Qi=Cc;Rr.generator=Qi;Rr.Generator=Qi});var _c=D((DD,nv)=>{"use strict";var zT=require("events").EventEmitter,QT=require("util").inherits;function ir(t){if(typeof t=="string"&&(t=Buffer.from(t)),!Buffer.isBuffer(t))throw new TypeError("The needle has to be a String or a Buffer.");let e=t.length;if(e===0)throw new Error("The needle cannot be an empty String/Buffer.");if(e>256)throw new Error("The needle cannot have a length bigger than 256.");this.maxMatches=1/0,this.matches=0,this._occ=new Array(256).fill(e),this._lookbehind_size=0,this._needle=t,this._bufpos=0,this._lookbehind=Buffer.alloc(e);for(var n=0;n<e-1;++n)this._occ[t[n]]=e-1-n}s(ir,"SBMH");QT(ir,zT);ir.prototype.reset=function(){this._lookbehind_size=0,this.matches=0,this._bufpos=0};ir.prototype.push=function(t,e){Buffer.isBuffer(t)||(t=Buffer.from(t,"binary"));let n=t.length;this._bufpos=e||0;let r;for(;r!==n&&this.matches<this.maxMatches;)r=this._sbmh_feed(t);return r};ir.prototype._sbmh_feed=function(t){let e=t.length,n=this._needle,r=n.length,a=n[r-1],o=-this._lookbehind_size,l;if(o<0){for(;o<0&&o<=e-r;){if(l=this._sbmh_lookup_char(t,o+r-1),l===a&&this._sbmh_memcmp(t,o,r-1))return this._lookbehind_size=0,++this.matches,this.emit("info",!0),this._bufpos=o+r;o+=this._occ[l]}if(o<0)for(;o<0&&!this._sbmh_memcmp(t,o,e-o);)++o;if(o>=0)this.emit("info",!1,this._lookbehind,0,this._lookbehind_size),this._lookbehind_size=0;else{let u=this._lookbehind_size+o;return u>0&&this.emit("info",!1,this._lookbehind,0,u),this._lookbehind.copy(this._lookbehind,0,u,this._lookbehind_size-u),this._lookbehind_size-=u,t.copy(this._lookbehind,this._lookbehind_size),this._lookbehind_size+=e,this._bufpos=e,e}}if(o+=(o>=0)*this._bufpos,t.indexOf(n,o)!==-1)return o=t.indexOf(n,o),++this.matches,o>0?this.emit("info",!0,t,this._bufpos,o):this.emit("info",!0),this._bufpos=o+r;for(o=e-r;o<e&&(t[o]!==n[0]||Buffer.compare(t.subarray(o,o+e-o),n.subarray(0,e-o))!==0);)++o;return o<e&&(t.copy(this._lookbehind,0,o,o+(e-o)),this._lookbehind_size=e-o),o>0&&this.emit("info",!1,t,this._bufpos,o<e?o:e),this._bufpos=e,e};ir.prototype._sbmh_lookup_char=function(t,e){return e<0?this._lookbehind[this._lookbehind_size+e]:t[e]};ir.prototype._sbmh_memcmp=function(t,e,n){for(var r=0;r<n;++r)if(this._sbmh_lookup_char(t,e+r)!==this._needle[r])return!1;return!0};nv.exports=ir});var iv=D((BD,av)=>{"use strict";var GT=require("util").inherits,rv=require("stream").Readable;function Rc(t){rv.call(this,t)}s(Rc,"PartStream");GT(Rc,rv);Rc.prototype._read=function(t){};av.exports=Rc});var ov=D((LD,sv)=>{"use strict";sv.exports=s(function(e,n,r){if(!e||e[n]===void 0||e[n]===null)return r;if(typeof e[n]!="number"||isNaN(e[n]))throw new TypeError("Limit "+n+" is not a valid number");return e[n]},"getLimit")});var pv=D((FD,uv)=>{"use strict";var cv=require("events").EventEmitter,WT=require("util").inherits,lv=ov(),KT=_c(),VT=Buffer.from(`\r
\r
`),HT=/\r\n/g,JT=/^([^:]+):[ \t]?([\x00-\xFF]+)?$/;function Xr(t){cv.call(this),t=t||{};let e=this;this.nread=0,this.maxed=!1,this.npairs=0,this.maxHeaderPairs=lv(t,"maxHeaderPairs",2e3),this.maxHeaderSize=lv(t,"maxHeaderSize",80*1024),this.buffer="",this.header={},this.finished=!1,this.ss=new KT(VT),this.ss.on("info",function(n,r,a,o){r&&!e.maxed&&(e.nread+o-a>=e.maxHeaderSize?(o=e.maxHeaderSize-e.nread+a,e.nread=e.maxHeaderSize,e.maxed=!0):e.nread+=o-a,e.buffer+=r.toString("binary",a,o)),n&&e._finish()})}s(Xr,"HeaderParser");WT(Xr,cv);Xr.prototype.push=function(t){let e=this.ss.push(t);if(this.finished)return e};Xr.prototype.reset=function(){this.finished=!1,this.buffer="",this.header={},this.ss.reset()};Xr.prototype._finish=function(){this.buffer&&this._parseHeader(),this.ss.matches=this.ss.maxMatches;let t=this.header;this.header={},this.buffer="",this.finished=!0,this.nread=this.npairs=0,this.maxed=!1,this.emit("header",t)};Xr.prototype._parseHeader=function(){if(this.npairs===this.maxHeaderPairs)return;let t=this.buffer.split(HT),e=t.length,n,r;for(var a=0;a<e;++a){if(t[a].length===0)continue;if((t[a][0]==="	"||t[a][0]===" ")&&r){this.header[r][this.header[r].length-1]+=t[a];continue}let o=t[a].indexOf(":");if(o===-1||o===0)return;if(n=JT.exec(t[a]),r=n[1].toLowerCase(),this.header[r]=this.header[r]||[],this.header[r].push(n[2]||""),++this.npairs===this.maxHeaderPairs)break}};uv.exports=Xr});var dv=D((UD,mv)=>{"use strict";var Xc=require("stream").Writable,YT=require("util").inherits,ZT=_c(),fv=iv(),e1=pv(),t1=45,n1=Buffer.from("-"),r1=Buffer.from(`\r
`),a1=s(function(){},"EMPTY_FN");function Ot(t){if(!(this instanceof Ot))return new Ot(t);if(Xc.call(this,t),!t||!t.headerFirst&&typeof t.boundary!="string")throw new TypeError("Boundary required");typeof t.boundary=="string"?this.setBoundary(t.boundary):this._bparser=void 0,this._headerFirst=t.headerFirst,this._dashes=0,this._parts=0,this._finished=!1,this._realFinish=!1,this._isPreamble=!0,this._justMatched=!1,this._firstWrite=!0,this._inHeader=!0,this._part=void 0,this._cb=void 0,this._ignoreData=!1,this._partOpts={highWaterMark:t.partHwm},this._pause=!1;let e=this;this._hparser=new e1(t),this._hparser.on("header",function(n){e._inHeader=!1,e._part.emit("header",n)})}s(Ot,"Dicer");YT(Ot,Xc);Ot.prototype.emit=function(t){if(t==="finish"&&!this._realFinish){if(!this._finished){let e=this;process.nextTick(function(){if(e.emit("error",new Error("Unexpected end of multipart data")),e._part&&!e._ignoreData){let n=e._isPreamble?"Preamble":"Part";e._part.emit("error",new Error(n+" terminated early due to unexpected end of multipart data")),e._part.push(null),process.nextTick(function(){e._realFinish=!0,e.emit("finish"),e._realFinish=!1});return}e._realFinish=!0,e.emit("finish"),e._realFinish=!1})}}else Xc.prototype.emit.apply(this,arguments)};Ot.prototype._write=function(t,e,n){if(!this._hparser&&!this._bparser)return n();if(this._headerFirst&&this._isPreamble){this._part||(this._part=new fv(this._partOpts),this._events.preamble?this.emit("preamble",this._part):this._ignore());let r=this._hparser.push(t);if(!this._inHeader&&r!==void 0&&r<t.length)t=t.slice(r);else return n()}this._firstWrite&&(this._bparser.push(r1),this._firstWrite=!1),this._bparser.push(t),this._pause?this._cb=n:n()};Ot.prototype.reset=function(){this._part=void 0,this._bparser=void 0,this._hparser=void 0};Ot.prototype.setBoundary=function(t){let e=this;this._bparser=new ZT(`\r
--`+t),this._bparser.on("info",function(n,r,a,o){e._oninfo(n,r,a,o)})};Ot.prototype._ignore=function(){this._part&&!this._ignoreData&&(this._ignoreData=!0,this._part.on("error",a1),this._part.resume())};Ot.prototype._oninfo=function(t,e,n,r){let a,o=this,l=0,u,f=!0;if(!this._part&&this._justMatched&&e){for(;this._dashes<2&&n+l<r;)if(e[n+l]===t1)++l,++this._dashes;else{this._dashes&&(a=n1),this._dashes=0;break}if(this._dashes===2&&(n+l<r&&this._events.trailer&&this.emit("trailer",e.slice(n+l,r)),this.reset(),this._finished=!0,o._parts===0&&(o._realFinish=!0,o.emit("finish"),o._realFinish=!1)),this._dashes)return}this._justMatched&&(this._justMatched=!1),this._part||(this._part=new fv(this._partOpts),this._part._read=function(d){o._unpause()},this._isPreamble&&this._events.preamble?this.emit("preamble",this._part):this._isPreamble!==!0&&this._events.part?this.emit("part",this._part):this._ignore(),this._isPreamble||(this._inHeader=!0)),e&&n<r&&!this._ignoreData&&(this._isPreamble||!this._inHeader?(a&&(f=this._part.push(a)),f=this._part.push(e.slice(n,r)),f||(this._pause=!0)):!this._isPreamble&&this._inHeader&&(a&&this._hparser.push(a),u=this._hparser.push(e.slice(n,r)),!this._inHeader&&u!==void 0&&u<r&&this._oninfo(!1,e,n+u,r))),t&&(this._hparser.reset(),this._isPreamble?this._isPreamble=!1:n!==r&&(++this._parts,this._part.on("end",function(){--o._parts===0&&(o._finished?(o._realFinish=!0,o.emit("finish"),o._realFinish=!1):o._unpause())})),this._part.push(null),this._part=void 0,this._ignoreData=!1,this._justMatched=!0,this._dashes=0)};Ot.prototype._unpause=function(){if(this._pause&&(this._pause=!1,this._cb)){let t=this._cb;this._cb=void 0,t()}};mv.exports=Ot});var xv=D((QD,wv)=>{"use strict";var dt=Jy(),hv=tv().parser,Bc=dv(),Dc=bc(),sr=Oe(),gv=et(),{createGunzip:bt}=require("zlib");function i1(t){var e=this;if(s1.call(e,t)){var n=e.outputMode;if(n!=="none"){var r=t.headers["content-type"],a=r===void 0?0:r.length,o=null;if(15<=a&&r.substr(0,15)==="multipart/mixed"){if(o=r.replace(/^multipart.mixed\s*;\s*boundary\s*=\s*([^\s;]+)([\s;].*)?$/,"$1"),o.length===a){e.errorListener("multipart/mixed response without boundary");return}o!==sr.multipartBoundary&&e.logger.debug("expected "+sr.multipartBoundary+" but received "+o+" multipart/mixed boundary")}var l=o!=null,u=l?o:r,f=t.headers["content-length"],d=f!=null&&f==="0",g=e.responseType;e.timestamp!==void 0&&e.timestamp!==null&&e.timestamp.value===null&&t.headers["ml-effective-timestamp"]&&(e.timestamp.value=t.headers["ml-effective-timestamp"]);var v=null;if(l?(g!=="multipart"&&e.logger.debug("expected body but received multipart"),e.onMultipart&&e.onMultipart(t.headers),v=new Cn(e)):20<=a&&r.substr(0,20)==="application/json-seq"?v=new or(e):8<=a&&r.substr(0,8)==="text/csv"?v=new Ta(e):(g==="multipart"&&e.logger.debug("expected multipart but received body"),v=new On(e)),t.on("error",e.errorListener),d)g!=="empty"&&e.logger.debug("expected body or multipart but received empty response"),n==="promise"?v.emptyPromise(t):v.emptyStream(t);else switch(g==="empty"&&e.logger.debug("expected empty response but received body or multipart"),n){case"promise":v.promise(u,t);break;case"chunkedStream":v.chunkedStream(u,t);break;case"objectStream":v.objectStream(u,t);break;case"sequenceStream":v.sequenceStream(u,t);break;default:e.errorListener("unknown output mode "+n);break}}}}s(i1,"responseDispatcher");function Ta(t){if(!(this instanceof Ta))return new Ta(t);this.operation=t}s(Ta,"CSVDispatcher");Ta.prototype.promise=s(function(e,n){var r=this.operation;r.logger.debug("csv promise");var a=s(function(u){r.data=u,an(r,r.resolve)},"collectPromiseBodyObject"),o=r.copyResponseHeaders(n);At(n.headers)?n.pipe(bt()).pipe(dt({encoding:o?"string":"buffer"},a)):n.pipe(dt({encoding:o?"string":"buffer"},a))},"dispatchCSVPromise");Ta.prototype.chunkedStream=s(function(e,n){var r=this.operation;r.logger.debug("csv chunked stream"),At(n.headers)?n.pipe(bt()).pipe(r.outputStream):n.pipe(r.outputStream)},"dispatchCSVChunkedStream");function or(t){if(!(this instanceof or))return new or(t);this.operation=t}s(or,"JSONSeqDispatcher");or.prototype.promise=s(function(e,n){var r=this.operation,a=r.errorListener,o=new Ze(2),l=0;r.logger.debug("json sequence promise");var u=s(function(v){l++,r.logger.debug("json-seq parsing object %d",l),o.addLast(v)},"JSONSeqDataListener"),f=s(function(){r.logger.debug("json-seq finished parsing %d objects",l),r.data=o.getQueue(),an(r,r.resolve),u=null,f=null,d=null,o=null},"JSONSeqFinishListener"),d=new hv().on("data",u).on("truncated",function(g){throw new Error("json-seq truncated data encountered: "+g)}).on("invalid",a).on("finish",f);At(n.headers)?n.pipe(bt()).pipe(d):n.pipe(d)},"dispatchJSONSeqPromise");or.prototype.sequenceStream=s(function(e,n){this.stream("sequence",n)},"dispatchJSONSeqSequenceStream");or.prototype.objectStream=s(function(e,n){this.stream("object",n)},"dispatchJSONSeqObjectStream");or.prototype.stream=s(function(e,n){var r=this.operation,a=r.errorListener,o=r.outputStream,l=0,u=!1,f=!1;r.logger.debug("json sequence stream "+e);var d=s(function(q){l++,r.logger.debug("parsing object %d",l),r.logger.debug(q);var P=null;if(q!=null&&(e==="object"?P=o.write(q):e==="sequence"?P=o.write(""+JSON.stringify(q)+`
`):P=o.write(JSON.stringify(q))),P===!1){f||n.pause();return}},"JSONSeqDataListener"),g=s(function(){u&&f&&(r.logger.debug("finished parsing %d objects",l),d=null,g=null,v=null,w=null,b=null,S=null,o.end())},"JSONSeqFinishListener"),v=s(function(){u=!0,g()},"objectParseFinishListener"),w=s(function(){f=!0,g()},"objectResponseEndListener"),b=s(function(){f||n.resume()},"objectDrainListener"),S=new hv().on("data",d).on("truncated",function(E){throw new Error("truncated data encountered: "+E)}).on("invalid",a).on("finish",v);n.on("end",w),o.on("drain",b),At(n.headers)?n.pipe(bt()).pipe(S):n.pipe(S)},"dispatchJSONSeqStream");function On(t){if(!(this instanceof On))return new On(t);this.operation=t}s(On,"BodyDispatcher");On.prototype.emptyPromise=s(function(e){var n=this.operation;n.logger.debug("empty body promise"),n.data=n.emptyHeaderData(e),an(n,n.resolve)},"dispatchBodyEmptyPromise");On.prototype.emptyStream=s(function(e){var n=this.operation,r=n.emptyHeaderData(e);n.logger.debug("empty body stream");var a=n.outputStream;r!=null&&(n.outputStreamMode==="chunked"?a.write(JSON.stringify(r)):a.write(r)),a.end()},"dispatchBodyEmptyStream");On.prototype.promise=s(function(e,n){var r=this.operation;r.logger.debug("body promise");var a=s(function(u){r.data=r.collectBodyObject(u),an(r,r.resolve)},"collectPromiseBodyObject"),o=r.copyResponseHeaders(n);if(At(n.headers)){let l=bt();n.pipe(l).pipe(dt({encoding:o?"string":"buffer"},a))}else n.pipe(dt({encoding:o?"string":"buffer"},a))},"dispatchBodyPromise");On.prototype.chunkedStream=s(function(e,n){var r=this.operation;r.logger.debug("body chunked stream"),At(n.headers)?n.pipe(bt()).pipe(r.outputStream):n.pipe(r.outputStream)},"dispatchBodyChunkedStream");On.prototype.objectStream=s(function(e,n){var r=this.operation;r.logger.debug("body object stream");var a=r.outputStream,o=s(function(f){var d=r.collectBodyObject(f);d!=null&&a.write(d),a.end()},"collectStreamBodyObject"),l=r.copyResponseHeaders(n);At(n.headers)?n.pipe(bt()).pipe(dt({encoding:l?"string":"buffer"},o)):n.pipe(dt({encoding:l?"string":"buffer"},o))},"dispatchBodyObjectStream");function Cn(t){if(!(this instanceof Cn))return new Cn(t);this.operation=t}s(Cn,"MultipartDispatcher");Cn.prototype.emptyPromise=s(function(e){var n=this.operation,r=n.emptyHeaderData(e);n.logger.debug("empty multipart promise"),n.data=r==null?[]:[r],an(n,n.resolve)},"dispatchMultipartEmptyPromise");Cn.prototype.emptyStream=s(function(e){var n=this.operation,r=n.emptyHeaderData(e);n.logger.debug("empty multipart stream");var a=n.outputStream;r!=null&&(n.outputStreamMode==="chunked"?a.write(JSON.stringify(r)):a.write(r)),a.end()},"dispatchMultipartEmptyStream");Cn.prototype.promise=s(function(e,n){var r=this.operation;if(r.logger.debug("multipart promise"),r.options.headers.Accept==="application/json"&&(r.name.includes("rows")||r.name.includes("query")||r.name.includes("/v1/rows"))){n.headers["content-encoding"]!=="gzip"&&n.setEncoding("utf8");let M=At(n.headers)?n.pipe(bt()):n,j="";M.on("data",function(U){j+=U}),M.on("end",function(){n.pipe(dt({encoding:"json"},()=>{let U=JSON.parse(j);r.data=U,an(r,r.resolve)}))});return}var o=r.errorListener,l=new Ze(2),u=new Ze(2),f=new Ze(3),d=0,g=0,v=!1,w=!1,b=s(function(){if(r.nextMetadataBuffer!==null){var j=r.nextMetadataBuffer[0];sr.copyProperties(r.nextMetadataBuffer[1],j),u.addLast(j)}r.logger.debug("ending multipart promise"),r.data=u.getQueue(),an(r,r.resolve),S=null,E=null,q=null,P=null,R=null,O=null,l=null,u=null,f=null,b=null},"promiseResponseFinisher"),S=s(function(j){g++,r.logger.debug("parsed part %d",g),f.removeFirst();var U=r.makeObject(j.length===0?null:j,l);if(U!=null&&u.addLast(U),f.hasItem()){var G=dt(S);G.on("error",o);var k=f.getFirst();k.pipe(G)}else v&&b()},"promisePartFinisher"),E=s(function(j){r.logger.debug("queued header %d %j",d,j),l.addLast(j)},"promisePartHeadersListener"),q=s(function(j){if(d++,r.logger.debug("parsing part %d",d),j.on("header",E),j.on("error",o),f.addLast(j),f.isLast()){var U=dt(S);U.on("error",o),j.pipe(U)}},"promisePartListener"),P=s(function(){r.logger.debug("parse finished at part %d of %d",g,d),v=!0,f.hasItem()||b()},"promiseParseFinishListener"),R=s(function(){w=!0},"promiseResponseEndListener"),O=new Bc({boundary:e});O.on("part",q),O.on("error",o),O.on("finish",P),n.on("end",R),At(n.headers)?n.pipe(bt()).pipe(O):n.pipe(O)},"dispatchMultipartPromise");Cn.prototype.chunkedStream=s(function(e,n){var r=this.operation;r.logger.debug("multipart chunked stream");var a=r.errorListener,o=r.outputStream,l=new Ze(3),u=!1,f=!1,d=s(function(){o.end(),o=null,g=null,v=null,S=null,w=null,b=null,d=null},"chunkedResponseFinisher"),g=s(function(){if(l.removeFirst(),l.hasItem()){var q=l.getFirst();q.pipe(o,{end:!1})}else u&&d()},"chunkedPartEndListener"),v=s(function(q){q.on("error",a),q.on("end",g),l.addLast(q),l.isLast()&&q.pipe(o,{end:!1})},"chunkedPartListener"),w=s(function(){r.logger.debug("parse finished"),u=!0,l.hasItem()||d()},"chunkedParseFinishListener"),b=s(function(){f=!0},"chunkedResponseEndListener"),S=new Bc({boundary:e});S.on("part",v),S.on("error",a),S.on("finish",w),n.on("end",b),At(n.headers)?n.pipe(bt()).pipe(S):n.pipe(S)},"dispatchMultipartChunkedStream");Cn.prototype.objectStream=s(function(e,n){var r=this.operation;r.logger.debug("multipart object stream");var a=r.errorListener,o=new Ze(5),l=new Ze(3),u=null,f=0,d=0,g=!1,v=!1,w=!1,b=s(function(){if(!l.hasItem()&&g&&v){if(r.complexValues==="reference")u!==null&&(r.outputStream.write(u),u=null);else if(r.nextMetadataBuffer!==null){var U=r.nextMetadataBuffer[0];sr.copyProperties(r.nextMetadataBuffer[1],U),r.outputStream.write(U),r.nextMetadataBuffer=null}o=null,M=null,E=null,q=null,P=null,R=null,r.outputStream.end()}},"objectResponseFinisher"),S=s(function(U){d++,r.logger.debug("parsed part %d",d);var G=r.makeObject(U.length===0?null:U,o),k=null;if(r.complexValues==="reference"){if(G!=null)if(G.kind==="columns")k=r.outputStream.write(G);else if(G.kind==="row")u===null||(k=r.outputStream.write(u)),u=G;else{var Y=G.contentId.slice(0,G.contentId.lastIndexOf("["));u.content[Y]={contentType:G.contentType,format:G.format,content:G.content}}}else G!=null&&(k=r.outputStream.write(G));if(k===!1){g&&!l.hasItem()?b():v||n.pause();return}if(l.removeFirst(),w=!1,l.hasItem()){w=!0;var K=dt(S);K.on("error",a);var H=l.getFirst();H.pipe(K)}else g&&b()},"objectPartFinisher"),E=s(function(U){r.logger.debug("queued header"),o.addLast(U)},"objectPartHeadersListener"),q=s(function(U){if(f++,r.logger.debug("parsing part %d",f),U.on("header",E),U.on("error",a),l.addLast(U),l.isLast()){w=!0;var G=dt(S);G.on("error",a),U.pipe(G)}},"objectPartListener"),P=s(function(){g=!0,b()},"objectParseFinishListener"),R=s(function(){v=!0,b()},"objectResponseEndListener"),O=s(function(){if(!v&&(n.resume(),l.hasItem()&&!w)){w=!0;var U=dt(S);U.on("error",a);var G=l.getFirst();G.pipe(U)}},"objectDrainListener"),M=new Bc({boundary:e});M.on("part",q),M.on("error",a),M.on("finish",P),n.on("end",R),r.outputStream.on("drain",O),At(n.headers)?n.pipe(bt()).pipe(M):n.pipe(M)},"dispatchMultipartObjectStream");function Ze(t){if(!(this instanceof Ze))return new Ze(t);this.queue=t>0?new Array(t):[],this.first=-1,this.last=-1,this.total=0}s(Ze,"FifoQueue");Ze.prototype.addLast=s(function(e){this.last++,this.total++,this.first===-1&&(this.first=this.last),this.last<this.queue.length?this.queue[this.last]=e:this.queue.push(e)},"fifoAddLast");Ze.prototype.hasItem=s(function(){return this.first>=0},"fifoHasItem");Ze.prototype.isLast=s(function(){return this.first>=0&&this.first===this.last},"fifoIsLast");Ze.prototype.getFirst=s(function(){return this.first>=0?this.queue[this.first]:void 0},"fifoGetFirst");Ze.prototype.removeFirst=s(function(){this.first>=0&&(this.queue[this.first]=void 0,this.first===this.last?(this.first=-1,this.last=-1):this.first++)},"fifoRemoveFirst");Ze.prototype.pollFirst=s(function(){var e=this.getFirst();return e!==void 0&&this.removeFirst(),e},"fifoPollFirst");Ze.prototype.getQueue=s(function(){return this.first===0&&this.last===this.queue.length?this.queue:this.queue.slice(this.first,this.last+1)},"fifoGetQueue");function s1(t){var e=this,n=t.statusCode,r=null,a=e.statusCodeValidator;if(typeof a=="function")r=a.call(e,n,t);else{var o=e.validStatusCodes;if(Array.isArray(o)){for(var l=!0,u=0;u<o.length;u++)if(o[u]===n){l=!1;break}l&&(r="response with invalid "+n+" status")}else n>=300&&(r="cannot process response with "+n+" status")}if(r!=null){var f=e.makeError(r);return f.statusCode=n,n>=400?(At(t.headers)?t.pipe(bt()):t).pipe(dt({encoding:"string"},s(function(v){if(v.length>0){var w=typeof v=="string"||v instanceof String?v:v.toString(),b=t.headers["content-type"];f.body=(typeof b=="string"||b instanceof String)&&/^application\/([^+]+\+)?json(\s*;.*)?$/.test(b)?sr.parseJSON(w):w}e.errorListener(f)},"errorBodyDispatcher"))):e.errorListener(f),!1}return e.startedResponse=!0,!0}s(s1,"isResponseStatusOkay");function Ic(t){if(!(this instanceof Ic))return new Ic(t);this.result=sr.callbackOn(t,yv),this.stream=sr.callbackOn(t,o1)}s(Ic,"ResponseSelector");function yv(t,e){var n=this;switch(n.outputMode){case"none":if(n.startedResponse===!0)throw new Error("cannot create result promise after receiving response");break;case"promise":throw new Error("already created result promise");default:throw new Error("cannot create result promise after creating stream")}n.outputMode="promise";var r=new Promise(s(function(o,l){if(n.done!==!0){o&&(n.resolve=o),l&&(n.reject=l);return}vv(n,l)||an(n,o)},"promiseDispatcher"));switch(arguments.length){case 0:return r.then();case 1:return r.then(t);default:return r.then(t,e)}}s(yv,"operationResultPromise");function an(t,e){if(e!=null){var n=t.data,r=n!=null,a=r?n.length:null;t.logger.debug("promise resolving with "+(r?a+" chunks of":"null")+" data"),r?e.call(t,n):e.call(t)}}s(an,"resolvedPromise");function vv(t,e){var n=t.error;if(!Array.isArray(n))return!1;var r=n.length;if(r===0)return!1;for(var a=0;a<r;a++)t.logError(n[a]);if(e==null)return!0;t.logger.debug("deferred promise rejecting with "+r+" error messages");var o=n[0];return r>1&&(o.otherErrors=n.slice(1)),e.call(t,o),!0}s(vv,"rejectedPromise");function o1(){var t=this;switch(t.outputMode){case"none":if(t.startedResponse===!0)throw new Error("cannot create stream after receiving response");break;case"promise":throw new Error("cannot create stream after creating result promise");default:throw new Error("already created stream")}var e=arguments.length>0?arguments[0]:null,n=null;if(e===null)n=t.streamDefaultMode,t.outputStreamMode=n;else if(t.outputStreamMode!=null){if(e!==t.outputStreamMode)throw new Error("cannot change stream mode from: "+t.outputStreamMode)}else if(t.streamModes[e]===!0)n=e,t.outputStreamMode=n;else throw new Error("stream mode not supported for this request: "+e);t.outputMode=n+"Stream";var r=null;switch(n){case"chunked":r=Dc();break;case"object":r=Dc({objectMode:!0});break;case"sequence":r=Dc();break;default:throw new Error("unknown stream mode: "+n)}t.outputStream=r;var a=t.error;if(a!=null){for(var o=0;o<a.length;o++)r.emit("error",a[o]);t.error=void 0}return r}s(o1,"operationResultStream");function l1(t){var e=this;if(e.client.connectionParams.apiKey&&t.statusCode===401&&e.expiration<=new Date){e.lockAccessToken?gv.startRequest(e):(e.lockAccessToken=!0,gv.getAccessToken(e));return}let n=t.message?t.message.toString():null;n&&n.includes("EPROTO")&&n.includes("SSL routines")&&(n.includes("wrong version number")||n.includes("WRONG_VERSION_NUMBER"))&&(t=new Error(`You have attempted to access an HTTP server using HTTPS. Please check your configuration.
`+n)),e.dispatchError(t),e.done=!0;var r=e.outputStream;if(r!=null){r.end(),e.outputStream=void 0;return}vv(e,e.reject)||an(e,e.resolve)}s(l1,"operationErrorListener");function At(t){return t["content-encoding"]==="gzip"||t["Content-Encoding"]==="gzip"}s(At,"isResponseGzipped");wv.exports={operationErrorListener:l1,operationResultPromise:yv,responseDispatcher:i1,ResponseSelector:Ic}});var Sv=D((WD,Av)=>{var bv=require("stream").Stream,c1=require("util");Av.exports=Ct;function Ct(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}s(Ct,"DelayedStream");c1.inherits(Ct,bv);Ct.create=function(t,e){var n=new this;e=e||{};for(var r in e)n[r]=e[r];n.source=t;var a=t.emit;return t.emit=function(){return n._handleEmit(arguments),a.apply(t,arguments)},t.on("error",function(){}),n.pauseStream&&t.pause(),n};Object.defineProperty(Ct.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});Ct.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};Ct.prototype.resume=function(){this._released||this.release(),this.source.resume()};Ct.prototype.pause=function(){this.source.pause()};Ct.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};Ct.prototype.pipe=function(){var t=bv.prototype.pipe.apply(this,arguments);return this.resume(),t};Ct.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};Ct.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var qv=D((VD,Tv)=>{var u1=require("util"),Ev=require("stream").Stream,kv=Sv();Tv.exports=_e;function _e(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}s(_e,"CombinedStream");u1.inherits(_e,Ev);_e.create=function(t){var e=new this;t=t||{};for(var n in t)e[n]=t[n];return e};_e.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};_e.prototype.append=function(t){var e=_e.isStreamLike(t);if(e){if(!(t instanceof kv)){var n=kv.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=n}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};_e.prototype.pipe=function(t,e){return Ev.prototype.pipe.call(this,t,e),this.resume(),t};_e.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};_e.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(n){var r=_e.isStreamLike(n);r&&(n.on("data",this._checkDataSize.bind(this)),this._handleErrors(n)),this._pipeNext(n)}.bind(this))};_e.prototype._pipeNext=function(t){this._currentStream=t;var e=_e.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var n=t;this.write(n),this._getNext()};_e.prototype._handleErrors=function(t){var e=this;t.on("error",function(n){e._emitError(n)})};_e.prototype.write=function(t){this.emit("data",t)};_e.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};_e.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};_e.prototype.end=function(){this._reset(),this.emit("end")};_e.prototype.destroy=function(){this._reset(),this.emit("close")};_e.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};_e.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};_e.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};_e.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var Nv=D((JD,p1)=>{p1.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var Ov=D((YD,Pv)=>{Pv.exports=Nv()});var Rv=D(ut=>{"use strict";var Gi=Ov(),f1=require("path").extname,Cv=/^\s*([^;\s]*)(?:;|\s|$)/,m1=/^text\//i;ut.charset=_v;ut.charsets={lookup:_v};ut.contentType=d1;ut.extension=g1;ut.extensions=Object.create(null);ut.lookup=h1;ut.types=Object.create(null);y1(ut.extensions,ut.types);function _v(t){if(!t||typeof t!="string")return!1;var e=Cv.exec(t),n=e&&Gi[e[1].toLowerCase()];return n&&n.charset?n.charset:e&&m1.test(e[1])?"UTF-8":!1}s(_v,"charset");function d1(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?ut.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var n=ut.charset(e);n&&(e+="; charset="+n.toLowerCase())}return e}s(d1,"contentType");function g1(t){if(!t||typeof t!="string")return!1;var e=Cv.exec(t),n=e&&ut.extensions[e[1].toLowerCase()];return!n||!n.length?!1:n[0]}s(g1,"extension");function h1(t){if(!t||typeof t!="string")return!1;var e=f1("x."+t).toLowerCase().substr(1);return e&&ut.types[e]||!1}s(h1,"lookup");function y1(t,e){var n=["nginx","apache",void 0,"iana"];Object.keys(Gi).forEach(s(function(a){var o=Gi[a],l=o.extensions;if(!(!l||!l.length)){t[a]=l;for(var u=0;u<l.length;u++){var f=l[u];if(e[f]){var d=n.indexOf(Gi[e[f]].source),g=n.indexOf(o.source);if(e[f]!=="application/octet-stream"&&(d>g||d===g&&e[f].substr(0,12)==="application/"))continue}e[f]=a}}},"forEachMimeType"))}s(y1,"populateMaps")});var Dv=D((tI,Xv)=>{Xv.exports=v1;function v1(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}s(v1,"defer")});var jc=D((rI,Bv)=>{var Iv=Dv();Bv.exports=w1;function w1(t){var e=!1;return Iv(function(){e=!0}),s(function(r,a){e?t(r,a):Iv(s(function(){t(r,a)},"nextTick_callback"))},"async_callback")}s(w1,"async")});var Lc=D((iI,jv)=>{jv.exports=x1;function x1(t){Object.keys(t.jobs).forEach(b1.bind(t)),t.jobs={}}s(x1,"abort");function b1(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}s(b1,"clean")});var Mc=D((oI,Mv)=>{var Lv=jc(),A1=Lc();Mv.exports=S1;function S1(t,e,n,r){var a=n.keyedList?n.keyedList[n.index]:n.index;n.jobs[a]=k1(e,a,t[a],function(o,l){a in n.jobs&&(delete n.jobs[a],o?A1(n):n.results[a]=l,r(o,n.results))})}s(S1,"iterate");function k1(t,e,n,r){var a;return t.length==2?a=t(n,Lv(r)):a=t(n,e,Lv(r)),a}s(k1,"runJob")});var Fc=D((cI,Fv)=>{Fv.exports=E1;function E1(t,e){var n=!Array.isArray(t),r={index:0,keyedList:n||e?Object.keys(t):null,jobs:{},results:n?{}:[],size:n?Object.keys(t).length:t.length};return e&&r.keyedList.sort(n?e:function(a,o){return e(t[a],t[o])}),r}s(E1,"state")});var $c=D((pI,$v)=>{var T1=Lc(),q1=jc();$v.exports=N1;function N1(t){Object.keys(this.jobs).length&&(this.index=this.size,T1(this),q1(t)(null,this.results))}s(N1,"terminator")});var zv=D((mI,Uv)=>{var P1=Mc(),O1=Fc(),C1=$c();Uv.exports=_1;function _1(t,e,n){for(var r=O1(t);r.index<(r.keyedList||t).length;)P1(t,e,r,function(a,o){if(a){n(a,o);return}if(Object.keys(r.jobs).length===0){n(null,r.results);return}}),r.index++;return C1.bind(r,n)}s(_1,"parallel")});var Uc=D((gI,Wi)=>{var Qv=Mc(),R1=Fc(),X1=$c();Wi.exports=D1;Wi.exports.ascending=Gv;Wi.exports.descending=I1;function D1(t,e,n,r){var a=R1(t,n);return Qv(t,e,a,s(function o(l,u){if(l){r(l,u);return}if(a.index++,a.index<(a.keyedList||t).length){Qv(t,e,a,o);return}r(null,a.results)},"iteratorHandler")),X1.bind(a,r)}s(D1,"serialOrdered");function Gv(t,e){return t<e?-1:t>e?1:0}s(Gv,"ascending");function I1(t,e){return-1*Gv(t,e)}s(I1,"descending")});var Kv=D((yI,Wv)=>{var B1=Uc();Wv.exports=j1;function j1(t,e,n){return B1(t,e,null,n)}s(j1,"serial")});var Hv=D((wI,Vv)=>{Vv.exports={parallel:zv(),serial:Kv(),serialOrdered:Uc()}});var Yv=D((xI,Jv)=>{Jv.exports=function(t,e){return Object.keys(e).forEach(function(n){t[n]=t[n]||e[n]}),t}});var tw=D((bI,ew)=>{var Wc=qv(),Zv=require("util"),zc=require("path"),L1=require("http"),M1=require("https"),F1=require("url").parse,$1=require("fs"),U1=require("stream").Stream,Qc=Rv(),z1=Hv(),Gc=Yv();ew.exports=ye;Zv.inherits(ye,Wc);function ye(t){if(!(this instanceof ye))return new ye(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],Wc.call(this),t=t||{};for(var e in t)this[e]=t[e]}s(ye,"FormData");ye.LINE_BREAK=`\r
`;ye.DEFAULT_CONTENT_TYPE="application/octet-stream";ye.prototype.append=function(t,e,n){n=n||{},typeof n=="string"&&(n={filename:n});var r=Wc.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),Zv.isArray(e)){this._error(new Error("Arrays are not supported."));return}var a=this._multiPartHeader(t,e,n),o=this._multiPartFooter();r(a),r(e),r(o),this._trackLength(a,e,n)};ye.prototype._trackLength=function(t,e,n){var r=0;n.knownLength!=null?r+=+n.knownLength:Buffer.isBuffer(e)?r=e.length:typeof e=="string"&&(r=Buffer.byteLength(e)),this._valueLength+=r,this._overheadLength+=Buffer.byteLength(t)+ye.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&e.hasOwnProperty("httpVersion"))&&!(e instanceof U1))&&(n.knownLength||this._valuesToMeasure.push(e))};ye.prototype._lengthRetriever=function(t,e){t.hasOwnProperty("fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):$1.stat(t.path,function(n,r){var a;if(n){e(n);return}a=r.size-(t.start?t.start:0),e(null,a)}):t.hasOwnProperty("httpVersion")?e(null,+t.headers["content-length"]):t.hasOwnProperty("httpModule")?(t.on("response",function(n){t.pause(),e(null,+n.headers["content-length"])}),t.resume()):e("Unknown stream")};ye.prototype._multiPartHeader=function(t,e,n){if(typeof n.header=="string")return n.header;var r=this._getContentDisposition(e,n),a=this._getContentType(e,n),o="",l={"Content-Disposition":["form-data",'name="'+t+'"'].concat(r||[]),"Content-Type":[].concat(a||[])};typeof n.header=="object"&&Gc(l,n.header);var u;for(var f in l)l.hasOwnProperty(f)&&(u=l[f],u!=null&&(Array.isArray(u)||(u=[u]),u.length&&(o+=f+": "+u.join("; ")+ye.LINE_BREAK)));return"--"+this.getBoundary()+ye.LINE_BREAK+o+ye.LINE_BREAK};ye.prototype._getContentDisposition=function(t,e){var n,r;return typeof e.filepath=="string"?n=zc.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?n=zc.basename(e.filename||t.name||t.path):t.readable&&t.hasOwnProperty("httpVersion")&&(n=zc.basename(t.client._httpMessage.path||"")),n&&(r='filename="'+n+'"'),r};ye.prototype._getContentType=function(t,e){var n=e.contentType;return!n&&t.name&&(n=Qc.lookup(t.name)),!n&&t.path&&(n=Qc.lookup(t.path)),!n&&t.readable&&t.hasOwnProperty("httpVersion")&&(n=t.headers["content-type"]),!n&&(e.filepath||e.filename)&&(n=Qc.lookup(e.filepath||e.filename)),!n&&typeof t=="object"&&(n=ye.DEFAULT_CONTENT_TYPE),n};ye.prototype._multiPartFooter=function(){return function(t){var e=ye.LINE_BREAK,n=this._streams.length===0;n&&(e+=this._lastBoundary()),t(e)}.bind(this)};ye.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+ye.LINE_BREAK};ye.prototype.getHeaders=function(t){var e,n={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)t.hasOwnProperty(e)&&(n[e.toLowerCase()]=t[e]);return n};ye.prototype.setBoundary=function(t){this._boundary=t};ye.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};ye.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),n=0,r=this._streams.length;n<r;n++)typeof this._streams[n]!="function"&&(Buffer.isBuffer(this._streams[n])?t=Buffer.concat([t,this._streams[n]]):t=Buffer.concat([t,Buffer.from(this._streams[n])]),(typeof this._streams[n]!="string"||this._streams[n].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(ye.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};ye.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);this._boundary=t};ye.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};ye.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};ye.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}z1.parallel(this._valuesToMeasure,this._lengthRetriever,function(n,r){if(n){t(n);return}r.forEach(function(a){e+=a}),t(null,e)})};ye.prototype.submit=function(t,e){var n,r,a={method:"post"};return typeof t=="string"?(t=F1(t),r=Gc({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},a)):(r=Gc(t,a),r.port||(r.port=r.protocol=="https:"?443:80)),r.headers=this.getHeaders(t.headers),r.protocol=="https:"?n=M1.request(r):n=L1.request(r),this.getLength(function(o,l){if(o&&o!=="Unknown stream"){this._error(o);return}if(l&&n.setHeader("Content-Length",l),this.pipe(n),e){var u,f=s(function(d,g){return n.removeListener("error",f),n.removeListener("response",u),e.call(this,d,g)},"callback");u=f.bind(this,null),n.on("error",f),n.on("response",u)}}.bind(this)),n};ye.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};ye.prototype.toString=function(){return"[object FormData]"}});var et=D((SI,lw)=>{"use strict";var Q1=Sh(),G1=Th().libraryProperty("kerberos","Kerberos"),rw=Ih(),nw=bc(),$t=Oe(),lr=xv(),Ki=null,W1=require("https"),K1=tw();function V1(t,e,n,r){var a=Q1.call(null,e,n)(r);return t.authenticator||(t.authenticator={}),t.authenticator[e]=a,a}s(V1,"createAuthenticator");function H1(t,e){var n={credentials:e};return t.authenticatorKerberos=n,n}s(H1,"createAuthenticatorKerberos");function J1(t,e){return t.authenticator?t.authenticator[e]:null}s(J1,"getAuthenticator");function Y1(t){return t.authenticatorKerberos?t.authenticatorKerberos:null}s(Y1,"getAuthenticatorKerberos");function aw(t){let e=`${encodeURI("grant_type")}=${encodeURI("apikey")}&${encodeURI("key")}=${encodeURI(t.client.connectionParams.apiKey)}`,n=t.client.connectionParams.accessTokenDuration?"/token?duration="+t.client.connectionParams.accessTokenDuration:"/token",r={hostname:t.client.connectionParams.host,port:443,path:n,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}},a=W1.request(r,o=>{o.on("data",l=>{if(o.statusCode===400)throw new Error(l.toString());let u=JSON.parse(l.toString());t.accessToken=u.access_token,t.expiration=new Date(u[".expires"]),t.lockAccessToken&&(t.lockAccessToken=!1),Dr(t)}),o.on("error",l=>{throw t.accessToken=new Error(l),new Error(t.accessToken)})});a.write(e),a.end()}s(aw,"getAccessToken");function Z1(t){var e=t.options,n=lr.operationErrorListener;t.errorListener=$t.callbackOn(t,n);var r=e.headers;r==null&&(r={},e.headers=r),r["X-Error-Accept"]="application/json",r["ML-Agent-ID"]="nodejs",e.enableGzippedResponses&&(r["Accept-Encoding"]="gzip");var a=null,o=null;switch(t.requestType){case"empty":break;case"single":t.inputSender=nq;break;case"multipart":t.inputSender=rq;break;case"chunked":o=lr.operationResultPromise,a=nw(),a.result=$t.callbackOn(t,o),t.requestWriter=a,t.inputSender=aq;break;case"chunkedMultipart":o=lr.operationResultPromise,a=nw(),a.result=$t.callbackOn(t,o),t.requestWriter=a,t.inputSender=iq;break;default:throw new Error("unknown request type "+t.requestType)}let l=e.authType.toUpperCase();var u=l==="DIGEST"||l==="KERBEROS";if(u){var f=null;switch(l){case"DIGEST":f=J1(t.client,e.user);break;case"KERBEROS":f=Y1(t.client);break;default:throw new Error("initialization for unknown authenticator type "+l)}f!==null&&(u=!1,t.authenticator=f)}if(u)switch(l){case"DIGEST":iw(t);break;case"KERBEROS":eq(t);break;default:throw new Error("request for unknown authenticator type "+l)}else t.client.connectionParams.apiKey&&!t.accessToken?t.lockAccessToken?Dr(t):(t.lockAccessToken=!0,aw(t)):Dr(t);if(a===null){var d=lr.ResponseSelector;a=new d(t)}return a}s(Z1,"startRequest");function iw(t){var e=t.inputSender===null,n=t.options,r=e?n:{method:"HEAD",path:"/v1/ping"};e||Object.keys(n).forEach(s(function(l){if(r[l]===void 0){var u=n[l];u!=null&&(r[l]=u)}},"optionKeyCopier")),t.logger.debug("challenge request for %s",r.path);var a=t.client.request(r,s(function(l){var u=l.statusCode,f=u<400,d=l.headers["www-authenticate"],g=d!=null;if(t.logger.debug("response with status %d and %s challenge for %s",u,g,r.path),u===401&&g||f&&!e){try{t.authenticator=g?V1(t.client,n.user,n.password,d):null}catch{a.emit("error",new Error("Authentication failed."))}Dr(t)}else if(f&&e){var v=lr.responseDispatcher;v.call(t,l)}else sw(l)?ow(t,l,iw):t.errorListener("challenge request failed for "+n.path)},"challengeResponder"));a.on("error",t.errorListener),a.end()}s(iw,"challengeRequest");function eq(t){Ki=new G1;var e="HTTP@"+t.options.host;Ki.authGSSClientInit(e,0,function(n,r){n&&t.errorListener("kerberos initialization failed at "+e),t.logger.debug("kerberos initialized at "+e),Ki.authGSSClientStep(r,"",function(a){a&&t.errorListener("kerberos credentials failed"),t.logger.debug("kerberos credentials retrieved"),t.authenticator=H1(t.client,r.response),Dr(t),Ki.authGSSClientClean(r,function(o){o&&t.errorListener("kerberos client clean failed")})})})}s(eq,"credentialsRequest");function Dr(t){var e=t.inputSender===null,n=t.options;t.logger.debug("authenticated request for %s",n.path);var r=t.authenticator,a=t.isReplayable?tq:lr.responseDispatcher,o=t.client.request(n,$t.callbackOn(t,a));let l=n.authType.toUpperCase();if(r!=null)switch(l){case"DIGEST":t.logger.debug("digest authentication"),o.setHeader("authorization",r.authorize(n.method,n.path));break;case"KERBEROS":t.logger.debug("kerberos authentication"),o.setHeader("authorization","Negotiate "+r.credentials);break;default:t.errorListener("unknown authentication type "+l)}else switch(l){case"SAML":t.logger.debug("saml authentication"),o.setHeader("authorization",n.auth);break;case"CLOUD":if(t.logger.debug("cloud authentication"),t.accessToken instanceof Error)throw new Error(t.accessToken);o.setHeader("authorization","bearer "+t.accessToken);break;case"OAUTH":o.setHeader("Authorization","Bearer "+n.oauthToken)}o.on("error",t.errorListener),e?o.end():t.inputSender(o)}s(Dr,"authenticatedRequest");function tq(t){let e=this;sw(t)?ow(e,t,Dr):lr.responseDispatcher.call(e,t)}s(tq,"retryDispatcher");function sw(t){return[502,503,504].indexOf(t.statusCode)>-1}s(sw,"isRetry");function ow(t,e,n){let r=e.headers["retry-after"],a=r==null?-1:Number.parseInt(r,10);t.retryAttempt++;let o=12e4,l=50,u=6,f=Math.floor(Math.random()*(l+1))+l,d=Math.max(a,f*Math.pow(2,Math.min(t.retryAttempt,u)));t.retryDuration+=d,t.retryDuration>o?t.errorListener(`retry failed for ${e.statusCode} status after ${t.retryAttempt} attempts over ${t.retryDuration/1e3} seconds`):(t.logger.debug("retry status = %d next = %d attempt = %d duration = %d",e.statusCode,d,t.retryAttempt,t.retryDuration),setTimeout(n,d,t))}s(ow,"retryRequest");function nq(t){var e=this,n=$t.marshal(e.requestBody,e);n==null?t.end():typeof n=="string"||n instanceof String?(t.write(n,"utf8"),t.end()):typeof n._read=="function"?n.pipe(t):(t.write(n),t.end())}s(nq,"singleRequester");function rq(t){var e=this,n=e.multipartBoundary,r=new rw(n??$t.multipartBoundary),a=e.requestPartsProvider;if(e.bindingParam){let v=new K1,w=e.bindingParam,b=w.query,S=w.key,E=w[S],q=w.attachments,P=w.metadata;if(v.setBoundary($t.multipartBoundary),v.append("query",b,{contentType:"application/json",filename:"fromParam-AST.js"}),v.append(S,JSON.stringify(E),{contentType:"application/json",filename:"data.json"}),q&&q instanceof Array&&q.length)for(let R=0;R<q.length;R++){let O=q[R],M=Object.keys(O);for(let j=0;j<M.length;j++){let U=M[j];typeof O[U]=="object"?v.append("doc",JSON.stringify(O[U]),{filename:U}):v.append("doc",O[U],{filename:U})}}else if(typeof q=="object"){let R=Object.keys(q);for(let O=0;O<R.length;O++){let M=R[O];typeof q[M]=="object"?v.append("doc",JSON.stringify(q[M]),{filename:M}):v.append("doc",q[M],{filename:M})}}P&&v.append("metadata",JSON.stringify(P),{contentType:"application/json",filename:"metadata.json"}),r.add({headers:{"Content-Type":"multipart/form-data; boundary="+$t.multipartBoundary,Accept:"application/json"},body:v})}else if(typeof a=="function")a.call(e,r);else{var o=e.requestPartList;if(Array.isArray(o)){var l=o.length;e.logger.debug("writing %s parts",l);for(var u=0;u<l;u++){var f=o[u],d=f.headers,g=f.content;d!=null&&g!=null?(e.logger.debug("starting part %s",u),r.addPart({headers:d,body:g}),e.logger.debug("finished part %s",u)):e.logger.debug("nothing to write for part %d",u)}}else e.logger.debug("no part list to write")}r.pipe(t)}s(rq,"multipartRequester");function aq(t){var e=this,n=e.requestWriter;n==null&&(e.errorListener("no request writer for streaming request"),t.end()),n.pipe(t)}s(aq,"chunkedRequester");function iq(t){var e=this,n=e.requestWriter,r=e.requestDocument;if(n==null)e.errorListener("no request writer for streaming request"),t.end();else if(r==null)e.errorListener("no request document for streaming request"),t.end();else{for(var a=e.multipartBoundary,o=new rw(a??$t.multipartBoundary),l=r.length-1,u=0;u<=l;u++){var f=r[u],d=f.headers;if(u<l){var g=f.content;d!=null&&g!=null?o.addPart({headers:d,body:$t.marshal(g,e)}):e.logger.debug("could not write metadata part")}else d!=null?o.addPart({headers:d,body:n}):e.logger.debug("could not write content part")}o.pipe(t)}}s(iq,"chunkedMultipartRequester");lw.exports={startRequest:Z1,getAccessToken:aw}});var st=D((EI,pw)=>{"use strict";var qa=Oe();function _t(t,e,n,r,a){if(!(this instanceof _t))return new _t(t,e,n,r,a);this.name=t,this.client=e,this.logger=e.getLogger(),this.options=n,this.requestType=r,this.isReplayable=!0,this.responseType=a,this.validStatusCodes=null,this.inlineAsDocument=!0,this.errorTransform=null,this.error=null,this.outputTransform=null,this.subdata=null,this.authenticator=null,this.inputSender=null,this.startedResponse=!1,this.done=!1,this.outputMode="none",this.resolve=null,this.reject=null,this.streamDefaultMode="object",this.rawHeaders=null,this.responseStatusCode=null,this.responseHeaders=null,this.outputStreamMode=null,this.outputStream=null,this.streamModes=this.STREAM_MODES_CHUNKED_OBJECT_SEQUENCE,this.nextMetadataBuffer=null,this.timestamp=null,this.complexValues=null,this.retryAttempt=0,this.retryDuration=0}s(_t,"Operation");_t.prototype.STREAM_MODES_CHUNKED_OBJECT_SEQUENCE={chunked:!0,object:!0,sequence:!0};_t.prototype.emptyHeaderData=s(function(e){var n=this,r=n.outputTransform;if(r!=null){var a=n.responseHeaders;return a==null&&(n.copyResponseHeaders(e),a=n.responseHeaders),r.call(n,a,null)}return null},"emptyHeaderData");_t.prototype.collectBodyObject=s(function(e){var n=this,r=n.outputTransform,a=r!=null,o=n.responseHeaders,l=qa.unmarshal(o.format,e);if(l!==null){var u=n.subdata;Array.isArray(u)&&(l=Vi(l,u,0)),a&&(l=r.call(n,o,l))}return l},"collectBodyObject");_t.prototype.makeObject=s(function(e,n){var r=this,a=r.outputTransform,o=null,l=n.pollFirst(),u=oq(l),f=u.uri,d=f==null&&!u.kind,g=!d&&u.category!=null&&u.category!=="content",v=qa.unmarshal(u.format,e);if(d)r.logger.debug("parsed inline"),r.inlineAsDocument?(u.content=v,o=u):o=v;else if(g){if(r.logger.debug("parsed metadata for %s",f),this.nextMetadataBuffer!==null){var w=this.nextMetadataBuffer[0];qa.copyProperties(this.nextMetadataBuffer[1],w),o=w}this.nextMetadataBuffer=[u,v]}else r.logger.debug("parsed content for %s",f),this.nextMetadataBuffer!==null&&(r.logger.debug("copying metadata for %s",f),qa.copyProperties(this.nextMetadataBuffer[1],u),this.nextMetadataBuffer=null),u.content=v,o=u;if(o!==null){var b=r.subdata;Array.isArray(b)&&(o=Vi(o,b,0)),a!=null&&(o=a.call(r,l,o)),o===void 0&&r.logger.debug("skipped undefined output from transform")}return o},"makeObject");_t.prototype.dispatchError=s(function(e){var n=this,r=e==null?n.makeError("unknown error"):typeof e=="string"||e instanceof String?n.makeError(e):e,a=n.outputStream;if(a!=null){var o=a.listeners("error");Array.isArray(o)&&o.length>0?a.emit("error",r):n.logError(r)}else n.error==null?n.error=[r]:n.error.push(r)},"dispatchError");_t.prototype.logError=s(function(e){var n=this;e.body==null?n.logger.error(e.message):n.logger.isErrorFirst===!0?n.logger.error(e.body,e.message):n.logger.error(e.message,e.body)},"logError");_t.prototype.makeError=s(function(e){var n=this,r=n.name,a=r===void 0?e:r+": "+e,o=n.errorTransform;let l=n.options.path,u=l&&l.toString().includes("?")?l.toString().substring(0,l.toString().indexOf("?")):l.toString();return a=a+" with path: "+u,new qa.Error(o==null?a:o.call(n,a))},"makeError");_t.prototype.copyResponseHeaders=s(function(e){var n=this,r=e.headers,a=cw(r["content-type"]),o=r["vnd.marklogic.document-format"];switch(o==null&&a!==null&&(o=uw(a)),n.rawHeaders=r,n.responseStatusCode=e.statusCode,n.responseHeaders=new sq(a,o,r["content-length"],r.etag,r.location,r["x-marklogic-system-time"],r["ml-lsqt"]),o){case"json":case"text":case"xml":return!0;default:return!1}},"copyResponseHeaders");function sq(t,e,n,r,a,o,l){if(this.contentType=t,this.format=e,this.contentLength=n==null||n===0?null:n,r==null)this.versionId=null;else{var u=r.charAt(0),f=r.charAt(r.length-1);this.versionId=u==='"'&&f==='"'||u==="'"&&f==="'"?r.substring(1,r.length-1):r}this.location=a??null,this.systemTime=o??null,this.lsqt=l??null}s(sq,"OperationHeaders");function cw(t){if(t==null)return null;var e=t.indexOf(";");return e>0?t.substring(0,e):t}s(cw,"trimContentType");function uw(t){if(t===null)return null;var e=t.split(/[\/+]/);switch(e[0]){case"application":switch(e[e.length-1]){case"json":return"json";case"xml":return"xml";case"n-triples":return"text";case"n-quads":return"text";case"trig":return"text"}break;case"text":switch(e[e.length-1]){case"json":return"json";case"xml":return"xml";default:return"text"}break;case"multipart":return"binary"}return null}s(uw,"contentTypeToFormat");function oq(t){var e={},n=t["content-disposition"];if(Array.isArray(n)&&n.length>0){var r=n[0];r.substring(r.length)!==";"&&(r+=";");for(var a=r.match(/"[^"]*"|;|=|[^";=\s]+/g),o=null,l=null,u=0;u<a.length;u++){var f=a[u];switch(f){case";":if(o){if(l){o==="filename"&&(o="uri",l=l.substring(1,l.length-1));var d=e[o];d?d instanceof Array?d.push(l):e[o]=[d,l]:e[o]=l,l=null}o=null}break;case"=":break;default:o?l=f:o=f;break}}}var g=t["content-type"],v=null;Array.isArray(g)&&g.length>0&&(v=cw(g[0]),e.contentType=v),v!=null&&e.format==null&&(e.format=uw(v));var w=t["content-length"];Array.isArray(w)&&w.length>0&&(e.contentLength=w[0]);var b=t["content-id"];return Array.isArray(b)&&b.length>0&&(e.contentId=b[0].slice(1,-1)),e}s(oq,"parsePartHeaders");function Vi(t,e,n){if(n===e.length||t==null)return t;var r=e[n];if(!Array.isArray(t)){var a=t[r];return a==null?t:Vi(a,e,n+1)}for(var o=[],l=0;l<t.length;l++){var u=t[l],f=u[r];o.push(f==null?u:Vi(f,e,n+1))}return o}s(Vi,"projectData");pw.exports=_t});var fw=D((Kc,Vc)=>{(function(t,e){typeof Kc=="object"&&typeof Vc<"u"?Vc.exports=e():typeof define=="function"&&define.amd?define(e):t.typeDetect=e()})(Kc,function(){"use strict";var t=typeof Promise=="function",e=typeof self=="object"?self:global,n=typeof Symbol<"u",r=typeof Map<"u",a=typeof Set<"u",o=typeof WeakMap<"u",l=typeof WeakSet<"u",u=typeof DataView<"u",f=n&&typeof Symbol.iterator<"u",d=n&&typeof Symbol.toStringTag<"u",g=a&&typeof Set.prototype.entries=="function",v=r&&typeof Map.prototype.entries=="function",w=g&&Object.getPrototypeOf(new Set().entries()),b=v&&Object.getPrototypeOf(new Map().entries()),S=f&&typeof Array.prototype[Symbol.iterator]=="function",E=S&&Object.getPrototypeOf([][Symbol.iterator]()),q=f&&typeof String.prototype[Symbol.iterator]=="function",P=q&&Object.getPrototypeOf(""[Symbol.iterator]()),R=8,O=-1;function M(j){var U=typeof j;if(U!=="object")return U;if(j===null)return"null";if(j===e)return"global";if(Array.isArray(j)&&(d===!1||!(Symbol.toStringTag in j)))return"Array";if(typeof window=="object"&&window!==null){if(typeof window.location=="object"&&j===window.location)return"Location";if(typeof window.document=="object"&&j===window.document)return"Document";if(typeof window.navigator=="object"){if(typeof window.navigator.mimeTypes=="object"&&j===window.navigator.mimeTypes)return"MimeTypeArray";if(typeof window.navigator.plugins=="object"&&j===window.navigator.plugins)return"PluginArray"}if((typeof window.HTMLElement=="function"||typeof window.HTMLElement=="object")&&j instanceof window.HTMLElement){if(j.tagName==="BLOCKQUOTE")return"HTMLQuoteElement";if(j.tagName==="TD")return"HTMLTableDataCellElement";if(j.tagName==="TH")return"HTMLTableHeaderCellElement"}}var G=d&&j[Symbol.toStringTag];if(typeof G=="string")return G;var k=Object.getPrototypeOf(j);return k===RegExp.prototype?"RegExp":k===Date.prototype?"Date":t&&k===Promise.prototype?"Promise":a&&k===Set.prototype?"Set":r&&k===Map.prototype?"Map":l&&k===WeakSet.prototype?"WeakSet":o&&k===WeakMap.prototype?"WeakMap":u&&k===DataView.prototype?"DataView":r&&k===b?"Map Iterator":a&&k===w?"Set Iterator":S&&k===E?"Array Iterator":q&&k===P?"String Iterator":k===null?"Object":Object.prototype.toString.call(j).slice(R,O)}return s(M,"typeDetect"),M})});var Jc=D(Ir=>{"use strict";Object.defineProperty(Ir,"__esModule",{value:!0});Ir.copy=Ir.isBuffer=void 0;var Hc=typeof Buffer<"u",lq=Hc&&typeof Buffer.from<"u",cq=s(Hc?function(e){return Buffer.isBuffer(e)}:function(){return!1},"isBuffer");Ir.isBuffer=cq;var uq=s(lq?function(e){return Buffer.from(e)}:Hc?function(e){return new Buffer(e)}:function(e){return e},"copy");Ir.copy=uq});var Hi=D(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.detectType=dq;var pq=mq(fw()),fq=Jc();function mq(t){return t&&t.__esModule?t:{default:t}}s(mq,"_interopRequireDefault");function dq(t){return(0,fq.isBuffer)(t)?"Buffer":(0,pq.default)(t)}s(dq,"detectType")});var dw=D(Na=>{"use strict";Object.defineProperty(Na,"__esModule",{value:!0});Na.get=hq;Na.isCollection=yq;Na.set=vq;var mw=Hi(),gq=new Set(["Arguments","Array","Map","Object","Set"]);function hq(t,e,n=null){switch(n||(0,mw.detectType)(t)){case"Arguments":case"Array":case"Object":return t[e];case"Map":return t.get(e);case"Set":return e;default:}}s(hq,"get");function yq(t){return gq.has(t)}s(yq,"isCollection");function vq(t,e,n,r=null){switch(r||(0,mw.detectType)(t)){case"Arguments":case"Array":case"Object":t[e]=n;break;case"Map":t.set(e,n);break;case"Set":t.add(n);break;default:}return t}s(vq,"set")});var gw=D(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.globalObject=void 0;var wq=typeof globalThis<"u"&&globalThis!==null&&globalThis.Object===Object&&globalThis,xq=typeof global<"u"&&global!==null&&global.Object===Object&&global,bq=typeof self<"u"&&self!==null&&self.Object===Object&&self,Aq=wq||xq||bq||Function("return this")();Ji.globalObject=Aq});var yw=D(Yi=>{"use strict";Object.defineProperty(Yi,"__esModule",{value:!0});Yi.default=void 0;var Sq=Jc(),Zc=gw();function kq(t){return t.slice(0)}s(kq,"copyArrayBuffer");function Eq(t){return new Boolean(t.valueOf())}s(Eq,"copyBoolean");function Tq(t){return new DataView(t.buffer)}s(Tq,"copyDataView");function qq(t){return(0,Sq.copy)(t)}s(qq,"copyBuffer");function Nq(t){return new Date(t.getTime())}s(Nq,"copyDate");function Pq(t){return new Number(t)}s(Pq,"copyNumber");function Oq(t){return new RegExp(t.source,t.flags)}s(Oq,"copyRegExp");function Cq(t){return new String(t)}s(Cq,"copyString");function sn(t,e){return Zc.globalObject[e].from?Zc.globalObject[e].from(t):new Zc.globalObject[e](t)}s(sn,"copyTypedArray");function ot(t){return t}s(ot,"shallowCopy");function hw(){return[]}s(hw,"getEmptyArray");function _q(){return new Map}s(_q,"getEmptyMap");function Rq(){return{}}s(Rq,"getEmptyObject");function Xq(){return new Set}s(Xq,"getEmptySet");var Dq=new Map([["ArrayBuffer",kq],["Boolean",Eq],["Buffer",qq],["DataView",Tq],["Date",Nq],["Number",Pq],["RegExp",Oq],["String",Cq],["Float32Array",sn],["Float64Array",sn],["Int16Array",sn],["Int32Array",sn],["Int8Array",sn],["Uint16Array",sn],["Uint32Array",sn],["Uint8Array",sn],["Uint8ClampedArray",sn],["Array Iterator",ot],["Map Iterator",ot],["Promise",ot],["Set Iterator",ot],["String Iterator",ot],["function",ot],["global",ot],["WeakMap",ot],["WeakSet",ot],["boolean",ot],["null",ot],["number",ot],["string",ot],["symbol",ot],["undefined",ot],["Arguments",hw],["Array",hw],["Map",_q],["Object",Rq],["Set",Xq]]);Yi.default=Dq});var vw=D(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.copy=Mq;var Iq=jq(yw()),Bq=Hi();function jq(t){return t&&t.__esModule?t:{default:t}}s(jq,"_interopRequireDefault");function Lq(){}s(Lq,"noop");function Mq(t,e=null,n=Lq){arguments.length===2&&typeof e=="function"&&(n=e,e=null);let r=e||(0,Bq.detectType)(t),a=Iq.default.get(r);if(r==="Object"){let o=n(t,r);if(o!==void 0)return o}return a?a(t,r):t}s(Mq,"copy")});var xw=D(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.default=Uq;var tu=Hi(),Br=dw(),nu=vw();function Fq(t,e){var n;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(n=$q(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,a=s(function(){},"F");return{s:a,n:s(function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},"n"),e:s(function(d){throw d},"e"),f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,l=!1,u;return{s:s(function(){n=t[Symbol.iterator]()},"s"),n:s(function(){var d=n.next();return o=d.done,d},"n"),e:s(function(d){l=!0,u=d},"e"),f:s(function(){try{!o&&n.return!=null&&n.return()}finally{if(l)throw u}},"f")}}s(Fq,"_createForOfIteratorHelper");function $q(t,e){if(t){if(typeof t=="string")return ww(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ww(t,e)}}s($q,"_unsupportedIterableToArray");function ww(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}s(ww,"_arrayLikeToArray");function Uq(t,e={}){typeof e=="function"&&(e={customizer:e});let n=e,r=n.customizer,a=(0,tu.detectType)(t);if(!(0,Br.isCollection)(a))return ru(t,null,null,null,r);let o=(0,nu.copy)(t,a,r),l=new WeakMap([[t,o]]),u=new WeakSet([t]);return ru(t,o,l,u,r)}s(Uq,"deepcopy");function ru(t,e,n,r,a){let o=(0,tu.detectType)(t),l=(0,nu.copy)(t,o);if(!(0,Br.isCollection)(o))return l;let u;switch(o){case"Arguments":case"Array":u=Object.keys(t);break;case"Object":u=Object.keys(t),u.push(...Object.getOwnPropertySymbols(t));break;case"Map":case"Set":u=t.keys();break;default:}var f=Fq(u),d;try{for(f.s();!(d=f.n()).done;){let g=d.value,v=(0,Br.get)(t,g,o);if(r.has(v))(0,Br.set)(e,g,n.get(v),o);else{let w=(0,tu.detectType)(v),b=(0,nu.copy)(v,w);(0,Br.isCollection)(w)&&(n.set(v,b),r.add(v)),(0,Br.set)(e,g,ru(v,b,n,r,a),o)}}}catch(g){f.e(g)}finally{f.f()}return e}s(ru,"recursiveCopy")});var iu=D((FI,bw)=>{bw.exports=xw().default});var La=D(($I,Aw)=>{"use strict";var up=class up{constructor(e,n,r){this._ns=e,this._fn=n,this._args=r}};s(up,"ServerType");var jr=up,pp=class pp extends jr{constructor(e,n,r){super(e,n,r)}};s(pp,"Item");var gt=pp,fp=class fp extends jr{constructor(e,n,r){super(e,n,r)}};s(fp,"SqlRowID");var su=fp,mp=class mp extends jr{constructor(e,n,r){super(e,n,r)}};s(mp,"SemBlank");var ou=mp,dp=class dp extends gt{constructor(e,n,r){super(e,n,r)}};s(dp,"Node");var ze=dp,gp=class gp extends gt{constructor(e,n,r){super(e,n,r)}};s(gp,"MapMap");var Zi=gp,hp=class hp extends gt{constructor(e,n,r){super(e,n,r)}};s(hp,"CtsReference");var ht=hp,yp=class yp extends gt{constructor(e,n,r){super(e,n,r)}};s(yp,"XsAnySimpleType");var es=yp,vp=class vp extends gt{constructor(e,n,r){super(e,n,r)}};s(vp,"CtsPeriod");var lu=vp,wp=class wp extends gt{constructor(e,n,r){super(e,n,r)}};s(wp,"CtsQuery");var cu=wp,xp=class xp extends gt{constructor(e,n,r){super(e,n,r)}};s(xp,"CtsRegion");var on=xp,bp=class bp extends gt{constructor(e,n,r){super(e,n,r)}};s(bp,"SemStore");var uu=bp,Ap=class Ap extends gt{constructor(e,n,r){super(e,n,r)}};s(Ap,"JsonArray");var pu=Ap,Sp=class Sp extends gt{constructor(e,n,r){super(e,n,r)}};s(Sp,"MathLinearModel");var fu=Sp,kp=class kp extends ze{constructor(e,n,r){super(e,n,r)}};s(kp,"ArrayNode");var Pa=kp,Ep=class Ep extends ze{constructor(e,n,r){super(e,n,r)}};s(Ep,"TextNode");var Oa=Ep,hs=class hs extends ze{constructor(e,n,r){super(e,n,r)}static[Symbol.hasInstance](e){return e instanceof Object&&(hs.prototype.isPrototypeOf(e)||e instanceof Ra||e instanceof Xa||e instanceof _a||e instanceof Oa)}};s(hs,"XmlContentNode");var mu=hs,Tp=class Tp extends ze{constructor(e,n,r){super(e,n,r)}};s(Tp,"ObjectNode");var Ca=Tp,qp=class qp extends ze{constructor(e,n,r){super(e,n,r)}};s(qp,"BooleanNode");var ts=qp,Np=class Np extends ze{constructor(e,n,r){super(e,n,r)}};s(Np,"AttributeNode");var du=Np,ys=class ys extends ze{constructor(e,n,r){super(e,n,r)}static[Symbol.hasInstance](e){return e instanceof Object&&(ys.prototype.isPrototypeOf(e)||e instanceof Pa||e instanceof ts||e instanceof rs||e instanceof ns||e instanceof Ca||e instanceof Oa)}};s(ys,"JsonContentNode");var gu=ys,Pp=class Pp extends ze{constructor(e,n,r){super(e,n,r)}};s(Pp,"DocumentNode");var hu=Pp,vs=class vs extends ze{constructor(e,n,r){super(e,n,r)}static[Symbol.hasInstance](e){return e instanceof Object&&(vs.prototype.isPrototypeOf(e)||e instanceof Pa||e instanceof Ca)}};s(vs,"JsonRootNode");var yu=vs,Op=class Op extends ze{constructor(e,n,r){super(e,n,r)}};s(Op,"ProcessingInstructionNode");var _a=Op,Cp=class Cp extends ze{constructor(e,n,r){super(e,n,r)}};s(Cp,"CommentNode");var Ra=Cp,_p=class _p extends ze{constructor(e,n,r){super(e,n,r)}};s(_p,"NumberNode");var ns=_p,Rp=class Rp extends ze{constructor(e,n,r){super(e,n,r)}};s(Rp,"NullNode");var rs=Rp,ws=class ws extends ze{constructor(e,n,r){super(e,n,r)}static[Symbol.hasInstance](e){return e instanceof Object&&(ws.prototype.isPrototypeOf(e)||e instanceof Ra||e instanceof Xa||e instanceof _a)}};s(ws,"XmlRootNode");var vu=ws,Xp=class Xp extends ze{constructor(e,n,r){super(e,n,r)}};s(Xp,"ElementNode");var Xa=Xp,Dp=class Dp extends Zi{constructor(e,n,r){super(e,n,r)}};s(Dp,"JsonObject");var wu=Dp,Ip=class Ip extends ht{constructor(e,n,r){super(e,n,r)}};s(Ip,"CtsGeospatialPathReference");var xu=Ip,Bp=class Bp extends ht{constructor(e,n,r){super(e,n,r)}};s(Bp,"CtsElementAttributeReference");var bu=Bp,jp=class jp extends ht{constructor(e,n,r){super(e,n,r)}};s(jp,"CtsJsonPropertyReference");var Au=jp,Lp=class Lp extends ht{constructor(e,n,r){super(e,n,r)}};s(Lp,"CtsPathReference");var Su=Lp,Mp=class Mp extends ht{constructor(e,n,r){super(e,n,r)}};s(Mp,"CtsIriReference");var ku=Mp,Fp=class Fp extends ht{constructor(e,n,r){super(e,n,r)}};s(Fp,"CtsUriReference");var Eu=Fp,$p=class $p extends ht{constructor(e,n,r){super(e,n,r)}};s($p,"CtsFieldReference");var Tu=$p,Up=class Up extends ht{constructor(e,n,r){super(e,n,r)}};s(Up,"CtsGeospatialRegionPathReference");var qu=Up,zp=class zp extends ht{constructor(e,n,r){super(e,n,r)}};s(zp,"CtsCollectionReference");var Nu=zp,Qp=class Qp extends ht{constructor(e,n,r){super(e,n,r)}};s(Qp,"CtsElementReference");var Pu=Qp,Gp=class Gp extends es{constructor(e,n,r){super(e,n,r)}};s(Gp,"XsAnyAtomicType");var Se=Gp,Wp=class Wp extends on{constructor(e,n,r){super(e,n,r)}};s(Wp,"CtsPoint");var Ou=Wp,Kp=class Kp extends on{constructor(e,n,r){super(e,n,r)}};s(Kp,"CtsPolygon");var Cu=Kp,Vp=class Vp extends on{constructor(e,n,r){super(e,n,r)}};s(Vp,"CtsCircle");var _u=Vp,Hp=class Hp extends on{constructor(e,n,r){super(e,n,r)}};s(Hp,"CtsComplexPolygon");var Ru=Hp,Jp=class Jp extends on{constructor(e,n,r){super(e,n,r)}};s(Jp,"CtsLinestring");var Xu=Jp,Yp=class Yp extends on{constructor(e,n,r){super(e,n,r)}};s(Yp,"CtsBox");var Du=Yp,Zp=class Zp extends Se{constructor(e,n,r){super(e,n,r)}};s(Zp,"XsTime");var Iu=Zp,ef=class ef extends Se{constructor(e,n,r){super(e,n,r)}};s(ef,"XsBoolean");var Bu=ef,xs=class xs extends Se{constructor(e,n,r){super(e,n,r)}static[Symbol.hasInstance](e){return e instanceof Object&&(xs.prototype.isPrototypeOf(e)||e instanceof Ia||e instanceof is||e instanceof as)}};s(xs,"XsNumeric");var ju=xs,tf=class tf extends Se{constructor(e,n,r){super(e,n,r)}};s(tf,"SemUnknown");var Lu=tf,nf=class nf extends Se{constructor(e,n,r){super(e,n,r)}};s(nf,"XsDuration");var Da=nf,rf=class rf extends Se{constructor(e,n,r){super(e,n,r)}};s(rf,"XsDecimal");var Ia=rf,af=class af extends Se{constructor(e,n,r){super(e,n,r)}};s(af,"XsBase64Binary");var Mu=af,sf=class sf extends Se{constructor(e,n,r){super(e,n,r)}};s(sf,"XsFloat");var as=sf,of=class of extends Se{constructor(e,n,r){super(e,n,r)}};s(of,"XsString");var Ba=of,lf=class lf extends Se{constructor(e,n,r){super(e,n,r)}};s(lf,"XsGYearMonth");var Fu=lf,cf=class cf extends Se{constructor(e,n,r){super(e,n,r)}};s(cf,"XsGMonthDay");var $u=cf,uf=class uf extends Se{constructor(e,n,r){super(e,n,r)}};s(uf,"XsUntypedAtomic");var Uu=uf,pf=class pf extends Se{constructor(e,n,r){super(e,n,r)}};s(pf,"XsQName");var zu=pf,ff=class ff extends Se{constructor(e,n,r){super(e,n,r)}};s(ff,"XsHexBinary");var Qu=ff,mf=class mf extends Se{constructor(e,n,r){super(e,n,r)}};s(mf,"XsGYear");var Gu=mf,df=class df extends Se{constructor(e,n,r){super(e,n,r)}};s(df,"XsGMonth");var Wu=df,gf=class gf extends Se{constructor(e,n,r){super(e,n,r)}};s(gf,"XsDateTime");var Ku=gf,hf=class hf extends Se{constructor(e,n,r){super(e,n,r)}};s(hf,"SemInvalid");var Vu=hf,yf=class yf extends Se{constructor(e,n,r){super(e,n,r)}};s(yf,"XsDouble");var is=yf,vf=class vf extends Se{constructor(e,n,r){super(e,n,r)}};s(vf,"XsAnyURI");var ss=vf,wf=class wf extends Se{constructor(e,n,r){super(e,n,r)}};s(wf,"SemBnode");var Hu=wf,xf=class xf extends Se{constructor(e,n,r){super(e,n,r)}};s(xf,"XsGDay");var Ju=xf,bf=class bf extends Se{constructor(e,n,r){super(e,n,r)}};s(bf,"XsDate");var Yu=bf,Af=class Af extends Da{constructor(e,n,r){super(e,n,r)}};s(Af,"XsYearMonthDuration");var Zu=Af,Sf=class Sf extends Da{constructor(e,n,r){super(e,n,r)}};s(Sf,"XsDayTimeDuration");var ep=Sf,kf=class kf extends Ia{constructor(e,n,r){super(e,n,r)}};s(kf,"XsInteger");var Lr=kf,Ef=class Ef extends Ba{constructor(e,n,r){super(e,n,r)}};s(Ef,"XsNormalizedString");var os=Ef,Tf=class Tf extends Ba{constructor(e,n,r){super(e,n,r)}};s(Tf,"RdfLangString");var tp=Tf,qf=class qf extends ss{constructor(e,n,r){super(e,n,r)}};s(qf,"SemIri");var np=qf,Nf=class Nf extends Lr{constructor(e,n,r){super(e,n,r)}};s(Nf,"XsNonPositiveInteger");var ls=Nf,Pf=class Pf extends Lr{constructor(e,n,r){super(e,n,r)}};s(Pf,"XsLong");var cs=Pf,Of=class Of extends Lr{constructor(e,n,r){super(e,n,r)}};s(Of,"XsNonNegativeInteger");var ja=Of,Cf=class Cf extends os{constructor(e,n,r){super(e,n,r)}};s(Cf,"XsToken");var Mr=Cf,_f=class _f extends ls{constructor(e,n,r){super(e,n,r)}};s(_f,"XsNegativeInteger");var rp=_f,Rf=class Rf extends cs{constructor(e,n,r){super(e,n,r)}};s(Rf,"XsInt");var us=Rf,Xf=class Xf extends ja{constructor(e,n,r){super(e,n,r)}};s(Xf,"XsUnsignedLong");var ps=Xf,Df=class Df extends ja{constructor(e,n,r){super(e,n,r)}};s(Df,"XsPositiveInteger");var ap=Df,If=class If extends Mr{constructor(e,n,r){super(e,n,r)}};s(If,"XsNMTOKEN");var ip=If,Bf=class Bf extends Mr{constructor(e,n,r){super(e,n,r)}};s(Bf,"XsLanguage");var sp=Bf,jf=class jf extends Mr{constructor(e,n,r){super(e,n,r)}};s(jf,"XsName");var fs=jf,Lf=class Lf extends us{constructor(e,n,r){super(e,n,r)}};s(Lf,"XsShort");var ms=Lf,Mf=class Mf extends ps{constructor(e,n,r){super(e,n,r)}};s(Mf,"XsUnsignedInt");var ds=Mf,Ff=class Ff extends fs{constructor(e,n,r){super(e,n,r)}};s(Ff,"XsNCName");var op=Ff,$f=class $f extends ms{constructor(e,n,r){super(e,n,r)}};s($f,"XsByte");var lp=$f,Uf=class Uf extends ds{constructor(e,n,r){super(e,n,r)}};s(Uf,"XsUnsignedShort");var gs=Uf,zf=class zf extends gs{constructor(e,n,r){super(e,n,r)}};s(zf,"XsUnsignedByte");var cp=zf;Aw.exports={ServerType:jr,ArrayNode:Pa,AttributeNode:du,BooleanNode:ts,CommentNode:Ra,CtsBox:Du,CtsCircle:_u,CtsCollectionReference:Nu,CtsComplexPolygon:Ru,CtsElementAttributeReference:bu,CtsElementReference:Pu,CtsFieldReference:Tu,CtsGeospatialPathReference:xu,CtsGeospatialRegionPathReference:qu,CtsIriReference:ku,CtsJsonPropertyReference:Au,CtsLinestring:Xu,CtsPathReference:Su,CtsPeriod:lu,CtsPoint:Ou,CtsPolygon:Cu,CtsQuery:cu,CtsReference:ht,CtsRegion:on,CtsUriReference:Eu,DocumentNode:hu,ElementNode:Xa,Item:gt,JsonContentNode:gu,JsonRootNode:yu,JsonArray:pu,JsonObject:wu,MapMap:Zi,MathLinearModel:fu,Node:ze,NullNode:rs,NumberNode:ns,ObjectNode:Ca,ProcessingInstructionNode:_a,RdfLangString:tp,SemBlank:ou,SemBnode:Hu,SemInvalid:Vu,SemIri:np,SemStore:uu,SemUnknown:Lu,SqlRowID:su,TextNode:Oa,XmlContentNode:mu,XmlRootNode:vu,XsAnyAtomicType:Se,XsAnySimpleType:es,XsAnyURI:ss,XsBase64Binary:Mu,XsBoolean:Bu,XsByte:lp,XsDate:Yu,XsDateTime:Ku,XsDayTimeDuration:ep,XsDecimal:Ia,XsDouble:is,XsDuration:Da,XsFloat:as,XsGDay:Ju,XsGMonth:Wu,XsGMonthDay:$u,XsGYear:Gu,XsGYearMonth:Fu,XsHexBinary:Qu,XsInt:us,XsInteger:Lr,XsLanguage:sp,XsLong:cs,XsName:fs,XsNCName:op,XsNegativeInteger:rp,XsNMTOKEN:ip,XsNonNegativeInteger:ja,XsNonPositiveInteger:ls,XsNormalizedString:os,XsNumeric:ju,XsPositiveInteger:ap,XsQName:zu,XsShort:ms,XsString:Ba,XsTime:Iu,XsToken:Mr,XsUnsignedByte:cp,XsUnsignedInt:ds,XsUnsignedLong:ps,XsUnsignedShort:gs,XsUntypedAtomic:Uu,XsYearMonthDuration:Zu}});var Ma=D((zI,Nw)=>{"use strict";var Le=La();function kw(t,e,n){if(e<n)throw new Error(`${t} takes a minimum of ${n} arguments but received: ${e}`)}s(kw,"checkMinArity");function Ew(t,e,n){if(e>n)throw new Error(`${t} takes a maximum of ${n} arguments but received: ${e}`)}s(Ew,"checkMaxArity");function As(t,e,n,r){kw(t,e,n),Ew(t,e,r)}s(As,"checkArity");function Fr(t,e,n,r,a,o,l){if(t===void 0){if(o)throw new Error(`${de(e,r,n)} is a required ${tt(a)} value`);return null}else if(Array.isArray(t)){if(l){if(t.length===0&&o)throw new Error(`${de(e,r,n)} array must have at least one ${tt(a)} value`)}else throw new Error(`${de(e,r,n)} must be one ${tt(a)} value instead of an array`);return t.map(d=>Sw(d,e,r,n,a))}let u=Sw(t,e,r,n,a);return l?[u]:u}s(Fr,"checkArg");function Sw(t,e,n,r,a){if(t==null||!Array.isArray(a)||a.length===0)return t;if(t instanceof Object){if(a.some(l=>t instanceof l))return t;if(t instanceof Number||t instanceof Boolean||t instanceof String)t=t.valueOf();else{if(t instanceof Le.ServerType)throw new Error(`${de(e,n,r)} must have type ${tt(a)}`);if(a.some(l=>{switch(l.name){case"PlanCtsReferenceMap":return Object.keys(t).every(P=>{if(t[P]instanceof Le.CtsReference)return!0;throw new Error(`${de(e,n,r)} has ${P} key without a CtsReference value for ${tt(a)}`)});case"PlanGroupConcatOption":return Object.keys(t).every(P=>{let R=t[P];switch(P){case"separator":if(typeof R=="string"||R instanceof String)return!0;throw new Error(`${de(e,n,r)} separator must be a string for ${tt(a)} options`);case"values":if(R==="distinct")return!0;throw new Error(`${de(e,n,r)} values can only be "distinct" for ${tt(a)} options`);default:return!1}});case"PlanSampleByOption":return Object.keys(t).every(P=>{let R=t[P];switch(P){case"limit":if(typeof R=="number"||R instanceof Number||typeof R=="string"||R instanceof String)return!0;throw new Error(`${de(e,n,r)} limit must be a number or string for ${tt(a)} options`);default:return!1}});case"PlanSearchOption":return Object.keys(t).every(P=>{let R=t[P];switch(P){case"scoreMethod":if(["logtfidf","logtf","simple","score-logtfidf","score-logtf","score-simple"].includes(R))return!0;throw new Error(`${de(e,n,r)} can only be logtfidf, logtf, or simple`);case"qualityWeight":if(typeof R=="number"||R instanceof Number)return!0;throw new Error(`${de(e,n,r)} must be a number`);default:return!1}});case"PlanSparqlOption":return Object.keys(t).every(P=>{let R=t[P];switch(P){case"dedup":switch(R){case"on":case"off":return!0;default:throw new Error(`${de(e,n,r)} values for dedup can only be "on" or "off" for ${tt(a)} options`)}break;case"base":if(typeof R=="string"||R instanceof String)return!0;throw new Error(`${de(e,n,r)} base must be a URI string for ${tt(a)} options`);default:return!1}});case"PlanTripleOption":return Object.keys(t).every(P=>{let R=t[P];switch(P){case"dedup":switch(R){case"on":case"off":return!0;default:throw new Error(`${de(e,n,r)} values for dedup can only be "on" or "off" for ${tt(a)} options`)}break;default:return!1}});case"PlanValueOption":return Object.keys(t).every(P=>{let R=t[P];switch(P){case"values":if(R==="distinct")return!0;throw new Error(`${de(e,n,r)} values can only be "distinct" for ${tt(a)} options`);default:return!1}});case"PlanXsValueMap":let f=Object.keys(t),d=f.length===2?t.columnNames:null,g=Array.isArray(d)?t.rowValues:null;return Array.isArray(g)?!!(d.every(P=>typeof P=="string"||P instanceof String)&&g.every(P=>Array.isArray(P)&&P.length<=d.length)):f.every(P=>{let R=t[P],O=typeof R;switch(O){case"boolean":return!0;case"number":return!0;case"string":return!0;case"object":if(R===null||R instanceof String||R instanceof Number||R instanceof Boolean)return!0;if(R instanceof Le.XsAnyAtomicType){let M=R._args;if(Array.isArray(M)&&M.every(j=>!(j instanceof Le.ServerType)))return!0;throw new Error(`${de(e,n,r)} has ${P} key with expression value`)}break;default:throw new Error(`${de(e,n,r)} has ${P} key with ${O} instead of ${tt(a)} literal value`)}});case"PlanDocDescriptor":let v=["uri","doc","collections","metadata","permissions","quality","temporalCollection"],w=Object.keys(t);if(!w.length)throw new Error(`${de(e,n,r)} - called with objects without document column keys such as "uri" for {}`);return w.every(P=>{let R=t[P],O=typeof R;if(v.includes(P)){if(P==="uri"||P==="temporalCollection"){if(O!=="string")throw new Error(`${de(e,n,r)} - ${P} key has type ${O} instead of 'string'`);return!0}if(P==="doc")return!0;if(P==="collections"||P==="permissions"){if(!Array.isArray(R))throw new Error(`${de(e,n,r)} - ${P} key must be array`);if(P==="permissions"){let M=[];for(let j=0;j<R.length;j++)if(R[j].hasOwnProperty("role-name"))for(let U=0;R[j].capabilities&&U<R[j].capabilities.length;U++){let G={};G.roleName=R[j]["role-name"],G.capability=R[j].capabilities[U],M.push(G)}t.permissions=M}return!0}if(P==="metadata"){if(O!=="object")throw new Error(`${de(e,n,r)} - ${P} key must be array or json object`);return!0}if(P==="quality"){if(typeof R!="number")throw new Error(`${de(e,n,r)} - ${P} key must be type of number`);return!0}}else throw new Error(`${de(e,n,r)} - no typechecking info available for: ${P}`)});case"PlanDocColsIdentifier":let b=["uri","doc","collections","metadata","permissions","quality","temporalCollection"];return Object.keys(t).every(P=>{let O=typeof t[P];if(b.includes(P)){if(O!=="string"&&O!=="object")throw new Error(`${de(e,n,r)} - invalid type: ${O} for: ${P}`);return!0}else throw new Error(`${de(e,n,r)} - unknown document descriptor found: ${P}`)});case"PlanSchemaDef":let E=Object.keys(t);return E.includes("kind")?E.every(P=>{if(P==="kind"){if(typeof t[P]!="string")throw new Error(`${de(e,n,r)} has another type than string`);return!0}if(P==="mode"){if(typeof t[P]!="string")throw new Error(`${de(e,n,r)} has another type than string`);return!0}if(P==="schemaUri"){if(typeof t[P]!="string")throw new Error(`${de(e,n,r)} has another type than string`);return!0}}):!1;case"PlanTransformDef":return Object.keys(t).every(P=>{let O=typeof t[P];if(P==="path"){if(O!=="string")throw new Error(`${de(e,n,r)} should be a type of string`);return!0}if(P==="kind"){if(O!=="string")throw new Error(`${de(e,n,r)} should be a type of string`);return!0}if(P==="params"&&O!=="object")throw new Error(`${de(e,n,r)} should be a type of object`);return!0});case"PlanRowColTypes":let q=Object.keys(t);return q.includes("column")?(q.every(P=>{if(P==="column"&&typeof t[P]!="string")throw new Error(`${de(e,n,r)} has another type than string`)}),!0):!1;default:return!1}}))return t;throw new Error(`${de(e,n,r)} has invalid argument for ${tt(a)} value: ${t}`)}}let o=typeof t;switch(o){case"boolean":if(Qf(a,[Le.XsBoolean,Le.BooleanNode,Le.JsonContentNode]))return t;break;case"number":if(Qf(a,[Le.XsDecimal,Le.XsDouble,Le.XsFloat,Le.XsNumeric,Le.NumberNode,Le.JsonContentNode]))return t;break;case"string":if(Qf(a,[Le.XsAnyAtomicType,Le.TextNode,Le.JsonContentNode,Le.XmlContentNode,Le.XsString]))return t;break;default:throw new Error(`${de(e,n,r)} must be a ${tt(a)} instead of ${o} value`)}throw new Error(`${de(e,n,r)} must be a ${tt(a)} value`)}s(Sw,"castArg");function Qf(t,e){return e.some(n=>{let r=n.prototype;return t.some(a=>{let o=a.prototype;return o===r||o.isPrototypeOf(r)||r.isPrototypeOf(o)})})}s(Qf,"isProtoChained");function de(t,e,n){return`${e} argument at ${n} of ${t}()`}s(de,"argLabel");function tt(t){return t.map(e=>e.name).join(" or ")}s(tt,"typeLabel");function Tw(t,e){let n=zq(t);return n===null||n[e]===void 0?null:n}s(Tw,"getNamer");function zq(t){let e=t.length===1?t[0]:void 0;return e!==null&&!Array.isArray(e)&&typeof e=="object"?e:null}s(zq,"getOptionalArg");function Qq(t,e,n,r,a){let o=r.length;return n?kw(t,a.length,e):As(t,a.length,e,o),a.map((l,u)=>{let f=n&&u>=o?o-1:u,d=r[f];return Fr(l,t,u,d[0],d[1],d[2],d[3])})}s(Qq,"makePositionalArgs");function Gq(t,e,n,r,a,o){Object.keys(t).forEach(d=>{if(!r.has(d))throw new Error(`${d} is not a named parameter of ${e}`)}),o=[];let l=null,u=0,f=-1;for(let d of r){let g=t[d];if(g!==void 0){for(l=a[++f];f<u;)o.push(Fr(null,e,f,l[0],l[1],l[2],l[3])),l=a[++f];o.push(Fr(g,e,u,d,l[1],l[2],l[3]))}u++}for(;++f<n;)l=a[f],o.push(Fr(null,e,f,l[0],l[1],l[2],l[3]));return As(e,o.length,n,r.length),o}s(Gq,"makeNamedArgs");function Wq(t,e,n,r){let a=r.length;if(As(t,a,e,1),a===1){let o=n[0],l=Tw(r,o);if(l===null||l instanceof Le.ServerType)r[0]=Fr(r[0],t,0,o,n[1],n[2],n[3]);else{if(Object.keys(l).length>1)throw new Error(`named parameter object has keys other than ${o} for ${t}`);r[0]=Fr(l[o],t,0,o,n[1],n[2],n[3])}}return r}s(Wq,"makeSingleArgs");function qw(t){let e=t._operators;if(!Array.isArray(e))throw new Error("operator list is not an array: "+e);return{ns:"op",fn:"operators",args:e.map(n=>Kq(n))}}s(qw,"exportOperators");function Kq(t){let e=t._ns,n=t._fn,r=t._args;if(e!=="op"||n===void 0||!Array.isArray(r))throw new Error(`cannot export invalid operator: ${t}`);let a=null;switch(n){case"from-literals":a=r.map((o,l)=>{if(l===0){let u=Array.isArray(o)?o.length===1?o[0]:void 0:o;if(u===void 0)return bs(o);{let f=u.columnNames,d=u.rowValues;if(f===void 0||d===void 0)return[cr(u)];if(Array.isArray(f)&&Array.isArray(d))return d.map(g=>{if(!Array.isArray(g))throw new Error(`literal row is not array: ${g}`);let v={};return g.forEach((w,b)=>{if(b>f.length)throw new Error(`more values than column names: ${g}`);v[f[b]]=w}),v});throw new Error(`no literals: ${t}`)}}else return cr(o)});break;case"join-inner":case"join-left-outer":case"join-cross-product":case"except":case"intersect":case"union":a=r.map((o,l)=>l===0?qw(o):cr(o));break;default:a=bs(r);break}return{ns:e,fn:n,args:a}}s(Kq,"exportOperator");function Vq(t){let e=t._ns,n=t._fn,r=t._args;return e!==void 0&&n!==void 0&&Array.isArray(r)?{ns:e,fn:n,args:bs(r)}:Object.getOwnPropertyNames(t).reduce((a,o)=>(a[o]=cr(t[o]),a),{})}s(Vq,"exportObject");function bs(t){return t==null||t.length===0||t.length===1&&t[0]===null?[]:t.map(e=>cr(e))}s(bs,"exportArgs");function cr(t){if(t===null||typeof t!="object"||t instanceof String||t instanceof Number||t instanceof Boolean)return t;if(Array.isArray(t)){if(t.length===1)return cr(t[0])}else return Vq(t);return bs(t)}s(cr,"exportArg");function Hq(t){return{$optic:qw(t)}}s(Hq,"doExport");Nw.exports={checkArity:As,checkMaxArity:Ew,exportArg:cr,getNamer:Tw,makeNamedArgs:Gq,makePositionalArgs:Qq,makeSingleArgs:Wq,doExport:Hq}});var Hr=D((GI,Fw)=>{"use strict";var ve=require("util"),Jq=iu(),N=Oe(),Yq=La(),Zq=Ma(),eN={"<":"LT","<=":"LE",">":"GT",">=":"GE","=":"EQ","!=":"NE"},tN={"xs:anyURI":"xs:anyURI","xs:date":"xs:date","xs:dateTime":"xs:dateTime","xs:dayTimeDuration":"xs:dayTimeDuration","xs:decimal":"xs:decimal","xs:double":"xs:double","xs:float":"xs:float","xs:gDay":"xs:gDay","xs:gMonth":"xs:gMonth","xs:gMonthDay":"xs:gMonthDay","xs:gYear":"xs:gYear","xs:gYearMonth":"xs:gYearMonth","xs:int":"xs:int","xs:long":"xs:long","xs:string":"xs:string","xs:time":"xs:time","xs:unsignedInt":"xs:unsignedInt","xs:unsignedLong":"xs:unsignedLong","xs:yearMonthDuration":"xs:yearMonthDuration"};function xo(t){return typeof t=="string"||t instanceof String?Ws(t):t}s(xo,"asIndex");function bo(t,e,n){var r=n||!1;e instanceof Bn?t["json-property"]=e["json-property"]:e instanceof Xt?t.element=e.element:e instanceof yt?(t.element=e.element,t.attribute=e.attribute):r||(e instanceof pr?t.field=e.field:e instanceof In&&(t["path-index"]=e["path-index"]))}s(bo,"addIndex");function Pw(t){if(t==null)return t;var e=t.length;if(e===0)return t;for(var n=0;n<e;n++)Dt(t[n]);return t}s(Pw,"checkQueryArray");function Dt(t){if(typeof t=="object"&&t!==null&&!(t instanceof Ae))throw t instanceof Ut?new Error("subquery must supply literal criteria for: "+t.name):new Error("subquery is not a query definition: "+N.identify(t,!0));return t}s(Dt,"checkQuery");function Me(){if(!(this instanceof Me))return new Me}s(Me,"QueryBuilder");function Ae(){if(!(this instanceof Ae))return new Ae}s(Ae,"QueryDef");function Ut(){if(!(this instanceof Ut))return new Ut}s(Ut,"ConstraintDef");function Ow(){for(var t=N.asArray.apply(null,arguments),e=[],n=null,r=null,a=0;a<t.length;a++){if(r=t[a],n===null){if(r instanceof za){n=r.ordered;continue}else if(typeof r=="boolean"){n=r;continue}}r instanceof Array?Array.prototype.push.apply(e,r):e.push(r)}return new Ss(new Xn(e,n,null,null))}s(Ow,"and");function Ss(t){if(!(this instanceof Ss))return new Ss(t);if(t!=null)if(t instanceof Xn)this["and-query"]=t;else throw new Error("invalid and() query: "+N.identify(t,!0));else this["and-query"]=new Xn([])}s(Ss,"AndDef");ve.inherits(Ss,Ae);function Xn(t,e,n,r){if(!(this instanceof Xn))return new Xn(t,e,n,r);if(Array.isArray(t))this.queries=Pw(t);else throw new Error("invalid query list: "+N.identify(t,!0));if(e!=null)if(typeof e=="boolean")this.ordered=e;else throw new Error("invalid order for query list: "+N.identify(e,!0));if(n!=null)if(typeof n=="number"||n instanceof Number)this.weight=n;else throw new Error("invalid weight for query list: "+N.identify(n,!0));if(r!=null)if(typeof r=="number"||r instanceof Number)this.distance=r;else throw new Error("invalid distance for query list: "+N.identify(r,!0))}s(Xn,"QueryListDef");function nN(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:throw new Error("missing positive and negative queries");case 1:throw new Error("has positive but missing negative query: "+N.identify(t[0],!0));case 2:return new ks(new $r(t[0],t[1]));default:throw new Error("more than two arguments for andNot(): "+t.length)}}s(nN,"andNot");function ks(t){if(!(this instanceof ks))return new ks(t);if(t instanceof $r)this["and-not-query"]=t;else throw new Error("invalid andNot() query: "+N.identify(t,!0))}s(ks,"AndNotDef");ve.inherits(ks,Ae);function $r(t,e){if(!(this instanceof $r))return new $r(t,e);if(t!=null)this["positive-query"]=Dt(t);else throw new Error("missing positive query");if(e!=null)this["negative-query"]=Dt(e);else throw new Error("missing negative query")}s($r,"PositiveNegativeDef");function rN(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:throw new Error("missing element and attribute");case 1:throw new Error("has element but missing attribute: "+N.identify(t[0],!0));case 2:return new yt(t[0]instanceof we?t[0]:Array.isArray(t[0])?Fa.call(null,t[0]):new we(null,t[0]),t[1]instanceof we?t[1]:Array.isArray(t[1])?Fa.call(null,t[1]):new we(null,t[1]));case 3:return t[0]instanceof we?new yt(t[0],new we(t[1],t[2])):t[2]instanceof we?new yt(new we(t[0],t[1]),t[2]):Array.isArray(t[0])?new yt(Fa.call(null,t[0]),new we(t[1],t[2])):Array.isArray(t[2])?new yt(new we(t[0],t[1]),Fa.call(null,t[2])):new yt(new we(t[0],t[1]),new we(null,t[2]));default:return new yt(new we(t[0],t[1]),new we(t[2],t[3]))}}s(rN,"attribute");function yt(t,e){if(!(this instanceof yt))return new yt(t,e);if(t instanceof we)this.element=t;else throw new Error("invalid element QName for attribute identifier: "+N.identify(t,!0));if(e instanceof we)this.attribute=e;else throw new Error("invalid attribute QName for identifier: "+N.identify(e,!0))}s(yt,"AttributeDef");function aN(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:throw new Error("missing matching and boosting queries");case 1:throw new Error("has matching but missing boosting query: "+N.identify(t[0],!0));case 2:return new Es(new Ts(t[0],t[1]));default:throw new Error("too many arguments for boost(): "+t.length)}}s(aN,"boost");function Es(t){if(!(this instanceof Es))return new Es(t);if(t instanceof Ts)this["boost-query"]=t;else throw new Error("invalid boost() query: "+N.identify(t,!0))}s(Es,"BoostDef");ve.inherits(Es,Ae);function Ts(t,e){if(!(this instanceof Ts))return new Ts(t,e);if(t!=null)this["matching-query"]=Dt(t);else throw new Error("missing matching query");if(e!=null)this["boosting-query"]=Dt(e);else throw new Error("missing boosting query")}s(Ts,"MatchingBoostingDef");function iN(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:throw new Error("missing four corners for box");case 1:if(t[0]instanceof Wr)return new Ur(t[0]);throw new Error("invalid box corners: "+N.identify(t[0],!0));case 2:throw new Error("has two corners but missing two corners for box");case 3:throw new Error("has three corners but missing one corner for box");case 4:return new Ur(new Wr(t[0],t[1],t[2],t[3]));default:throw new Error("too many arguments for box: "+t.length)}}s(iN,"box");function Ur(t){if(!(this instanceof Ur))return new Ur(t);if(t instanceof Wr)this.box=t;else throw t==null?new Error("missing definition for box region"):new Error("invalid definition for box region: "+N.identify(t,!0))}s(Ur,"BoxRegionDef");function sN(){var t=N.asArray.apply(null,arguments),e=null;switch(t.length){case 0:throw new Error("missing radius and center for circle");case 1:throw new Error("has radius but missing center for circle");case 2:if(e=t[1],e instanceof zt){if(e.point.length===1)return new _n(new ur(t[0],e.point))}else{if(e instanceof vt)return new _n(new ur(t[0],[e]));if(Array.isArray(e)&&e.length===2)return new _n(new ur(t[0],[new vt(e[0],e[1])]))}throw new Error("invalid center for circle: "+N.identify(e,!0));case 3:return new _n(new ur(t[0],[new vt(t[1],t[2])]));default:throw new Error("too many arguments for circle: "+t.length)}}s(sN,"circle");function _n(t){if(!(this instanceof _n))return new _n(t);if(t instanceof ur)this.circle=t;else throw t==null?new Error("missing definition for circle region"):new Error("invalid definition for circle region: "+N.identify(t,!0))}s(_n,"CircleRegionDef");function ur(t,e){if(!(this instanceof ur))return new ur(t,e);if(typeof t=="number"||t instanceof Number)this.radius=t;else throw t==null?new Error("missing radius for circle"):new Error("invalid radius for circle: "+N.identify(t,!0));if(Array.isArray(e)&&e.length===1&&e[0]instanceof vt)this.point=e;else throw e==null?new Error("missing center for circle"):new Error("invalid center for circle: "+N.identify(e,!0))}s(ur,"CircleDef");function oN(){var t=N.asArray.apply(null,arguments),e=t.length;if(e===0)return new $a(null,null,null);for(var n=null,r=null,a=null,o=null,l=0;l<e;l++){if(o=t[l],n===null&&o instanceof pn){n=o.constraintName;continue}if(r===null&&o instanceof fr){r=o["suggest-option"];continue}if(e<4&&a===null&&(typeof o=="string"||o instanceof String)){a=o;continue}break}if(n!=null){if(l<e)throw new Error("collection has both query and binding: "+N.identify(t,!0));return new $a(n,r,new qs(a))}if(r!=null)throw new Error("collection has both query and suggest options: "+N.identify(t,!0));return new Ns(new Dn(t,null))}s(oN,"collection");function $a(t,e,n){if(!(this instanceof $a))return new $a(n);if(t===null&&e===null&&n===null)this.collection=null;else{if(n instanceof qs)this.collection=n;else throw n==null?new Error("missing qualifier definition for collection binding"):new Error("invalid qualifier definition for collection binding: "+N.identify(n,!0));Ao(this,t,e)}}s($a,"CollectionConstraintDef");ve.inherits($a,Ut);function qs(t){if(!(this instanceof qs))return new qs(t);if(typeof t=="string"||t instanceof String)this.prefix=t;else if(t!=null)throw new Error("invalid prefix for collection binding: "+N.identify(t,!0));this.facet=!1}s(qs,"CollectionQualifierDef");function Ns(t){if(!(this instanceof Ns))return new Ns(t);if(t instanceof Dn)this["collection-query"]=t;else throw new Error("invalid uri list for collection(): "+N.identify(t,!0))}s(Ns,"CollectionQueryDef");ve.inherits(Ns,Ae);function lN(){var t=N.asArray.apply(null,arguments),e=t.length;if(e<1)throw new Error("no temporal collection for lsqt query");for(var n=null,r=null,a=null,o=null,l=null,u=0;u<t.length;u++){if(l=t[u],u===0){if(typeof l!="string"&&!(l instanceof String))throw new Error("first argument for lsqt query must be temporal collection: "+N.identify(l,!0));n=l;continue}if(r===null&&l instanceof un){r=l.weight;continue}if(a===null){if(typeof l=="string"||l instanceof String){a=l;continue}else if(Object.prototype.toString.call(l)==="[object Date]"){a=l.toISOString();continue}}if(o===null&&l instanceof Gr){o=l["temporal-option"];continue}throw new Error("unknown argument for lsqt query: "+N.identify(l,!0))}return new Ps(new Os(n,r,a,o))}s(lN,"lsqtQuery");function Ps(t){if(!(this instanceof Ps))return new Ps(t);if(t instanceof Os)this["lsqt-query"]=t;else throw t==null?new Error("missing LSQT query definition"):new Error("invalid LSQT query definition: "+N.identify(t,!0))}s(Ps,"LSQTDef");ve.inherits(Ps,Ae);function Os(t,e,n,r){if(!(this instanceof Os))return new Os(t,e,n,r);if(typeof t=="string"||t instanceof String)this["temporal-collection"]=t;else throw t==null?new Error("missing temporal collection"):new Error("invalid temporal collection: "+N.identify(t,!0));if(e!=null)if(typeof e=="number"||e instanceof Number)this.weight=e;else throw new Error("invalid weight: "+N.identify(e,!0));if(n!=null)if(typeof n=="string"||n instanceof String)this.timestamp=n;else throw new Error("invalid timestamp: "+N.identify(n,!0));r!=null&&(this["temporal-option"]=r)}s(Os,"LSQTQueryDef");function cN(){var t=N.asArray.apply(null,arguments);if(t.length<1)throw new Error("element or property scope not specified");for(var e=null,n=null,r=null,a=null,o=null,l=0;l<t.length;l++){if(o=t[l],l===0){e=xo(o);continue}if(r===null&&o instanceof ln){r=o["fragment-scope"];continue}if(n===null&&o instanceof pn){n=o.constraintName;continue}if(a===null){a=o;continue}throw new Error("unknown argument for scope: "+N.identify(o,!0))}if(a!=null){if(n!=null)throw new Error("scope has both binding and query: "+N.identify(t,!0));return new _s(new zr(e,r,a))}if(n==null&&(n=So(e),n==null))throw new Error("could not default constraint name from "+Object.keys(e).join(", ")+" index");return new Cs(n,new zr(e,r,null))}s(cN,"scope");function Cs(t,e){if(!(this instanceof Cs))return new Cs(e);if(typeof t=="string"||t instanceof String)this.name=t;else throw t==null?new Error("missing constraint name for container"):new Error("invalid constraint name for container: "+N.identify(t,!0));if(e instanceof zr)this.container=e;else throw e==null?new Error("missing contained definition for container binding"):new Error("invalid contained definition for container binding: "+N.identify(e,!0))}s(Cs,"ContainerConstraintDef");ve.inherits(Cs,Ut);function _s(t){if(!(this instanceof _s))return new _s(t);if(t instanceof zr)this["container-query"]=t;else throw t==null?new Error("missing contained definition for container query"):new Error("invalid contained definition for container query: "+N.identify(t,!0))}s(_s,"ContainerQueryDef");ve.inherits(_s,Ae);function zr(t,e,n){if(!(this instanceof zr))return new zr(t,e,n);if(t!=null)bo(this,t,!0);else throw new Error("missing JSON property or XML element");if(e!=null&&(this["fragment-scope"]=e),n!=null)for(var r=Object.keys(n),a=null,o=0;o<r.length;o++)a=r[o],this[a]=n[a]}s(zr,"ContainedDef");function uN(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:throw new Error("missing datatype");case 1:return new Qr(t[0]);case 2:return new Qr(t[0],t[1]);default:throw new Error("too many arguments for datatype: "+t.length)}}s(uN,"datatype");function Qr(t,e){if(!(this instanceof Qr))return new Qr(t,e);if(typeof t=="string"||t instanceof String)this.datatype=t.indexOf(":")!==-1?t:"xs:"+t;else throw t==null?new Error("missing datatype"):new Error("invalid datatype: "+N.identify(t,!0));if(typeof e=="string"||e instanceof String)this.collation=e;else if(e!=null)throw new Error("invalid collation for datatype: "+N.identify(e,!0))}s(Qr,"DatatypeDef");function pN(){for(var t=N.asArray.apply(null,arguments),e=[],n=null,r=null,a=0;a<t.length;a++)r=t[a],n===null&&typeof r=="boolean"?n=r:r instanceof Array?Array.prototype.push.apply(e,r):e.push(r);return new Rs(new Dn(e,n))}s(pN,"directory");function Rs(t){if(!(this instanceof Rs))return new Rs(t);if(t instanceof Dn)this["directory-query"]=t;else throw new Error("invalid uri list for directory(): "+N.identify(t,!0))}s(Rs,"DirectoryQueryDef");ve.inherits(Rs,Ae);function fN(){return new Xs(new Dn(N.asArray.apply(null,arguments),null))}s(fN,"document");function Xs(t){if(!(this instanceof Xs))return new Xs(t);if(t instanceof Dn)this["document-query"]=t;else throw new Error("invalid uri list for document(): "+N.identify(t,!0))}s(Xs,"DocumentDef");ve.inherits(Xs,Ae);function Dn(t,e){if(!(this instanceof Dn))return new Dn(t,e);if(Array.isArray(t)){if(t.length===0)throw new Error("empty uri list");this.uri=t}else throw new Error("invalid uri list: "+N.identify(t,!0));if(e!=null){if(typeof e!="boolean")throw new Error("infinite flag must be boolean: "+N.identify(e,!0));this.infinite=e}}s(Dn,"UrisDef");function mN(){return new Ds(N.first.apply(null,arguments))}s(mN,"documentFragment");function Ds(t){if(!(this instanceof Ds))return new Ds(t);if(t!=null)this["document-fragment-query"]=Dt(t);else throw new Error("missing query")}s(Ds,"DocumentFragmentDef");ve.inherits(Ds,Ae);function dN(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:throw new Error("missing element name");case 1:return t[0]instanceof we?new Xt(t[0]):new Xt(new we(null,t[0]));case 2:return new Xt(new we(t[0],t[1]));default:throw new Error("too many arguments for element identifier: "+t.length)}}s(dN,"element");function Xt(t){if(!(this instanceof Xt))return new Xt(t);if(t instanceof we)this.element=t;else throw t==null?new Error("missing QName for element identifier"):new Error("invalid QName for element identifier: "+N.identify(t,!0))}s(Xt,"ElementDef");function gN(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:throw new Error("missing field name");case 1:return new pr(new Ua(t[0]));case 2:return new pr(new Ua(t[0],t[1]));default:throw new Error("too many arguments for field identifier: "+t.length)}}s(gN,"field");function pr(t){if(!(this instanceof pr))return new pr(t);if(t instanceof Ua)this.field=t;else throw t==null?new Error("missing name for field identifier"):new Error("invalid name for field identifier: "+N.identify(t,!0))}s(pr,"FieldDef");function Ua(t,e){if(!(this instanceof Ua))return new Ua(t,e);if(typeof t=="string"||t instanceof String)this.name=t;else throw t==null?new Error("missing name for field"):new Error("invalid name for field: "+N.identify(t,!0));if(typeof e=="string"||e instanceof String)this.collation=e;else if(e!=null)throw new Error("invalid collation for field: "+N.identify(e,!0))}s(Ua,"FieldNameDef");function hN(){return new ln(N.first.apply(null,arguments))}s(hN,"fragmentScope");function ln(t){if(!(this instanceof ln))return new ln(t);if(t==="documents"||t==="properties")this["fragment-scope"]=t;else throw t==null?new Error("missing scope for fragment scope"):new Error("invalid scope for fragment scope: "+N.identify(t,!0))}s(ln,"FragmentScopeDef");function yN(){var t=N.asArray.apply(null,arguments);if(t.length<2)throw new Error("need at least two parameters for geospatial attribute pair query");for(var e={},n=["parent","lat","lon"],r=0,a=0;a<n.length;a++){var o=n[a],l=t[r++];if(l instanceof we)e[o]=l;else if(typeof l=="string"||l instanceof String)e[o]=new we(null,l);else if(l instanceof Xt)e.parent=l.element;else if(l instanceof yt)(o==="parent"||!e.parent)&&(e.parent=l.element,a++),e[n[a]]=l.attribute;else throw new Error("no parameter for "+o+": "+JSON.stringify(l))}return{"geo-attr-pair":e}}s(yN,"geoAttributePair");function vN(){var t=N.asArray.apply(null,arguments),e=t.length;if(e<1)throw new Error("need at least one parameter for geospatial element query");for(var n={},r=Math.min(e,2),a=null,o=null,l=0;l<r;){if(o=t[l],!(o instanceof we))if(typeof o=="string"||o instanceof String)o=new we(null,o);else if(o instanceof Xt)o=o.element;else break;a!==null&&(n.parent=a),a=o,l++}if(a===null)throw new Error("element name required for geospatial location: "+N.identify(t,!0));return n.element=a,a=null,{"geo-elem":n}}s(vN,"geoElement");function wN(){var t=N.asArray.apply(null,arguments);if(t.length<2)throw new Error("need at least two parameters for geospatial element pair query");for(var e={},n=["parent","lat","lon"],r=null,a=null,o=0;o<n.length;o++)if(r=n[o],a=t[o],a instanceof we)e[r]=a;else if(typeof a=="string"||a instanceof String)e[r]=new we(null,a);else if(a instanceof Xt)e[r]=a.element;else throw new Error("no parameter for "+r+": "+JSON.stringify(a));return{"geo-elem-pair":e}}s(wN,"geoElementPair");function xN(){var t=N.asArray.apply(null,arguments),e=t.length;if(e<1)throw new Error("need at least one parameters for geospatial property query");for(var n={},r=Math.min(e,2),a=null,o=null,l=0;l<r;){if(o=t[l],o instanceof Bn)o=o["json-property"];else if(typeof o!="string"&&!(o instanceof String))break;a!==null&&(n["parent-property"]=a),a=o,l++}if(a===null)throw new Error("property name required for geospatial location: "+N.identify(t,!0));return n["json-property"]=a,a=null,{"geo-json-property":n}}s(xN,"geoProperty");function bN(){var t=N.asArray.apply(null,arguments);if(t.length<2)throw new Error("need at least two parameters for geospatial property pair query");for(var e={},n=["parent-property","lat-property","lon-property"],r=null,a=null,o=0;o<n.length;o++)if(r=n[o],a=t[o],typeof a=="string"||a instanceof String)e[r]=a;else if(a instanceof Bn)e[r]=a["json-property"];else throw new Error("no parameter for "+r+": "+JSON.stringify(a));return{"geo-json-property-pair":e}}s(bN,"geoPropertyPair");function AN(){var t=N.asArray.apply(null,arguments);if(t.length<1)throw new Error("need at least one parameter for geospatial path query");for(var e={},n=!0,r=null,a=null,o=0;o<t.length;o++){if(a=t[o],o===0){if(a instanceof In)e["path-index"]=a["path-index"],n=!1;else if(a["path-index"]!=null){e["path-index"]=a["path-index"],r=a.coordSystem,r!=null&&(e.coordSystem=r),n=!1;break}else if(typeof a=="string"||a instanceof String)r=a;else throw new Error("geospatial path without index location");continue}if(a instanceof Qs){e.coord=a.coord;continue}if(n)if(n=!1,typeof a=="object"&&a!==null){e["path-index"]=new Rn(r,a);continue}else e["path-index"]=new Rn(r);throw new Error("geospatial path with unknown argument: "+a)}return n&&(e["path-index"]=new Rn(r)),{"geo-path":e}}s(AN,"geoPath");function SN(){return Cw.call(this,!1,N.asArray.apply(null,arguments))}s(SN,"geospatial");function kN(){return Cw.call(this,!0,N.asArray.apply(null,arguments))}s(kN,"geospatialRegion");function Cw(t,e){if(e.length<1)throw new Error("need at least one parameter for geospatial query");for(var n={"geo-attr-pair":!0,"geo-elem":!0,"geo-elem-pair":!0,"geo-json-property":!0,"geo-json-property-pair":!0,"geo-path":!0},r=null,a=null,o=null,l=null,u=!0,f=!0,d=!0,g=!0,v=!0,w=null,b=null,S=0;S<e.length;S++){if(b=e[S],S===0){if(w=Object.keys(b)[0],n[w]){a=w,r=b[w];continue}throw new Error("unknown geospatial location: "+N.identify(w,!0))}if(d&&b instanceof js){r["geo-option"]=b["geo-option"],d=!1;continue}if(u&&b instanceof un){r.weight=b.weight,u=!1;continue}if(f&&b instanceof ln){r["fragment-scope"]=b["fragment-scope"],f=!1;continue}if(o===null&&b instanceof pn){o=b.constraintName;continue}if(l===null&&b instanceof fr){l=b["suggest-option"];continue}if(g){if(b instanceof Ur){r.box=b.box,g=!1;continue}else if(b instanceof _n){r.circle=b.circle,g=!1;continue}else if(b instanceof zt){r.point=b.point,g=!1;continue}else if(b instanceof vt){r.point=[b],g=!1;continue}else if(b instanceof Qa){r.polygon=b.polygon,g=!1;continue}else if(b instanceof Array&&b.length===2){r.point=[new vt(b[0],b[1])],g=!1;continue}}if(v&&typeof b=="string")if(t){r["geospatial-operator"]=b,a="geo-region-path",v=!1;continue}else throw new Error("Unsupported "+b+" operator");throw new Error("unknown geospatial argument: "+N.identify(b,!0))}if(g===!1){if(o!=null)throw new Error(a+" has both query and binding: "+N.identify(e,!0));if(l!=null)throw new Error(a+" has both query and suggest options: "+N.identify(e,!0));return new Is(a,r)}return new Bs(a,r,o,l)}s(Cw,"geospatialImpl");function Is(t,e){if(!(this instanceof Is))return new Is(t,e);if(e!=null)this[t+"-query"]=e;else throw new Error(t+" missing query")}s(Is,"GeospatialQueryDef");ve.inherits(Is,Ae);function Bs(t,e,n,r){if(!(this instanceof Bs))return new Bs(t,e,n,r);this[t]=e,n!=null&&(this.name=n),r!=null&&(this["suggest-option"]=r)}s(Bs,"GeospatialConstraintDef");ve.inherits(Bs,Ut);function EN(){var t=N.asArray.apply(null,arguments),e=t.length;if(e<1)throw new Error("no region or divisions for heat map");var n={};switch(e){case 3:var r=t[0],a=t[1],o=t[2],l=null;if(typeof r=="object"&&r!==null)l=r,n.latdivs=a,n.londivs=o;else if(typeof o=="object"&&o!==null)l=o,n.latdivs=r,n.londivs=a;else throw new Error("no first or last region for heat map");for(var u=["s","w","n","e"],f=0;f<u.length;f++){var d=u[f],g=l[d];if(g!=null){n[d]=g;continue}else{var v=null;switch(d){case"s":v="south";break;case"w":v="west";break;case"n":v="north";break;case"e":v="east";break}if(g=v!==null?l[v]:null,g!=null){n[d]=g;continue}}throw new Error("heat map does not have "+d+" key")}break;case 6:n.latdivs=t[0],n.londivs=t[1],n.s=t[2],n.w=t[3],n.n=t[4],n.e=t[5];break;default:throw new Error("could not assign parameters to heat map")}return{heatmap:n}}s(EN,"heatmap");function TN(){return new js(N.asArray.apply(null,arguments))}s(TN,"geoOptions");function js(t){if(!(this instanceof js))return new js(t);if(Array.isArray(t)){if(t.length===0)throw new Error("empty options list");this["geo-option"]=t}else throw new Error("invalid options list: "+t)}s(js,"GeoOptionsDef");function _w(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:throw new Error("missing latitude and longitude for latlon coordinate");case 1:throw new Error("missing longitude for latlon coordinate");case 2:return new vt(t[0],t[1]);default:throw new Error("too many arguments for latlon coordinate: "+t.length)}}s(_w,"latlon");function vt(t,e){if(!(this instanceof vt))return new vt(t,e);if(typeof t=="number"||t instanceof Number)this.latitude=t;else throw t==null?new Error("missing latitude for latitude-longitude coordinate"):new Error("invalid latitude for latitude-longitude coordinate: "+N.identify(t,!0));if(typeof e=="number"||e instanceof Number)this.longitude=e;else throw e==null?new Error("missing longitude for latitude-longitude coordinate"):new Error("invalid longitude for latitude-longitude coordinate: "+N.identify(e,!0))}s(vt,"LatLongDef");function qN(){return new Ls(N.first.apply(null,arguments))}s(qN,"locksFragment");function Ls(t){if(!(this instanceof Ls))return new Ls(t);if(t!=null)this["locks-fragment-query"]=Dt(t);else throw new Error("missing query")}s(Ls,"LocksFragmentDef");ve.inherits(Ls,Ae);function NN(){return new Ms(N.first.apply(null,arguments))}s(NN,"minDistance");function Ms(t){if(!(this instanceof Ms))return new Ms(t);if(typeof t=="number"||t instanceof Number)this.minDistance=t;else throw new Error("invalid minimum distance: "+N.identify(t,!0))}s(Ms,"MinDistanceDef");function PN(){var t=N.asArray.apply(null,arguments);if(t.length<1)throw new Error("need at least a subquery for near query");return new Fs(t)}s(PN,"near");function Fs(t){if(!(this instanceof Fs))return new Fs(t);for(var e={},n=[],r=!0,a=!0,o=!0,l=!0,u=null,f=0;f<t.length;f++){if(u=t[f],r){if(u instanceof za){e.ordered=u.ordered,r=!1;continue}else if(typeof u=="boolean"){e.ordered=u,r=!1;continue}}if(a&&u instanceof un){e["distance-weight"]=u.weight,a=!1;continue}if(o&&(typeof u=="number"||u instanceof Number)){e.distance=u,o=!1;continue}if(l&&u instanceof Ms){e["minimum-distance"]=u.minDistance,l=!1;continue}u instanceof Array?Array.prototype.push.apply(n,u):n.push(u)}e.queries=Pw(n),this["near-query"]=e}s(Fs,"NearDef");ve.inherits(Fs,Ae);function ON(){return new $s(N.first.apply(null,arguments))}s(ON,"not");function $s(t){if(!(this instanceof $s))return new $s(t);if(t!=null)this["not-query"]=Dt(t);else throw new Error("missing query")}s($s,"NotDef");ve.inherits($s,Ae);function CN(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:throw new Error("missing positive and negative queries");case 1:throw new Error("has positive query but missing negative query: "+N.identify(t[0],!0));case 2:return new Us(new $r(t[0],t[1]));default:throw new Error("too many arguments for notIn() query: "+t.length)}}s(CN,"notIn");function Us(t){if(!(this instanceof Us))return new Us(t);if(t instanceof $r)this["not-in-query"]=t;else throw new Error("invalid notIn() query: "+N.identify(t,!0))}s(Us,"NotInDef");ve.inherits(Us,Ae);function _N(){return new zs(new Xn(N.asArray.apply(null,arguments)))}s(_N,"or");function zs(t){if(!(this instanceof zs))return new zs(t);if(t!=null)if(t instanceof Xn)this["or-query"]=t;else throw new Error("invalid or query: "+N.identify(t,!0));else this["or-query"]=new Xn([])}s(zs,"OrDef");ve.inherits(zs,Ae);function RN(){return new za(N.first.apply(null,arguments))}s(RN,"ordered");function za(t){if(!(this instanceof za))return new za(t);if(typeof t=="boolean")this.ordered=t;else throw new Error("invalid order parameter: "+N.identify(t,!0))}s(za,"OrderedDef");function XN(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:throw new Error("missing path for path index identifier");case 1:return new In(new Rn(t[0]));case 2:return new In(new Rn(t[0],t[1]));default:throw new Error("too many arguments for path index identifier: "+t.length)}}s(XN,"pathIndex");function In(t){if(!(this instanceof In))return new In(t);if(t instanceof Rn)this["path-index"]=t;else throw t==null?new Error("missing path for path identifier"):new Error("invalid path for path identifier: "+N.identify(t,!0))}s(In,"PathIndexDef");function Rn(t,e){if(!(this instanceof Rn))return new Rn(t,e);if(typeof t=="string"||t instanceof String)this.text=t;else throw t==null?new Error("missing name for path identifier"):new Error("invalid name for path identifier: "+N.identify(t,!0));this.namespaces=e??""}s(Rn,"PathDef");function DN(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:throw new Error("missing identifier for coordinate system");case 1:return new Qs(t[0]);default:throw new Error("too many arguments for coordinate system identifier: "+t.length)}}s(DN,"coordSystem");function Qs(t){if(!(this instanceof Qs))return new Qs(t);if(typeof t=="string"||t instanceof String)this.coord=t;else throw t==null?new Error("missing coordinate system for path"):new Error("invalid coordinate system for path: "+N.identify(t,!0))}s(Qs,"CoordSystemDef");function IN(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:throw new Error("missing latitude and longitude for point");case 1:return new zt([t[0]]);case 2:return new zt([new vt(t[0],t[1])]);default:throw new Error("too many arguments for point: "+t.length)}}s(IN,"point");function zt(t){if(!(this instanceof zt))return new zt(t);if(Array.isArray(t)&&t.length>0&&t[0]instanceof vt)this.point=t;else throw _w==null?new Error("missing latitude-longitude definition for point"):new Error("invalid latitude-longitude definition for point: "+N.identify(t,!0))}s(zt,"PointRegionDef");function BN(){for(var t=N.asArray.apply(null,arguments),e=[],n=null,r=0;r<t.length;r++)if(n=t[r],n instanceof zt)e.push(n.point[0]);else if(n instanceof vt)e.push(n);else if(n instanceof Array&&n.length===2)e.push(new vt(n[0],n[1]));else throw new Error("unsupported parameter for polygon: "+N.identify(n,!0));return new Qa(new zt(e))}s(BN,"polygon");function Qa(t){if(!(this instanceof Qa))return new Qa(t);if(t instanceof zt)this.polygon=t;else throw t==null?new Error("missing latitude-longitude points for polygon"):new Error("invalid latitude-longitude points for polygon: "+N.identify(t,!0))}s(Qa,"PolygonRegionDef");function jN(){return new Gs(N.first.apply(null,arguments))}s(jN,"propertiesFragment");function Gs(t){if(!(this instanceof Gs))return new Gs(t);if(t!=null)this["properties-fragment-query"]=Dt(t);else throw new Error("missing query")}s(Gs,"PropertiesFragmentDef");ve.inherits(Gs,Ae);function Ws(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:throw new Error("missing JSON property name");case 1:return new Bn(t[0]);default:throw new Error("too many arguments for JSON property identifier: "+t.length)}}s(Ws,"property");function Bn(t){if(!(this instanceof Bn))return new Bn(t);if(typeof t=="string"||t instanceof String)this["json-property"]=t;else throw t==null?new Error("missing name for JSON property identifier"):new Error("invalid name for JSON property identifier: "+N.identify(t,!0))}s(Bn,"JSONPropertyDef");function Fa(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:throw new Error("missing name for QName identifier");case 1:return new we(null,t[0]);case 2:return new we(t[0],t[1]);default:throw new Error("too many arguments for QName identifier: "+t.length)}}s(Fa,"qname");function we(t,e){if(!(this instanceof we))return new we(t,e);if(typeof t=="string"||t instanceof String)this.ns=t;else if(t!=null)throw new Error("invalid namespace for QName identifier: "+N.identify(t,!0));if(typeof e=="string"||e instanceof String)this.name=e;else throw new Error("invalid localname for QName identifier: "+N.identify(e,!0))}s(we,"QNameDef");function LN(){var t=null,e=null;switch(arguments.length){case 0:throw new Error("period must have at least the start datetime");case 1:t=arguments[0];break;case 2:t=arguments[0],e=arguments[1];break;default:throw new Error("period with too many arguments: "+arguments.join(", "))}return new Ga(t,e)}s(LN,"period");function Ga(t,e){if(!(this instanceof Ga))return new Ga(t,e);if(typeof t=="string"||t instanceof String)this["period-start"]=t;else if(Object.prototype.toString.call(t)==="[object Date]")this["period-start"]=t.toISOString();else throw t==null?new Error("missing start date for period"):new Error("invalid start date for period: "+N.identify(t,!0));if(typeof e=="string"||e instanceof String)this["period-end"]=e;else if(Object.prototype.toString.call(e)==="[object Date]")this["period-end"]=e.toISOString();else if(e!=null)throw new Error("invalid end date for period: "+N.identify(e,!0))}s(Ga,"PeriodDef");function MN(){for(var t=N.asArray.apply(null,arguments),e=t.length,n=null,r=null,a=null,o=null,l=null,u=0;u<e;u++){if(l=t[u],typeof l=="string"||l instanceof String){if(n===null){n=l;continue}if(r===null){r=l;continue}if(a===null){a=l;continue}}if(o===null&&l instanceof Gr){o=l["temporal-option"];continue}throw new Error("unknown period compare argument: "+N.identify(l,!0))}return new Ks(new Vs(n,r,a,o))}s(MN,"periodCompare");function Ks(t){if(!(this instanceof Ks))return new Ks(t);if(t instanceof Vs)this["period-compare-query"]=t;else throw t==null?new Error("missing period compare query"):new Error("invalid period compare query: "+N.identify(t,!0))}s(Ks,"PeriodCompareDef");ve.inherits(Ks,Ae);function Vs(t,e,n,r){if(!(this instanceof Vs))return new Vs(t,e,n,r);if(t!=null)this.axis1=t;else throw new Error("period compare query must have axis1");if(e!=null)this["temporal-operator"]=e;else throw new Error("period compare query must have temporal operator");if(n!=null)this.axis2=n;else throw new Error("period compare query must have axis2");r!=null&&(this["temporal-option"]=r)}s(Vs,"PeriodCompareQueryDef");function FN(){for(var t=N.asArray.apply(null,arguments),e=t.length,n=null,r=null,a=null,o=null,l=null,u=0;u<e;u++){if(l=t[u],Array.isArray(l)&&l.length>0){if(n===null&&(typeof l[0]=="string"||l[0]instanceof String)){n=l;continue}if(a===null&&l[0]instanceof Ga){a=l;continue}}if(typeof l=="string"||l instanceof String){if(n===null){n=[l];continue}if(r===null){r=l;continue}}if(a===null&&l instanceof Ga){a=[l];continue}if(o===null&&l instanceof Gr){o=l["temporal-option"];continue}throw new Error("unknown period range argument: "+N.identify(l,!0))}return new Hs(new Js(n,r,a,o))}s(FN,"periodRange");function Hs(t){if(!(this instanceof Hs))return new Hs(t);if(t instanceof Js)this["period-range-query"]=t;else throw t==null?new Error("missing period range query"):new Error("invalid period range query: "+N.identify(t,!0))}s(Hs,"PeriodRangeDef");ve.inherits(Hs,Ae);function Js(t,e,n,r){if(!(this instanceof Js))return new Js(t,e,n,r);if(t!=null)this.axis=t;else throw new Error("period range query must have axis");if(e!=null)this["temporal-operator"]=e;else throw new Error("period range query must have temporal operator");if(n!=null)this.period=n;else throw new Error("period missing for period range query");r!=null&&(this["temporal-option"]=r)}s(Js,"PeriodRangeQueryDef");function $N(){return Lw("suggest",N.asArray.apply(null,arguments))}s($N,"suggestBindings");function UN(){return new fr(N.asArray.apply(null,arguments))}s(UN,"suggestOptions");function fr(t){if(!(this instanceof fr))return new fr(t);if(Array.isArray(t)){if(t.length===0)throw new Error("empty options list");this["suggest-option"]=t}else throw new Error("invalid options list: "+N.identify(t,!0))}s(fr,"SuggestOptionsDef");function zN(){return new Gr(N.asArray.apply(null,arguments))}s(zN,"temporalOptions");function Gr(t){if(!(this instanceof Gr))return new Gr(t);if(Array.isArray(t)){if(t.length===0)throw new Error("empty options list");this["temporal-option"]=t}else throw new Error("invalid options list: "+N.identify(t,!0))}s(Gr,"TemporalOptionsDef");function QN(){for(var t=N.asArray.apply(null,arguments),e=null,n=null,r=null,a=null,o=null,l=null,u=null,f=null,d=null,g=null,v=null,w=null,b=0;b<t.length;b++){if(w=t[b],b===0){e=xo(w);continue}if(n===null&&w instanceof Qr){n=w.datatype,r=w.collation;continue}if(a===null&&w instanceof un){a=w.weight;continue}if(o===null&&w instanceof ln){o=w["fragment-scope"];continue}if(l===null&&w instanceof eo){l=w["range-option"];continue}if(d===null&&w instanceof fr){d=w["suggest-option"];continue}if(g===null&&w instanceof pn){g=w.constraintName;continue}if(v===null&&w instanceof Ka){v=w.defaultConstraint;continue}if(w instanceof Array){u===null?u=w:Array.prototype.push.apply(u,w);continue}if((n===null||f===null)&&(typeof w=="string"||w instanceof String)){var S=n===null?tN[w.trim()]:null;if(S!=null)n=S;else{var E=f===null?eN[w.trim()]:null;E!=null?f=E:u===null?u=[w]:u.push(w)}continue}u===null?u=[w]:u.push(w)}var q=new Wa(e,n,r,f,u,a,l,o);if(u!==null){if(g!=null||v===!0)throw new Error("range has both query and binding: "+N.identify(t,!0));if(d!=null)throw new Error("range has both query and suggest options: "+N.identify(t,!0));return new Zs(q)}if(g==null&&v!==!0&&(g=So(e),g==null))throw new Error("could not default constraint name from "+Object.keys(e).join(", ")+" index");var P=new Ys(g,q,d);return v!==!0?P:new ao(P)}s(QN,"range");function Ys(t,e,n){if(!(this instanceof Ys))return new Ys(t,e,n);if(e instanceof Wa)this.range=e;else throw new Error("no range definition for range constraint");Ao(this,t,n)}s(Ys,"RangeConstraintDef");ve.inherits(Ys,Ut);function Zs(t){if(!(this instanceof Zs))return new Zs(t);if(t instanceof Wa)this["range-query"]=t;else throw new Error("no range definition for range query")}s(Zs,"RangeQueryDef");ve.inherits(Zs,Ae);function Wa(t,e,n,r,a,o,l,u){if(!(this instanceof Wa))return new Wa(t,e,n,r,a,o,l,u);var f=r!=null;if(t!=null)bo(this,t,!1);else throw new Error("missing JSON property, XML element or attrbibute, field, or path index");if(e!=null&&(this.type=e,n!=null&&(this.collation=n)),a!=null?(this.value=a,f||(this["range-operator"]="EQ")):this.facet=!1,f&&(this["range-operator"]=r),o!=null)if(typeof o=="number"||o instanceof Number)this.weight=o;else throw new Error("invalid weight: "+N.identify(o,!0));l!=null&&(this["range-option"]=l),u!=null&&(this["fragment-scope"]=u)}s(Wa,"RangeDef");function GN(){return new eo(N.asArray.apply(null,arguments))}s(GN,"rangeOptions");function eo(t){if(!(this instanceof eo))return new eo(t);if(Array.isArray(t)){if(t.length===0)throw new Error("empty options list");this["range-option"]=t}else throw new Error("invalid options list: "+N.identify(t,!0))}s(eo,"RangeOptionsDef");function WN(){var t=N.asArray.apply(null,arguments),e=t.length;if(e!==4)throw new Error("box must have four parameters: "+e);return new Wr(t[0],t[1],t[2],t[3])}s(WN,"southWestNorthEast");function Wr(t,e,n,r){if(!(this instanceof Wr))return new Wr(t,e,n,r);if(typeof t=="number"||t instanceof Number)this.south=t;else throw t==null?new Error("missing south corner for box"):new Error("invalid south corner for box: "+N.identify(t,!0));if(typeof e=="number"||e instanceof Number)this.west=e;else throw e==null?new Error("missing west corner for box"):new Error("invalid west corner for box: "+N.identify(e,!0));if(typeof n=="number"||n instanceof Number)this.north=n;else throw n==null?new Error("missing north corner for box"):new Error("invalid north corner for box: "+N.identify(n,!0));if(typeof r=="number"||r instanceof Number)this.east=r;else throw r==null?new Error("missing east corner for box"):new Error("invalid east corner for box: "+N.identify(r,!0))}s(Wr,"BoxDef");function KN(){for(var t=N.asArray.apply(null,arguments),e=[],n=null,r=null,a=null,o=0;o<t.length;o++){if(a=t[o],n===null&&a instanceof un){n=a.weight;continue}if(r===null&&a instanceof Kr){r=a["term-option"];continue}a instanceof Array?Array.prototype.push.apply(e,a):e.push(a)}return new to(new cn(null,null,e,n,r,null))}s(KN,"term");function to(t){if(!(this instanceof to))return new to(t);if(t instanceof cn)this["term-query"]=t;else throw new Error("missing query")}s(to,"TermDef");ve.inherits(to,Ae);function VN(){var t=N.asArray.apply(null,arguments);if(t.length===0||t[0]===null)throw new Error("missing Timestamp");if(t.length>1)throw new Error("Only one timestamp is allowed");return new no(new Vr(t[0]))}s(VN,"before");function no(t){if(!(this instanceof no))return new no(t);if(t instanceof Vr)this["before-query"]=t;else throw new Error("missing timestamp value for query")}s(no,"BeforeQueryDef");ve.inherits(no,Ae);function HN(){var t=N.asArray.apply(null,arguments);if(t.length===0||t[0]===null)throw new Error("missing Timestamp");if(t.length>1)throw new Error("Only one timestamp is allowed");return new ro(new Vr(t[0]))}s(HN,"after");function ro(t){if(!(this instanceof ro))return new ro(t);if(t instanceof Vr)this["after-query"]=t;else throw new Error("missing timestamp value for query")}s(ro,"AfterQueryDef");ve.inherits(ro,Ae);function JN(){return new Kr(N.asArray.apply(null,arguments))}s(JN,"termOptions");function Kr(t){if(!(this instanceof Kr))return new Kr(t);if(Array.isArray(t)){if(t.length===0)throw new Error("empty options list");this["term-option"]=t}else throw new Error("invalid options list: "+N.identify(t,!0))}s(Kr,"TermOptionsDef");function Rw(t,e){for(var n=t==="value",r=null,a=null,o=null,l=null,u=null,f=null,d=null,g=null,v=null,w=null,b=0;b<e.length;b++){if(w=e[b],b===0){r=xo(w);continue}if(l===null&&w instanceof ln){l=w["fragment-scope"];continue}if(u===null&&w instanceof Kr){u=w["term-option"];continue}if(f===null&&w instanceof fr){f=w["suggest-option"];continue}if(o===null&&w instanceof un){o=w.weight;continue}if(d===null&&w instanceof pn){d=w.constraintName;continue}if(g===null&&w instanceof Ka){g=w.defaultConstraint;continue}if(n&&v===null&&w instanceof co){v=w["json-type"];continue}if(Array.isArray(w)){a===null?a=w:Array.prototype.push.apply(a,w);continue}a===null?a=[w]:a.push(w)}n&&v===null&&a!==null&&(w=a[0],v=typeof w=="number"||w instanceof Number?"number":typeof w=="boolean"?"boolean":w===null?"null":null);var S=new cn(r,v,a,o,u,l);if(a!==null){if(d!=null||g===!0)throw new Error(t+" has both query and binding: "+N.identify(e,!0));if(f!=null)throw new Error(t+" has both query and suggest options: "+N.identify(e,!0));return n?new oo(S):new lo(S)}if(d==null&&g!==!0&&(d=So(r),d==null))throw new Error("could not default constraint name from "+Object.keys(r).join(", ")+" index");var E=n?new io(d,S,f):new so(d,S,f);return g!==!0?E:new ao(E)}s(Rw,"textQuery");function ao(t){if(!(this instanceof ao))return new ao(t);this.default=t}s(ao,"DefaultConstraintDef");function io(t,e,n){if(!(this instanceof io))return new io(t,e,n);if(e instanceof cn)this.value=e;else throw new Error("no range definition for range constraint");Ao(this,t,n)}s(io,"ValueConstraintDef");ve.inherits(io,Ut);function so(t,e,n){if(!(this instanceof so))return new so(t,e,n);if(e instanceof cn)this.word=e;else throw new Error("no range definition for range constraint");Ao(this,t,n)}s(so,"WordConstraintDef");ve.inherits(so,Ut);function Ao(t,e,n){(typeof e=="string"||e instanceof String)&&(t.name=e),n!=null&&(t["suggest-option"]=n)}s(Ao,"addConstraint");function oo(t){if(!(this instanceof oo))return new oo(t);if(t instanceof cn)this["value-query"]=t;else throw new Error("no text definition for value query")}s(oo,"ValueQueryDef");ve.inherits(oo,Ae);function lo(t){if(!(this instanceof lo))return new lo(t);if(t instanceof cn)this["word-query"]=t;else throw new Error("no text definition for word query")}s(lo,"WordQueryDef");ve.inherits(lo,Ae);function cn(t,e,n,r,a,o){if(!(this instanceof cn))return new cn(t,e,n,r,a,o);if(t!=null&&bo(this,t,!1),e!=null&&(this.type=e),Array.isArray(n)&&(this.text=n),r!=null)if(typeof r=="number"||r instanceof Number)this.weight=r;else throw new Error("invalid weight: "+N.identify(r,!0));a!=null&&(this["term-option"]=a),o!=null&&(this["fragment-scope"]=o)}s(cn,"TextDef");function Vr(t){if(!(this instanceof Vr))return new Vr(t);if(!(typeof t=="string"||t instanceof String))if(typeof t=="number"||t instanceof Number)t=t.toString();else if(t instanceof Date)t=t.getTime().toString();else throw new Error("The timestamp argument needs to be either String, Number or Date");t!=null&&(this.timestamp=t)}s(Vr,"TimestampDef");function YN(){return Rw("value",N.asArray.apply(null,arguments))}s(YN,"value");function ZN(t){return new co(t)}s(ZN,"jsontype");function co(t){if(!(this instanceof co))return new co(t);var e={boolean:!0,null:!0,number:!0,string:!0};if(typeof t!="string"&&!(t instanceof String)||!e[t])throw new Error("JSON type must be boolean, null, number, or string: "+N.identify(t,!0));this["json-type"]=t}s(co,"JSONTypeDef");function eP(){return new un(N.first.apply(null,arguments))}s(eP,"weight");function un(t){if(!(this instanceof un))return new un(t);if((typeof t=="number"||t instanceof Number)&&-16<=t&&t<=64)this.weight=t;else throw new Error("invalid weight: "+N.identify(t,!0))}s(un,"WeightDef");function tP(){return Rw("word",N.asArray.apply(null,arguments))}s(tP,"word");function nP(t){var e=new Me;if(t!=null)for(var n=["whereClause","calculateClause","orderByClause","sliceClause","withOptionsClause"],r=typeof t=="string"||t instanceof String,a=r?JSON.parse(t):t,o=0;o<n.length;o++){var l=n[o],u=a[l];u!=null&&(e[l]=r?u:Jq(u))}return e}s(nP,"copyFromQueryBuilder");function Xw(){var t=this instanceof Me?this:new Me,e=N.asArray.apply(null,arguments),n=e.length,r=null,a=null,o=null,l=0,u=n>0?e[0]:null;if(u==null)t.whereClause={query:{queries:[Ow()]}},t.queryType="structured";else if(u.$query!=null)if(n===1)t.whereClause=u,t.queryType="qbe";else throw new Error("A Query by Example (QBE) must be the only query");else if(u instanceof Yq.CtsQuery)t.whereClause=u,t.queryType="cts";else{for(l=0;l<n;l++){if(l>0&&(u=e[l]),r==null&&u instanceof fo){r=u.parsedQuery;continue}if(a==null&&u instanceof ln){a=u["fragment-scope"];continue}o===null?o=[Dt(u)]:o.push(Dt(u))}var f={};o!==null&&(f.query={queries:o}),r!=null&&(f.parsedQuery=r),a!=null&&(f["fragment-scope"]=a),t.whereClause=f,t.queryType="structured"}return t.queryFormat="json",t}s(Xw,"where");Me.prototype.where=Xw;function rP(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:return{$query:[]};case 1:var e=t[0];return e.$query==null?{$query:e}:e;default:return{$query:t}}}s(rP,"byExample");function Dw(){for(var t=this instanceof Me?this:new Me,e=N.asArray.apply(null,arguments),n=[],r=null,a=null,o=null,l=0;l<e.length;l++)if(o=e[l],typeof o=="string"||o instanceof String)n.push(Iw(o));else{if(r===null)if(r=o.score,typeof r=="string"||r instanceof String){r="score-"+r,a=o.direction,n.push(a==null?{score:null}:{score:null,direction:a});continue}else r===void 0&&(r=null);n.push(o)}return t.orderByClause=r===null?{"sort-order":n}:{"sort-order":n,scoreOption:r},t}s(Dw,"orderBy");Me.prototype.orderBy=Dw;function aP(){return{score:arguments.length===0?null:arguments[0]}}s(aP,"score");function Iw(){var t=N.asArray.apply(null,arguments);if(t.length===0)throw new Error("missing sorted index");var e=xo(t[0]),n=e.score!==void 0,r={};n?r.score=e.score:bo(r,e,!1);for(var a=null,o=1;o<t.length;o++)if(a=t[o],typeof a=="string"||a instanceof String)switch(a){case"ascending":case"descending":r.direction=a;break;default:!n&&/^xs:/.test(a)&&(r.type=a);break}else n||(a.datatype!=null?(r.type=a.datatype,a.collation!=null&&(r.collation=a.collation)):a.collation!=null&&(r.type="xs:string",r.collation=a.collation));return r}s(Iw,"sort");function iP(t,e){if(t==null)throw new Error("transform without name");var n=[t];return e!=null&&n.push(e),{"document-transform":n}}s(iP,"transform");function sP(){return new uo}s(sP,"trueQuery");function uo(){if(!(this instanceof uo))return new uo;this["true-query"]=null}s(uo,"TrueQueryDef");ve.inherits(uo,Ae);function Bw(){var t=this instanceof Me?this:new Me,e=N.asArray.apply(null,arguments);return t.sliceClause=N.makeSliceClause("query",e),t}s(Bw,"slice");Me.prototype.slice=Bw;function jw(){var t=this instanceof Me?this:new Me,e=N.asArray.apply(null,arguments),n={constraint:e};return t.calculateClause=n,t}s(jw,"calculate");Me.prototype.calculate=jw;function oP(){var t=N.asArray.apply(null,arguments),e=t.length;if(e<1)throw new Error("facet must at a minimum identify the index");for(var n={collection:!0,element:!0,field:!0,"geo-attr-pair":!0,"geo-elem":!0,"geo-elem-pair":!0,"geo-json-property":!0,"geo-json-property-pair":!0,"geo-path":!0,"json-property":!0,"path-index":!0},r={"geo-attr-pair":!0,"geo-elem":!0,"geo-elem-pair":!0,"geo-json-property":!0,"geo-json-property-pair":!0,"geo-path":!0},a=null,o=null,l=null,u,f,d,g,v=null,w=null,b=null,S=null,E=0;E<e;E++){switch(S=t[E],E){case 0:typeof S=="string"||S instanceof String?a=S:o=S;continue;case 1:if(S["start-facet"]!=null&&S["finish-facet"]!=null){g=S;continue}if(o===null){if(typeof S=="string"||S instanceof String){o=Ws(S);continue}if(l=Object.keys(S)[0],n[l]){o=S;continue}}}if(u===void 0&&(u=S.datatype,u!==void 0)){f=S.collation;continue}if(!(d===void 0&&(d=S["facet-option"],d!==void 0))){if(g===void 0&&S["start-facet"]!=null&&S["finish-facet"]!=null){g=S;continue}if(!(b===null&&(b=S.heatmap,b!=null))){if(S instanceof Rt){v===null?v=[S]:v.push(S);continue}if(S instanceof St){w===null?w=[S]:w.push(S);continue}if(Array.isArray(S)&&S.length>0){if(S[0]instanceof Rt){v===null?v=S:Array.prototype.push.apply(v,S);continue}if(S[0]instanceof St){w===null?w=S:Array.prototype.push.apply(w,S);continue}}throw new Error("unknown facet argument: "+N.identify(S,!0))}}}if(o===null)o=Ws(a);else if(a===null&&(a=So(o),a===null))throw new Error("could not default constraint name from "+Object.keys(o).join(", ")+" index");var q={name:a},P={facet:!0};if(o.collection!==void 0)q.collection=P;else if(g!==void 0)P["start-facet"]=g["start-facet"],P["finish-facet"]=g["finish-facet"],q.custom=P;else if(r[l])q[l]=o[l],b!==null&&(q[l].heatmap=b);else{q.range=P,u!=null&&(P.type=u,f!=null&&(P.collation=f));for(var R=Object.keys(o),O=R.length,M=0;M<O;M++){var j=R[M];P[j]=o[j]}v!==null&&(P.bucket=v),w!==null&&(P["computed-bucket"]=w)}return d!==void 0&&(P["facet-option"]=d),q}s(oP,"facet");function lP(){var t=N.asArray.apply(null,arguments);if(t.length<1)throw new Error("calculate function without module name");var e=t[0],n=N.rootname(e);if(n===null)throw new Error("library must have an extension of .xqy");return{"start-facet":{apply:"start-facet",ns:"http://marklogic.com/query/custom/"+n,at:"/ext/marklogic/query/custom/"+e},"finish-facet":{apply:"finish-facet",ns:"http://marklogic.com/query/custom/"+n,at:"/ext/marklogic/query/custom/"+e}}}s(lP,"calculateFunction");function cP(){return new Gf(N.asArray.apply(null,arguments))}s(cP,"facetOptions");function Gf(t){if(!(this instanceof Gf))return new Gf(t);if(Array.isArray(t)){if(t.length===0)throw new Error("empty options list");this["facet-option"]=t}else throw new Error("invalid options list: "+N.identify(t,!0))}s(Gf,"FacetOptionsDef");function uP(){return new po}s(uP,"falseQuery");function po(){if(!(this instanceof po))return new po;this["false-query"]=null}s(po,"FalseQueryDef");ve.inherits(po,Ae);function pP(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:throw new Error("must specify name, comparison, and bound for bucket");case 1:throw new Error("must specify comparison and bound for bucket");case 2:if(t[1]instanceof pt)return new St(t[0],t[1],null);throw new Error("must specify one anchor with upper and lower bounds or separate lower and upper bounds for bucket");case 3:if(t[1]==="<")return t[2]instanceof pt?new St(t[0],null,t[2]):new Rt(t[0],null,t[2]);if(t[1]===">")return t[2]instanceof pt?new St(t[0],t[2],null):new Rt(t[0],t[2],null);if(t[2]==="<")return t[1]instanceof pt?new St(t[0],t[1],null):new Rt(t[0],t[1],null);if(t[2]===">")return t[1]instanceof pt?new St(t[0],null,t[1]):new Rt(t[0],null,t[1]);throw new Error("missing comparison between lower and upper bounds of bucket");case 4:if(t[2]==="<")return t[1]instanceof pt?new St(t[0],t[1],t[3]):new Rt(t[0],t[1],t[3]);if(t[2]===">")return t[1]instanceof pt?new St(t[0],t[3],t[1]):new Rt(t[0],t[3],t[1]);throw new Error("invalid comparison between lower and upper bounds of bucket: "+N.identify(t[2],!0));default:throw new Error("too many parameters for bucket: "+t.length)}}s(pP,"bucket");function Rt(t,e,n){if(!(this instanceof Rt))return new Rt(t,e,n);if(t==null)throw new Error("missing name for bucket");if(typeof t!="string"&&!(t instanceof String))throw new Error("invalid name for bucket: "+N.identify(t,!0));this.name=t,this.label=t;var r=-1;if(e==null)r=0;else if(typeof e=="number"||e instanceof Number)r=1;else if(typeof e=="string"||e instanceof String||e instanceof Date)r=2;else throw new Error("invalid lower bound for bucket: "+N.identify(e,!0));var a=-1;if(n==null)a=0;else if(typeof n=="number"||n instanceof Number)a=1;else if(typeof n=="string"||n instanceof String||n instanceof Date)a=2;else throw new Error("invalid upper bound for bucket: "+N.identify(n,!0));if(r===0&&a===0)throw new Error("must specify at least one bound for a bucket");if(a===0)this.ge=e;else if(r===0)this.lt=n;else if(r===a)this.ge=e,this.lt=n;else throw new Error("cannot mix lower and upper bound values of different types")}s(Rt,"BucketDef");function St(t,e,n){if(!(this instanceof St))return new St(t,e,n);if(t==null)throw new Error("missing name for computed bucket");if(typeof t!="string"&&!(t instanceof String))throw new Error("invalid name for computed bucket: "+N.identify(t,!0));this.name=t,this.label=t;var r=-1;if(e==null)r=0;else if(e instanceof pt)r=e.value==null?1:2;else throw new Error("invalid lower bound for computed bucket: "+N.identify(e,!0));var a=-1;if(n==null)a=0;else if(n instanceof pt)a=n.value==null?1:2;else throw new Error("invalid upper bound for computed bucket: "+N.identify(n,!0));if(r===0&&a===0)throw new Error("missing lower and upper bounds for computed bucket");if(r===1&&a===0)this.anchor=e.anchor,this.ge=e.ge,this.lt=e.lt;else if(r===0&&a===1)this.anchor=n.anchor,this.ge=n.ge,this.lt=n.lt;else if(r===2&&a===2)this["ge-anchor"]=e.anchor,this.ge=e.value,this["lt-anchor"]=n.anchor,this.lt=n.value;else if(r===2&&a===0)this.anchor=e.anchor,this.ge=e.value;else if(r===0&&a===2)this.anchor=n.anchor,this.lt=n.value;else if(r===1&&a===1)throw new Error("two anchors cannot specify both lower and upper bounds for computed bucket")}s(St,"ComputedBucketDef");function fP(){var t=N.asArray.apply(null,arguments);switch(t.length){case 0:throw new Error("no milestone or lower bound for anchor");case 1:throw new Error("no lower bound for anchor");case 2:return new pt(t[0],t[1],null,null);case 3:throw new Error("must specify comparison with both lower and upper bounds for anchor");case 4:return new pt(t[0],t[1],t[2],t[3]);default:throw new Error("too many parameters for anchor: "+t.length)}}s(fP,"anchor");function pt(t,e,n,r){if(!(this instanceof pt))return new pt(t,e,n,r);if(typeof t=="string"||t instanceof String)this.anchor=t;else throw t==null?new Error("missing milestone for anchor"):new Error("invalid milestone for anchor: "+N.identify(t,!0));var a=-1;if(n==null)a=0;else if(n==="<")a=1;else if(n===">")a=2;else throw new Error("invalid comparison for anchor: "+N.identify(n,!0));if(typeof e=="string"||e instanceof String)switch(a){case 0:this.value=e;break;case 1:this.ge=e;break;case 2:this.lt=e;break}else throw e==null?new Error(a===0?"missing value for anchor":"missing first bound for anchor"):new Error(a===0?"invalid value for anchor: "+N.identify(e,!0):"invalid first bound for anchor: "+N.identify(e,!0));if(typeof r=="string"||r instanceof String)switch(a){case 0:throw new Error("must specify comparison with second bound for anchor");case 1:this.lt=r;break;case 2:this.ge=r;break}else if(r==null){if(a!==0)throw new Error("missing second bound for anchor")}else throw new Error("invalid second bound for anchor: "+N.identify(r,!0))}s(pt,"AnchorDef");function So(t){return t instanceof Bn?t["json-property"]:t instanceof Xt?t.element.name:t instanceof yt?t.element.name+"_"+t.attribute.name:t instanceof pr?t.field.name:t instanceof In?"path"+t["path-index"].text.replace(/([\/:]|\[[^\]]*\])/g,"_"):null}s(So,"defaultConstraintName");function mP(){var t=null,e=null,n=null,r=null;switch(arguments.length){case 0:throw new Error("no query text");case 1:t=arguments[0];break;case 2:t=arguments[0],e=arguments[1],n=e.constraint,r=e.term;break;default:throw new Error("parse from specifies only query text and bindings: "+N.identify(arguments,!0))}return new fo(new mo(t,n,r))}s(mP,"parsedFrom");function fo(t){if(!(this instanceof fo))return new fo(t);if(t instanceof mo)this.parsedQuery=t;else throw t==null?new Error("missing query definition to parse from"):new Error("invalid query definition to parse from: "+N.identify(t,!0))}s(fo,"ParsedDef");function mo(t,e,n){if(!(this instanceof mo))return new mo(t,e,n);if(typeof t=="string"||t instanceof String)this.qtext=t;else throw t==null?new Error("missing query text to parse from"):new Error("invalid query text to parse from: "+N.identify(t,!0));if(Array.isArray(e))e.length>0&&(this.constraint=e);else if(e!=null)throw new Error("invalid constraints to parse from: "+N.identify(e,!0));n!=null&&(this.term=n)}s(mo,"ParsedQueryDef");function dP(){return Lw("parse",N.asArray.apply(null,arguments))}s(dP,"parseBindings");function Lw(t,e){var n=t==="parse",r=n?"parsing query text":"defining suggestion sources",a=e.length;if(a<1)throw new Error("no bindings for "+r);for(var o=null,l=null,u=null,f=null,d=null,g=0;g<a;g++){if(d=e[g],d.name!==void 0){if(n&&d["suggest-option"]!==void 0)throw new Error("cannot specify suggest options for named parse query bindings");o===null?o=[d]:o.push(d);continue}if(l==null&&(l=d.default,l!==void 0)){if(u=d["suggest-option"],n&&u!==void 0)throw new Error("cannot specify suggest options for default parse query binding");continue}if(!(f==null&&(f=d.empty,f!==void 0)))throw new Error("unknown argument for parse query binding: "+N.identify(d,!0))}var v=l==null&&f==null&&u==null?null:new go(l,f,u);return new Wf(o,v)}s(Lw,"makeBindings");function Wf(t,e){if(!(this instanceof Wf))return new Wf(t,e);if(Array.isArray(t)&&t.length>0)this.constraint=t;else if(t!=null)throw new Error("invalid constraints list for parse query binding: "+N.identify(t,!0));if(e instanceof go)this.term=e;else if(e!=null)throw new Error("invalid term bindings for parse query binding: "+N.identify(e,!0))}s(Wf,"BindingsDef");function go(t,e,n){if(!(this instanceof go))return new go(t,e,n);t!=null&&(this.default=t),e!=null&&(this.empty=e),n!=null&&(this["suggest-option"]=n)}s(go,"TermBindingDef");function gP(t){return new pn(t)}s(gP,"bind");function pn(t){if(!(this instanceof pn))return new pn(t);if(typeof t=="string"||t instanceof String)this.constraintName=t;else throw t==null?new Error("cannot bind empty name to constraint"):new Error("cannot bind invalid name to constraint: "+N.identify(t,!0))}s(pn,"BindDef");function hP(){return new Ka}s(hP,"bindDefault");function Ka(){if(!(this instanceof Ka))return new Ka;this.defaultConstraint=!0}s(Ka,"BindDefaultDef");function yP(t){return new Kf(new ho(t))}s(yP,"bindEmptyAs");function Kf(t){if(!(this instanceof Kf))return new Kf(t);if(t instanceof ho)this.empty=t;else throw t==null?new Error("cannot bind empty name to constraint"):new Error("cannot bind invalid name to constraint: "+N.identify(t,!0))}s(Kf,"BindEmptyDef");function ho(t){if(!(this instanceof ho))return new ho(t);var e={"all-results":!0,"no-results":!0};if((typeof t=="string"||t instanceof String)&&e[t]===!0)this.apply=t;else throw t==null?new Error("no binding specified for empty input"):new Error("unknown binding specified for empty input: "+N.identify(t,!0))}s(ho,"EmptyApplyDef");function vP(){var t=N.asArray.apply(null,arguments),e=t.length;if(e<2)throw new Error("query parse function without module name or binding");for(var n=t[0],r=null,a=null,o=null,l=1;l<t.length;l++){if(o=t[l],a===null&&o instanceof Kr){a=o["term-option"];continue}if(r===null&&o instanceof pn){r=o.constraintName;continue}throw new Error("unknown argument for parse function: "+N.identify(o,!0))}return new yo(r,new vo(new wo(n),a))}s(vP,"parseFunction");function yo(t,e){if(!(this instanceof yo))return new yo(t,e);if(typeof t=="string"||t instanceof String)this.name=t;else throw new Error("query parse function without a binding to a constraint name");if(e instanceof vo)this.custom=e;else throw e==null?new Error("empty constraint definition for query parse function"):new Error("invalid constraint definition for query parse function: "+N.identify(e,!0))}s(yo,"CustomConstraintDef");ve.inherits(yo,Ut);function vo(t,e){if(!(this instanceof vo))return new vo(t,e);if(t instanceof wo)this.parse=t;else throw t==null?new Error("empty parser definition for query parse function"):new Error("invalid parser definition for query parse function: "+N.identify(t,!0));e!=null&&(this["term-option"]=e),this.facet=!1}s(vo,"CustomOptionsDef");function wo(t){if(!(this instanceof wo))return new wo(t);var e=N.rootname(t);if(e===null)throw new Error("library must have an extension of .xqy");this.apply="parse",this.ns="http://marklogic.com/query/custom/"+e,this.at="/ext/marklogic/query/custom/"+t}s(wo,"CustomParserDef");function wP(){var t=N.asArray.apply(null,arguments),e=t.length;if(e<1)throw new Error("must specify paths to extract");var n={},r=t[0];if(typeof r=="string"||r instanceof String)n["extract-path"]=t;else{var a=r.paths;if(typeof a=="string"||a instanceof String)n["extract-path"]=[a];else if(Array.isArray(a))n["extract-path"]=a;else if(a===void 0)throw new Error("first argument does not have key for paths to extract");var o=r.namespaces;o!==void 0&&(n.namespaces=o);var l=r.selected;l!==void 0&&(n.selected=l)}return{"extract-document-data":n}}s(wP,"extract");function xP(){for(var t=N.asArray.apply(null,arguments),e=t.length,n={empty:"empty-snippet","empty-snippet":"empty-snippet",metadata:"metadata-snippet","metadata-snippet":"metadata-snippet",snippet:"snippet"},r={apply:"snippet"},a=null,o=null,l=0;l<e;l++)if(a=t[l],typeof a=="string"||a instanceof String)if(o=n[a],o!==void 0){r.apply=o;continue}else{var u=N.rootname(a);r.ns="http://marklogic.com/snippet/custom/"+u,r.at="/ext/marklogic/snippet/custom/"+a,r.apply="snippet";continue}else{N.copyProperties(a,r);continue}return{"transform-results":r}}s(xP,"snippet");function Mw(){var t=this instanceof Me?this:new Me,e={search:"search-option",weight:"quality-weight",forestNames:"forest",similarDocs:"return-similar",metrics:"return-metrics",queryPlan:"return-plan",debug:"debug",concurrencyLevel:"concurrency-level",categories:!0,txid:!0},n={};if(0<arguments.length)for(var r=arguments[0],a=Object.keys(r),o=0;o<a.length;o++){var l=a[o];if(e[l]!==void 0){var u=r[l];if(u!==void 0)n[l]=u;else throw new Error("empty options value for "+l)}else throw new Error("unknown option "+l)}return t.withOptionsClause=n,t}s(Mw,"withOptions");Me.prototype.withOptions=Mw;function bP(t){if(t==null)throw new Error("no query for documents");var e=null,n=null,r=null,a=null,o=null,l=null,u=null,f=0,d={};if(t.search!==void 0)d.search=t.search,t.optionsName!==void 0&&(n=t.optionsName),t.pageStart!==void 0&&(r=t.pageStart),t.pageLength!==void 0&&(a=t.pageLength),t.txid!==void 0&&(o=t.txid),t.transform!==void 0&&(l=t.transform),t.view!==void 0?u=t.view:t.search!==void 0&&t.search.options!==void 0&&t.search.options["return-facets"]===!0&&(u="facets"),e=t.categories!==void 0?t.categories:["content"];else{var g={};d.search=g;var v=g.options;v==null&&(v={},g.options=v);var w=t.whereClause;if(t.queryType==="qbe"){g.$query=w.$query;var b=w.$format,S=w.$validate;b!=null&&(g.$format=b),S!=null&&(g.$validate=S)}else if(t.queryType==="cts")g.ctsast=Zq.exportArg(w);else if(w!=null){var E=w.query,q=w.parsedQuery,P=w["fragment-scope"];E!=null&&(g.query=E),q!=null&&AP(d,q),P!=null&&(v["fragment-scope"]=P)}var R=t.calculateClause;if(R!=null){u="results",v["return-facets"]=!0,v["return-results"]=!1,v["return-metrics"]=!1,v["return-qtext"]=!1,v["transform-results"]={apply:"empty-snippet"};var O=v.constraint;if(O==null)v.constraint=R.constraint;else{for(var M={},j=0;j<O.length;j++){var U=O[j];M[U.name]=U}for(var G=R.constraint,k=0;k<G.length;k++){var Y=G[k],K=M[Y.name];if(K==null)O.push(Y);else for(var H=Object.keys(Y).filter(SP),pe=0;pe<H.length;pe++){var ge=H[pe],be=K[ge],Re=be===null?"undefined":typeof be;switch(Re){case"boolean":case"number":case"string":case"undefined":K[ge]=Y[ge];break;default:N.copyProperties(Y[ge],be)}}}}}var J=v["search-option"];J==null?(J=["unfiltered"],v["search-option"]=J):J.indexOf("filtered")===-1&&J.indexOf("unfiltered")===-1&&J.push("unfiltered");var Be=t.orderByClause;if(Be!=null){v["sort-order"]=Be["sort-order"];var Ne=Be.scoreOption;if(Ne!=null){for(f=0;f<J.length&&J[f].indexOf("score-")===-1;f++);f===J.length&&J.push(Ne)}}var Ve=t.sliceClause;if(Ve!=null){var Ue=Ve["page-start"];Ue!=null&&(r=Ue);var He=Ve["page-length"];He!=null&&(a=He);var Lt=Ve["transform-results"];Lt!=null&&(v["transform-results"]=Lt,v["return-results"]=!0,u="results");var ft=Ve["extract-document-data"];ft!=null&&(v["extract-document-data"]=ft),l=Ve["document-transform"]}e=a>0?["content"]:null;var en=t.withOptionsClause;if(en!=null){var Kn={search:"search-option",weight:"quality-weight",forestNames:"forest",similarDocs:"return-similar",metrics:"return-metrics",queryPlan:"return-plan",debug:"debug",concurrencyLevel:"concurrency-level",categories:!0,txid:!0},A={similarDocs:!0,metrics:!0,queryPlan:!0,debug:!0},y=Object.keys(en);for(f=0;f<y.length;f++){var L=y[f],_=Kn[L];if(_!=null){var le=en[L];if(le!=null)if(_===!0)switch(L){case"categories":a!==0&&(e=le);break;case"txid":o=le;break}else u===null&&A[L]===!0&&(u="results"),v[_]=le}}}}return{categories:e,optionsName:n,pageStart:r,pageLength:a,txid:o,transform:l,view:u,searchBody:d}}s(bP,"makeSearchBody");function AP(t,e){var n=t.search;n.qtext=e.qtext;var r=e.constraint,a=r!=null,o=e.term,l=o!=null;if(a||l){var u=n.options;u==null&&(u={},n.options=u),a&&(u.constraint=r),l&&(u.term=o)}}s(AP,"makeParsedQuery");function SP(t){switch(t){case"name":return!1;default:return!0}}s(SP,"notNameFilter");Fw.exports={lib:{AnchorDef:pt,AttributeDef:yt,calculate:jw,BoxRegionDef:Ur,BucketDef:Rt,CircleRegionDef:_n,ComputedBucketDef:St,DatatypeDef:Qr,ElementDef:Xt,FieldDef:pr,FragmentScopeDef:ln,JSONPropertyDef:Bn,orderBy:Dw,PathIndexDef:In,PointRegionDef:zt,PolygonRegionDef:Qa,QNameDef:we,QueryBuilder:Me,slice:Bw,withOptions:Mw,makeSearchBody:bP},builder:{after:HN,anchor:fP,and:Ow,andNot:nN,attribute:rN,before:VN,bind:gP,bindDefault:hP,bindEmptyAs:yP,boost:aN,box:iN,bucket:pP,calculateFunction:lP,circle:sN,collection:oN,coordSystem:DN,copyFrom:nP,lsqtQuery:lN,datatype:uN,directory:pN,document:fN,documentFragment:mN,element:dN,extract:wP,facet:oP,facetOptions:cP,falseQuery:uP,field:gN,fragmentScope:hN,geoAttributePair:yN,geoElement:vN,geoElementPair:wN,geoOptions:TN,geoPath:AN,geoProperty:xN,geoPropertyPair:bN,geospatial:SN,geospatialRegion:kN,heatmap:EN,jsontype:ZN,latlon:_w,locksFragment:qN,minDistance:NN,near:PN,not:ON,notIn:CN,pathIndex:XN,point:IN,polygon:BN,propertiesFragment:jN,property:Ws,byExample:rP,qname:Fa,or:_N,ordered:RN,parseBindings:dP,parsedFrom:mP,parseFunction:vP,period:LN,periodCompare:MN,periodRange:FN,range:QN,rangeOptions:GN,score:aP,scope:cN,snippet:xP,sort:Iw,southWestNorthEast:WN,suggestBindings:$N,suggestOptions:UN,temporalOptions:zN,term:KN,termOptions:JN,transform:iP,trueQuery:sP,value:YN,weight:eP,where:Xw,word:tP}}});var zw=D((KI,Uw)=>{Uw.exports=$w;function $w(t,e){if(t&&e)return $w(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(r){n[r]=t[r]}),n;function n(){for(var r=new Array(arguments.length),a=0;a<r.length;a++)r[a]=arguments[a];var o=t.apply(this,r),l=r[r.length-1];return typeof o=="function"&&o!==l&&Object.keys(l).forEach(function(u){o[u]=l[u]}),o}s(n,"wrapper")}s($w,"wrappy")});var Ww=D((HI,Vf)=>{var Qw=zw();Vf.exports=Qw(ko);Vf.exports.strict=Qw(Gw);ko.proto=ko(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return ko(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Gw(this)},configurable:!0})});function ko(t){var e=s(function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))},"f");return e.called=!1,e}s(ko,"once");function Gw(t){var e=s(function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},"f"),n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}s(Gw,"onceStrict")});var Hw=D((YI,Vw)=>{var kP=Ww(),EP=s(function(){},"noop"),TP=s(function(t){return t.setHeader&&typeof t.abort=="function"},"isRequest"),qP=s(function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},"isChildProcess"),Kw=s(function(t,e,n){if(typeof e=="function")return Kw(t,null,e);e||(e={}),n=kP(n||EP);var r=t._writableState,a=t._readableState,o=e.readable||e.readable!==!1&&t.readable,l=e.writable||e.writable!==!1&&t.writable,u=!1,f=s(function(){t.writable||d()},"onlegacyfinish"),d=s(function(){l=!1,o||n.call(t)},"onfinish"),g=s(function(){o=!1,l||n.call(t)},"onend"),v=s(function(q){n.call(t,q?new Error("exited with error code: "+q):null)},"onexit"),w=s(function(q){n.call(t,q)},"onerror"),b=s(function(){process.nextTick(S)},"onclose"),S=s(function(){if(!u){if(o&&!(a&&a.ended&&!a.destroyed))return n.call(t,new Error("premature close"));if(l&&!(r&&r.ended&&!r.destroyed))return n.call(t,new Error("premature close"))}},"onclosenexttick"),E=s(function(){t.req.on("finish",d)},"onrequest");return TP(t)?(t.on("complete",d),t.on("abort",b),t.req?E():t.on("request",E)):l&&!r&&(t.on("end",f),t.on("close",f)),qP(t)&&t.on("exit",v),t.on("end",g),t.on("finish",d),e.error!==!1&&t.on("error",w),t.on("close",b),function(){u=!0,t.removeListener("complete",d),t.removeListener("abort",b),t.removeListener("request",E),t.req&&t.req.removeListener("finish",d),t.removeListener("end",f),t.removeListener("close",f),t.removeListener("finish",d),t.removeListener("exit",v),t.removeListener("end",g),t.removeListener("error",w),t.removeListener("close",b)}},"eos");Vw.exports=Kw});var Yw=D((eB,Jw)=>{Jw.exports=NP;function NP(t){var e=t._readableState;return e?e.objectMode||typeof t._duplexState=="number"?t.read():t.read(PP(e)):null}s(NP,"shift");function PP(t){if(t.buffer.length){var e=t.bufferIndex||0;if(t.buffer.head)return t.buffer.head.data.length;if(t.buffer.length-e>0&&t.buffer[e])return t.buffer[e].length}return t.length}s(PP,"getStateLength")});var rx=D((nB,nx)=>{var Eo=Li(),Zw=Hw(),OP=tn(),CP=Yw(),ex=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),Hf=s(function(t,e){t._corked?t.once("uncork",e):e()},"onuncork"),_P=s(function(t,e){t._autoDestroy&&t.destroy(e)},"autoDestroy"),tx=s(function(t,e){return function(n){n?_P(t,n.message==="premature close"?null:n):e&&!t._ended&&t.end()}},"destroyer"),RP=s(function(t,e){if(!t||t._writableState&&t._writableState.finished)return e();if(t._writableState)return t.end(e);t.end(),e()},"end"),XP=s(function(){},"noop"),DP=s(function(t){return new Eo.Readable({objectMode:!0,highWaterMark:16}).wrap(t)},"toStreams2"),Ge=s(function(t,e,n){if(!(this instanceof Ge))return new Ge(t,e,n);Eo.Duplex.call(this,n),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!n||n.autoDestroy!==!1,this._forwardDestroy=!n||n.destroy!==!1,this._forwardEnd=!n||n.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)},"Duplexify");OP(Ge,Eo.Duplex);Ge.obj=function(t,e,n){return n||(n={}),n.objectMode=!0,n.highWaterMark=16,new Ge(t,e,n)};Ge.prototype.cork=function(){++this._corked===1&&this.emit("cork")};Ge.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")};Ge.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.end();return}var e=this,n=Zw(t,{writable:!0,readable:!1},tx(this,this._forwardEnd)),r=s(function(){var o=e._ondrain;e._ondrain=null,o&&o()},"ondrain"),a=s(function(){e._writable.removeListener("drain",r),n()},"clear");this._unwrite&&process.nextTick(r),this._writable=t,this._writable.on("drain",r),this._unwrite=a,this.uncork()};Ge.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.push(null),this.resume();return}var e=this,n=Zw(t,{writable:!1,readable:!0},tx(this)),r=s(function(){e._forward()},"onreadable"),a=s(function(){e.push(null)},"onend"),o=s(function(){e._readable2.removeListener("readable",r),e._readable2.removeListener("end",a),n()},"clear");this._drained=!0,this._readable=t,this._readable2=t._readableState?t:DP(t),this._readable2.on("readable",r),this._readable2.on("end",a),this._unread=o,this._forward()};Ge.prototype._read=function(){this._drained=!0,this._forward()};Ge.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var t;this._drained&&(t=CP(this._readable2))!==null;)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}};Ge.prototype.destroy=function(t,e){if(e||(e=XP),this.destroyed)return e(null);this.destroyed=!0;var n=this;process.nextTick(function(){n._destroy(t),e(null)})};Ge.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")};Ge.prototype._write=function(t,e,n){if(!this.destroyed){if(this._corked)return Hf(this,this._write.bind(this,t,e,n));if(t===ex)return this._finish(n);if(!this._writable)return n();this._writable.write(t)===!1?this._ondrain=n:this.destroyed||n()}};Ge.prototype._finish=function(t){var e=this;this.emit("preend"),Hf(this,function(){RP(e._forwardEnd&&e._writable,function(){e._writableState.prefinished===!1&&(e._writableState.prefinished=!0),e.emit("prefinish"),Hf(e,t)})})};Ge.prototype.end=function(t,e,n){return typeof t=="function"?this.end(null,null,t):typeof e=="function"?this.end(t,null,e):(this._ended=!0,t&&this.write(t),!this._writableState.ending&&!this._writableState.destroyed&&this.write(ex),Eo.Writable.prototype.end.call(this,n))};nx.exports=Ge});var bx=D((aB,xx)=>{"use strict";var Xe=et(),Q=Oe(),De=st(),sx=Hr().lib,IP=require("path"),BP=require("fs"),dn=require("stream"),jP=Ma(),LP=rx();function MP(t,e){if(e!=null){var n=e.uri;(typeof n=="string"||n instanceof String)&&n.length>0&&t.push(n)}return t}s(MP,"addDocumentUri");function FP(t){return!Array.isArray(t)||t.length===0?[]:t.reduce(MP,[])}s(FP,"getDocumentUris");function $P(t,e){let n=t!==null,r=e!==null;if(!n&&!r)return 0;if(!n&&r)return-1;if(n&&!r)return 1;let a=t.uri,o=e.uri,l=(typeof a=="string"||a instanceof String)&&a.length>0,u=(typeof o=="string"||o instanceof String)&&o.length>0;return!l&&!u?0:!l&&u?-1:l&&!u?1:a<o?-1:a>o?1:0}s($P,"compareDocuments");function mr(t){var e=this,n=e.uri;return n==null?t:t+" (on "+n+")"}s(mr,"uriErrorTransform");function ox(t){var e=this,n=e.uris;return!Array.isArray(n)||n.length===0?t:t+" (on "+n.join(", ")+")"}s(ox,"uriListErrorTransform");function Te(t){if(!(this instanceof Te))return new Te(t);this.client=t}s(Te,"Documents");function UP(){var t=this,e=t.responseStatusCode,n=e===200;if(t.contentOnly===!0)return n;var r=n?t.responseHeaders:{};return r.uri=t.uri,r.exists=n,r}s(UP,"probeOutputTransform");function zP(){var t=this,e={uri:t.uri,temporalCollection:t.temporalCollection,level:t.level};return e}s(zP,"protectOutputTransform");function QP(){var t=this,e={uri:t.uri,temporalCollection:t.temporalCollection,wiped:!0};return e}s(QP,"wipeOutputTransform");function GP(t){var e={lsqt:t.lsqt};return e}s(GP,"advanceLsqtOutputTransform");Te.prototype.probe=s(function(){return lx.call(this,!1,Q.asArray.apply(null,arguments))},"probeDocument");function lx(t,e){if(e.length!==1&&e.length!==2)throw new Error("must supply uri for document check()");var n=e.length===1&&typeof e[0]!="string"&&!(e[0]instanceof String)?e[0]:null,r=null,a=null,o="/v1/documents?format=json";if(n===null)r=e[0],o+="&uri="+encodeURIComponent(r),a=Q.convertTransaction(e[1]),a!=null&&(o+="&txid="+Q.getTxidParam(a));else{if(r=n.uri,r==null)throw new Error("must specify the uri parameter for the document to check");o+="&uri="+encodeURIComponent(r),a=Q.convertTransaction(n.txid),a!=null&&(o+="&txid="+Q.getTxidParam(a))}let l=Q.newRequestOptions(this.client.getConnectionParams(),o,"HEAD");Q.addTxidHeaders(l,a);var u=new De("probe document",this.client,l,"empty","empty");return u.uri=r,u.validStatusCodes=[200,404],u.outputTransform=UP,u.errorTransform=mr,u.contentOnly=t===!0,Xe.startRequest(u)}s(lx,"probeDocumentsImpl");Te.prototype.protect=s(function(){var e=Q.asArray.apply(null,arguments),n=e.length,r=null,a=null,o=null,l=null,u="noDelete",f=null;if(n===1){var d=e[0];if(d.uri===void 0)throw new Error("must specify uri");if(r=d.uri,d.temporalCollection===void 0)throw new Error("must specify temporalCollection");if(a=d.temporalCollection,d.expireTime!==void 0)l=d.expireTime;else if(d.duration!==void 0)o=d.duration;else throw new Error("must specify duration or expireTime");d.level!==void 0&&(u=d.level),d.archivePath!==void 0&&(f=d.archivePath)}else{if(n<3)throw new Error("must specify uri, temporalCollection, and duration or expireTime");r=e[0],a=e[1],e[2].charAt(0)==="P"||e[2].substring(0,2)==="-P"?o=e[2]:l=e[2];var g=["noWipe","noDelete","noUpdate"];g.indexOf(e[3])!==-1?u=e[3]:f=e[3]||null,e[4]&&f===null&&(f=e[4])}if(f!==null)try{BP.accessSync(IP.dirname(f))}catch{throw new Error("archive directory does not exist: "+f)}var v="/v1/documents/protection?uri="+encodeURIComponent(r);v+="&temporal-collection="+encodeURIComponent(a),o!==null?v+="&duration="+encodeURIComponent(o):v+="&expireTime="+encodeURIComponent(l),v+="&level="+encodeURIComponent(u),f!==null&&(v+="&archivePath="+encodeURIComponent(f));let w=Q.newRequestOptions(this.client.getConnectionParams(),v,"POST");var b=new De("protect document",this.client,w,"empty","empty");return b.uri=r,b.temporalCollection=a,b.level=u,b.validStatusCodes=[204],b.outputTransform=zP,b.errorTransform=mr,Xe.startRequest(b)},"protectDocument");Te.prototype.wipe=s(function(){var e=Q.asArray.apply(null,arguments),n=e.length,r=null,a=null;if(n===1){var o=e[0];if(o.uri===void 0)throw new Error("must specify uri");if(r=o.uri,o.temporalCollection===void 0)throw new Error("must specify temporalCollection");a=o.temporalCollection}else{if(n<2)throw new Error("must specify uri and temporalCollection");r=e[0],a=e[1]}var l="/v1/documents?uri="+encodeURIComponent(r);l+="&temporal-collection="+encodeURIComponent(a),l+="&result=wiped";let u=Q.newRequestOptions(this.client.getConnectionParams(),l,"DELETE");var f=new De("wipe document",this.client,u,"empty","empty");return f.uri=r,f.temporalCollection=a,f.validStatusCodes=[204],f.outputTransform=QP,f.errorTransform=mr,Xe.startRequest(f)},"wipeDocument");Te.prototype.advanceLsqt=s(function(){var e=Q.asArray.apply(null,arguments),n=null,r=null;if(typeof e[0]=="string"||e[0]instanceof String){if(n=e[0],e[1]!==void 0)if(typeof e[1]=="number"||e[0]instanceof Number)r=e[1];else throw new Error("lag parameter takes a number in seconds")}else{var a=e[0];if(a.temporalCollection===void 0)throw new Error("must specify temporalCollection");if(n=a.temporalCollection,a.lag!==void 0)if(typeof a.lag=="number"||a.lag instanceof Number)r=a.lag;else throw new Error("lag parameter takes a number in seconds")}var o="/v1/temporal/collections/"+encodeURIComponent(n);o+="?result=advance-lsqt",r!==null&&(o+="&lag="+encodeURIComponent(r));let l=Q.newRequestOptions(this.client.getConnectionParams(),o,"POST");var u=new De("advance LSQT",this.client,l,"empty","empty");return u.validStatusCodes=[204],u.outputTransform=GP,u.errorTransform=mr,Xe.startRequest(u)},"temporalAdvanceLsqt");function WP(t){return t<400||t===404?null:"response with invalid "+t+" status"}s(WP,"readStatusValidator");function KP(t,e){var n=this,r=e!=null;if(r&&e.errorResponse!=null&&e.errorResponse.statusCode===404)return[];var a=r?e:null;if(n.contentOnly===!0)return[a];var o=n.categories,l=o.length===1&&o[0]==="content"?{content:a}:lm(a);l.uri=n.uris[0],l.category=o;var u=t.format;if((typeof u=="string"||u instanceof String)&&(l.format=u,u!=="json")){var f=t.contentLength;f!=null&&(l.contentLength=f)}var d=["contentType","versionId"],g=null,v=null,w=0;for(w=0;w<d.length;w++)g=d[w],v=t[g],v!=null&&(l[g]=v);return[l]}s(KP,"singleReadOutputTransform");Te.prototype.read=s(function(){return am.call(this,!1,Q.asArray.apply(null,arguments))},"readDocuments");function am(t,e){if(e.length===0)throw new Error("must specify at least one document to read");var n=null,r=null,a=null,o=null,l=null,u=null,f=null,d=e[0];if(Array.isArray(d))n=d;else if(typeof d=="string"||d instanceof String)n=e;else{if(n=d.uris,n==null)throw new Error("must specify the uris parameters with at least one document to read");Array.isArray(n)||(n=[n]),r=d.categories,a=Q.convertTransaction(d.txid),o=d.transform,l=d.contentType,u=d.range,f=d.timestamp}if(r==null?r=["content"]:(typeof r=="string"||r instanceof String)&&(r=[r]),r!=null){var g=0;for(g=0;g<r.length;g++){if(r[g]==="rawContent"){if(r.length>1)throw new Error("Categories should not have other option(s) if rawContent is needed.");r=["content"],t=!0}r[g]=r[g]==="metadataValues"?"metadata-values":r[g]}}var v="/v1/documents?format=json&uri="+n.map(encodeURIComponent).join("&uri=");v+="&category="+r.join("&category="),a!=null&&(v+="&txid="+Q.getTxidParam(a)),o!=null&&(v+="&"+Q.endpointTransform(o)),f!=null&&f.value!==null&&(v+="&timestamp="+f.value);var w=n.length===1&&(r.length===1&&r[0]==="content"||r.indexOf("content")===-1);let b=Q.newRequestOptions(this.client.getConnectionParams(),v,"GET");if(!w)b.headers={Accept:"multipart/mixed; boundary="+Q.multipartBoundary};else{var S=!1;if(l!=null)if(typeof l=="string"||l instanceof String)S=!0;else throw new Error("contentType is not string: "+l);if(u!=null){if(!Array.isArray(u))throw new Error("byte range parameter for reading binary document is not an array: "+u);var E=null;switch(u.length){case 0:throw new Error("no start length for byte range parameter for reading binary document");case 1:if(typeof u[0]!="number"&&!(u[0]instanceof Number))throw new Error("start length for byte range parameter is not integer: "+u[0]);E="bytes="+u[0]+"-";break;case 2:if(typeof u[0]!="number"&&!(u[0]instanceof Number))throw new Error("start length for byte range parameter is not integer: "+u[0]);if(typeof u[1]!="number"&&!(u[1]instanceof Number))throw new Error("end length for byte range parameter is not integer: "+u[1]);if(u[0]>=u[1])throw new Error("start length greater than or equal to end length for byte range: "+u);E="bytes="+u[0]+"-"+(u[1]-1);break;default:throw new Error("byte range parameter has more than start and end length: "+u)}if(!S)b.headers={Range:E};else{if(l.search(/^(application\/([^+]+\+)?(json|xml)|text\/.*)$/)>-1)throw new Error("cannot request byte range for JSON, text, or XML document: "+l);b.headers={Range:E,"Content-Type":l}}}else S&&(b.headers={"Content-Type":l})}Q.addTxidHeaders(b,a);var q=new De("read documents",this.client,b,"empty",w?"single":"multipart");return q.uris=n,q.categories=r,q.errorTransform=ox,w?(q.contentOnly=t===!0,q.outputTransform=KP,q.statusCodeValidator=WP):t===!0&&(q.subdata=["content"]),q.timestamp=f!==null?f:null,Xe.startRequest(q)}s(am,"readDocumentsImpl");Te.prototype.createWriteStream=s(function(e){if(e==null||e.uri==null)throw new Error("must specify document for write stream");if(e.content!=null)throw new Error("must write to stream to supply document content");var n=e.categories,r=Array.isArray(n)&&n.length>0;return!r&&(typeof n=="string"||n instanceof String)&&(n=[n]),e.properties==null?ux.call(this,!1,e,e,n,"chunked"):VP.call(this,e,n)},"createWriteStream");function VP(t,e){var n="/v1/documents",r=sm(t),a=om(t,e,r);a.length>0&&(n+=a);var o=Q.multipartBoundary;let l=Q.newRequestOptions(this.client.getConnectionParams(),n,"POST");l.headers={"Content-Type":"multipart/mixed; boundary="+o,Accept:"application/json"},Q.addTxidHeaders(l,r);var u=new De("write document stream",this.client,l,"chunkedMultipart","single");u.isReplayable=!1,u.uri=t.uri;var f=[];return fx(u,f,t,!0),u.requestDocument=f,u.multipartBoundary=Q.multipartBoundary,u.errorTransform=mr,Xe.startRequest(u)}s(VP,"writeStreamImpl");function cx(t,e){var n=this,r=n.uri;if(r==null){var a=t.location;if(a!=null){var o="/v1/documents?uri=";a.length>o.length&&a.substr(0,o.length)===o&&(r=a.substr(o.length))}}if(n.contentOnly===!0)return[r];var l={uri:r},u=n.categories;u==null&&(l.categories=u);var f=e==null?null:e["mime-type"];f==null&&(l.contentType=f);var d={documents:[l]},g=t.systemTime;return g!=null&&(d.systemTime=g),d}s(cx,"singleWriteOutputTransform");function HP(t,e){var n=t.systemTime;return n==null?e:{documents:e.documents,systemTime:n}}s(HP,"writeListOutputTransform");Te.prototype.write=s(function(){return im.call(this,!1,Q.asArray.apply(null,arguments))},"writeDocuments");function im(t,e){if(e.length<1)throw new Error("must provide uris for document write()");var n=e[0],r=n.documents,a=r==null?null:n;a!==null?Array.isArray(r)||(r=[r]):Array.isArray(n)?r=n:r=e;var o=r.length===1,l=o?r[0]:null,u=l!=null,f=u&&l.content!=null,d=a!==null?a:u?l:null,g=d==null?null:d.categories;if((typeof g=="string"||g instanceof String)&&(g=[g]),g!=null)for(var v=0;v<g.length;v++)g[v]=g[v]==="metadataValues"?"metadata-values":g[v];if(u){if(f&&l.properties==null)return ux.call(this,t,l,d,g,"single");if(!f&&l.uri!=null)return JP.call(this,l,g)}return YP.call(this,t,r,d,g)}s(im,"writeDocumentsImpl");function JP(t,e){var n=t.uri,r="/v1/documents?uri="+encodeURIComponent(n);Array.isArray(e)||(e=[]);var a=e.length>0;if(!a){var o=["collections","permissions","quality","properties","metadataValues"],l=null,u=0;for(u=0;u<o.length;u++)l=o[u],t[l]!=null&&(l=l==="metadataValues"?"metadata-values":l,e.push(l),a||(a=!0))}a&&(r+="&category="+e.join("&category="));var f=Q.convertTransaction(t.txid);f!=null&&(r+="&txid="+Q.getTxidParam(f));var d={Accept:"application/json","Content-Type":"application/json"};let g=Q.newRequestOptions(this.client.getConnectionParams(),r,"PUT");g.headers=d,Q.addTxidHeaders(g,f);var v=new De("write single metadata",this.client,g,"single","empty");return v.uri=n,a&&(v.categories=e),v.requestBody=JSON.stringify(lm(t)),v.outputTransform=cx,Xe.startRequest(v)}s(JP,"writeMetadata");function ux(t,e,n,r,a){var o=e.content,l=o!=null,u="/v1/documents",f="?",d=sm(n),g=om(n,r,d);g.length>0&&(u+=g,f="&");var v=e.uri,w=v!=null;w&&(u+=f+"uri="+encodeURIComponent(v),f==="?"&&(f="&"));var b=0,S=e.collections;if(S!=null)if(Array.isArray(S))for(b=0;b<S.length;b++)u+=f+"collection="+encodeURIComponent(S[b]),b===0&&f==="?"&&(f="&");else u+=f+"collection="+encodeURIComponent(S),f==="?"&&(f="&");var E=e.permissions;if(E!=null){var q=null,P=null,R=null,O=0;if(Array.isArray(E))for(b=0;b<E.length;b++)if(q=E[b],P=q["role-name"],R=q.capabilities,Array.isArray(R))for(O=0;O<R.length;O++)u+=f+"perm:"+P+"="+R[O],b===0&&O===0&&f==="?"&&(f="&");else u+=f+"perm:"+P+"="+R,b===0&&f==="?"&&(f="&");else if(P=E["role-name"],R=E.capabilities,Array.isArray(R))for(O=0;O<R.length;O++)u+=f+"perm:"+P+"="+R[O],O===0&&f==="?"&&(f="&");else u+=f+"perm:"+P+"="+R,f==="?"&&(f="&")}var M=e.quality;M!=null&&(u+=f+"quality="+M,f==="?"&&(f="&"));var j=e.metadataValues;for(var U in j)u+=f+"value:"+U+"="+encodeURIComponent(j[U]);var G=e.temporalDocument;G!=null&&(u+=f+"temporal-document="+G,f==="?"&&(f="&"));var k={Accept:"application/json"},Y=px(e,w,o,k,f);Y.length>0&&(u+=Y,f==="?"&&(f="&"));let K=Q.newRequestOptions(this.client.getConnectionParams(),u,w?"PUT":"POST");K.headers=k,Q.addTxidHeaders(K,d);var H=new De("write single document",this.client,K,a,"empty");return w&&(H.uri=v),Array.isArray(r)&&r.length>0&&(H.categories=r),l?H.requestBody=Q.marshal(o,H):H.isReplayable=!1,H.outputTransform=cx,H.contentOnly=t===!0,Xe.startRequest(H)}s(ux,"writeContent");function YP(t,e,n,r){e.length>1&&(e=e.sort($P));var a="/v1/documents",o=sm(n),l=om(n,r,o);l.length>0&&(a+=l);var u=Q.multipartBoundary,f={Accept:"application/json","Content-Type":"multipart/mixed; boundary="+u};let d=Q.newRequestOptions(this.client.getConnectionParams(),a,"POST");d.headers=f,Q.addTxidHeaders(d,o);var g=new De("write document list",this.client,d,"multipart","single");g.uris=FP(e),Array.isArray(r)&&r.length>0&&(g.categories=r),g.multipartBoundary=u;for(var v=[],w=0;w<e.length;w++)fx(g,v,e[w],!1);return g.requestPartList=v,g.errorTransform=ox,t===!0?g.subdata=["documents","uri"]:n!=null&&n.temporalCollection!=null&&(g.outputTransform=HP),Xe.startRequest(g)}s(YP,"writeDocumentList");function sm(t){return t==null?null:t.txid}s(sm,"getTxid");function om(t,e,n){var r="",a=Q.convertTransaction(n),o="?";if(t!=null){Array.isArray(e)&&e.length>0&&(r+=o+"category="+e.join("&category="),o!=="&"&&(o="&")),a!=null&&(r+=o+"txid="+Q.getTxidParam(a),o!=="&"&&(o="&"));var l=Q.endpointTransform(t.transform);l!=null&&(r+=o+l,o!=="&"&&(o="&"));var u=t.forestName;u!=null&&(r+=o+"forest-name="+encodeURIComponent(u),o!=="&"&&(o="&"));var f=t.temporalCollection;if(f!=null){r+=o+"temporal-collection="+encodeURIComponent(f),o!=="&"&&(o="&");var d=t.systemTime;typeof d=="string"||d instanceof String?r+="&system-time="+encodeURIComponent(d):Object.prototype.toString.call(d)==="[object Date]"&&(r+="&system-time="+encodeURIComponent(d.toISOString()))}}return r}s(om,"addWriteParams");function px(t,e,n,r,a){var o="",l=a!=="; ";if(!e){var u=t.extension;if(u!=null){o+=a+"extension="+u,l&&a==="?"&&(a="&");var f=t.directory;f!=null&&(o+=a+"directory="+(l?encodeURIComponent(f):f))}}var d=t.versionId;d!=null&&(l?r["If-Match"]=d:o+=a+"versionId="+d);var g=t.contentType,v=g!=null,w=t.format,b=w!=null;if(v?b||(/^(application|text)\/([^+]+\+)?json$/.test(g)?(w="json",b=!0):/^(application|text)\/([^+]+\+)?xml$/.test(g)?(w="xml",b=!0):/^(text)\//.test(g)&&(w="text",b=!0)):!b&&(Array.isArray(n)||typeof n=="object"&&n!==null&&typeof n!="string"&&!(n instanceof String)&&!Buffer.isBuffer(n)&&typeof n!="function")&&(g="application/json",v=!0,w="json",b=!0),b)switch(w){case"binary":var S=t.extract;if(S!=null)if(S==="document"||S==="properties")o+=a+"extract="+S,l&&a==="?"&&(a="&");else throw new Error('extract must be "document" or "properties": '+S.toString());break;case"json":v||(g="application/json");break;case"text":v||(g="text/plain");break;case"xml":var E=t.repair;if(E!=null)if(E==="full"||E==="none")o+=a+"repair="+E,l&&a==="?"&&(a="&");else throw new Error('repair must be "full" or "none": '+E.toString());v||(g="application/xml");break}return v&&(r["Content-Type"]=g),o}s(px,"addWriteConfig");function fx(t,e,n,r){var a=n.uri,o=a!=null,l="";o?(l='attachment; filename="'+a+'"',n.temporalDocument!=null&&(l+='; temporal-document="'+n.temporalDocument+'"')):l="inline";var u=lm(n);u!=null&&e.push({headers:{"Content-Type":"application/json","Content-Disposition":l+"; category=metadata"},content:JSON.stringify(u)});var f=n.content,d=f!=null;if(d||r){var g={},v={headers:g},w=px(n,o,f,g,"; ");w.length>0&&(l+=w),g["Content-Disposition"]=l+"; category=content",d&&(v.content=Q.marshal(f,t)),e.push(v)}}s(fx,"addDocumentParts");function lm(t){for(var e=null,n=["collections","permissions","quality","properties","metadataValues"],r=0;r<n.length;r++){var a=n[r];t!==null&&t[a]!=null&&(e===null&&(e={}),e[a]=t[a])}return e}s(lm,"collectMetadata");function ZP(t){var e=this;if(e.contentOnly===!0)return e.uris;var n={uris:e.uris,removed:!0},r=t.systemTime;return r!=null&&(n.systemTime=r),n}s(ZP,"removeOutputTransform");Te.prototype.remove=s(function(){return cm.call(this,!1,Q.asArray.apply(null,arguments))},"removeDocument");function cm(t,e){if(e.length<1)throw new Error("must provide uris for document remove()");var n=null,r=null,a=null,o=null,l=null,u=e[0];if(Array.isArray(u))n=u;else if(typeof u=="string"||u instanceof String)n=e;else{if(n=u.uris,n==null)throw new Error("must specify the uris parameters with at least one document to remove");Array.isArray(n)||(n=[n]),r=Q.convertTransaction(u.txid),a=u.temporalCollection,o=u.systemTime,l=u.versionId}var f="/v1/documents?uri="+n.map(encodeURIComponent).join("&uri=");r!=null&&(f+="&txid="+Q.getTxidParam(r)),a!=null&&(f+="&temporal-collection="+a,typeof o=="string"||o instanceof String?f+="&system-time="+o:Object.prototype.toString.call(o)==="[object Date]"&&(f+="&system-time="+o.toISOString()));let d=Q.newRequestOptions(this.client.getConnectionParams(),f,"DELETE");l!=null&&(d.headers={"If-Match":l}),Q.addTxidHeaders(d,r);var g=new De("remove document",this.client,d,"empty","empty");return g.uris=n,g.validStatusCodes=[204],g.outputTransform=ZP,g.errorTransform=mr,g.contentOnly=t===!0,Xe.startRequest(g)}s(cm,"removeDocumentImpl");function eO(){var t=this;if(t.contentOnly===!0)return t.collection;var e={exists:!1},n=t.collection;n!=null&&(e.collection=n);var r=t.directory;return r!=null&&(e.directory=r),t.all===!0&&(e.allDocuments=!0),e}s(eO,"removeAllOutputTransform");Te.prototype.removeAll=s(function(e){return mx.call(this,!1,e)},"removeAllDocuments");function mx(t,e){if(e==null)throw new Error("No parameters specifying directory or collection to delete");var n=e.all===!0,r=e.collection,a=r!=null,o=e.directory,l=o!=null,u=Q.convertTransaction(e.txid),f="/v1/search",d="?";if(a||l){if(n)throw new Error("delete all conflicts with delete collection and directory");a&&(f+=d+"collection="+encodeURIComponent(r),d="&"),l&&(f+=d+"directory="+encodeURIComponent(o.substr(-1)==="/"?o:o+"/"),d==="?"&&(d="&"))}else if(!n)throw new Error("No directory or collection to delete");u!=null&&(f+=d+"txid="+Q.getTxidParam(u),d==="?"&&(d="&"));let g=Q.newRequestOptions(this.client.getConnectionParams(),f,"DELETE");Q.addTxidHeaders(g,u);var v=new De("remove all documents",this.client,g,"empty","empty");return a&&(v.collection=r),l&&(v.directory=o),n&&(v.all=!0),v.outputTransform=eO,v.contentOnly=t===!0,Xe.startRequest(v)}s(mx,"removeAllDocumentsImpl");function tO(t,e){return[e]}s(tO,"listOutputTransform");function nO(t){this.resultEstimateCallback(t["vnd.marklogic.result-estimate"])}s(nO,"multipartTransform");Te.prototype.query=s(function(e,n,r){return dx.call(this,null,!1,e,n,r)},"queryDocuments");function dx(t,e,n,r,a){var o=sx.makeSearchBody(n),l=o.categories,u=o.optionsName,f=o.pageStart,d=o.pageLength,g=Q.convertTransaction(o.txid),v=o.transform,w=o.view,b=o.searchBody,S=d!==0;if(!S&&n.queryType!=="qbe"){var E=b.search.options;if(E!==void 0){var q=E["transform-results"];if(q!=null&&q.apply!=="empty-snippet")throw new Error("cannot snippet with page length of zero");var P=E["extract-document-data"];if(P!=null)throw new Error("cannot extract document data with page length of zero")}}var R=null,O=!1,M=null;if(n.queryFormat===void 0)M="/v1/search?format=json";else if(n.queryType==="qbe"){var j=b.search.$query;if(typeof j=="string"||j instanceof String){var U=b.search.options,G={headers:{"Content-Type":"application/xml"},content:j};O=!0,R=U==null?[G]:[G,{headers:{"Content-Type":"application/json"},content:JSON.stringify({options:U})}]}M="/v1/qbe?format="+n.queryFormat}else M="/v1/search?format="+n.queryFormat;var k=O||S?Q.multipartBoundary:null;l!=null&&(l==="none"||Array.isArray(l)&&l.length===1&&l[0]==="none"?S=!1:M+="&category="+(typeof l=="string"||l instanceof String?l:l.join("&category="))),u!=null&&(M+="&options="+u),f!=null&&(M+="&start="+f),d!=null&&(M+="&pageLength="+d),g!=null&&(M+="&txid="+Q.getTxidParam(g)),v!=null&&(M+="&"+Q.endpointTransform(v)),w!=null&&(M+="&view="+w),t!=null&&(M+="&collection="+encodeURIComponent(t)),r!==void 0&&r instanceof Q.Timestamp&&r.value!==null&&(M+="&timestamp="+r.value);let Y=Q.newRequestOptions(this.client.getConnectionParams(),M,"POST");Y.headers={"Content-Type":O?"multipart/mixed; boundary="+k:"application/json",Accept:S?"multipart/mixed; boundary="+k:"application/json"},Q.addTxidHeaders(Y,g);var K=new De("query documents",this.client,Y,O?"multipart":"single",S?"multipart":"single");return K.validStatusCodes=[200,204,404],K.inlineAsDocument=!1,O?(K.multipartBoundary=k,K.requestPartList=R):K.requestBody=b,e===!0&&(K.subdata=["content"]),S?a&&(K.resultEstimateCallback=a,K.onMultipart=nO):K.outputTransform=tO,K.timestamp=r!==void 0?r:null,Xe.startRequest(K)}s(dx,"queryDocumentsImpl");function rO(){var t=this;return{uri:t.uri}}s(rO,"patchOutputTransform");Te.prototype.patch=s(function(){var e=arguments.length,n=arguments[0],r=e===1?n:null,a=null,o=null,l=null,u=null,f=null,d=null,g=null,v=null,w=null,b=null,S=!1,E=0;if(r!==null)a=r.uri,n=r.operations,n!=null&&(typeof n=="string"||n instanceof String||Buffer.isBuffer(n)||n.patch!=null?(o=n,S=!0):Array.isArray(n)?o=n:o=[n]),l=r.categories,u=r.temporalCollection,f=r.temporalDocument,d=r.sourceDocument,g=Q.convertTransaction(r.txid),v=r.versionId,b=r.format;else if(e>1)if(a=n,n=arguments[1],typeof n=="string"||n instanceof String||Buffer.isBuffer(n)||n.patch!=null)o=n,S=!0;else if(Array.isArray(n))o=n;else for(o=new Array(e-1),o[0]=n,E=2;E<e;++E)o[E-1]=arguments[E];if(a==null||o==null)throw new Error("patch must specify a uri and operations");if(b==null&&(b=/\.xml$/.test(a)?"xml":"json"),!S&&(o=o.filter(s(function(j){return!(w==null&&(w=j.pathlang,w!=null))},"patchOperationsFilter")),o.length===0))throw new Error("patch must specify operations");var q="/v1/documents?uri="+encodeURIComponent(a);if(l!=null){for(Array.isArray(l)||(l=[l]),E=0,E=0;E<l.length;E++)l[E]=l[E]==="metadataValues"?"metadata-values":l[E];l.length>0&&(q+="&category="+l.join("&category="))}u!=null&&(q+="&temporal-collection="+encodeURIComponent(u)),f!=null&&(q+="&temporal-document="+encodeURIComponent(f)),d!=null&&(q+="&source-document="+encodeURIComponent(d)),g!=null&&(q+="&txid="+Q.getTxidParam(g));var P=S?o:{patch:o};!S&&w!=null&&(P.pathlang=w);let R=Q.newRequestOptions(this.client.getConnectionParams(),q,"POST");R.headers={"Content-Type":b==="xml"?"application/xml":"application/json",Accept:"application/json","X-HTTP-Method-Override":"PATCH"},v!=null&&(R.headers["If-Match"]=v),Q.addTxidHeaders(R,g);var O=new De("patch document",this.client,R,"single","single");return O.uri=a,O.outputTransform=rO,O.requestBody=P,O.errorTransform=mr,Xe.startRequest(O)},"patchDocuments");Te.prototype.suggest=s(function(){var e=arguments.length;if(e<1)throw new Error("no partial query text or query with bindings");var n=null,r=null,a=null,o=null,l=null;switch(e){case 1:n=arguments[0],r=n.partial,a=n.query,o=n.bindings,l=n.limit;break;case 2:r=arguments[0],a=arguments[1];break;default:r=arguments[0],a=arguments[1],o=arguments[2];break}if(r==null)throw new Error("no partial query text for document suggestion");if(a==null)throw new Error("no query with bindings for document suggestion");var u=sx.makeSearchBody(a),f=u.searchBody,d=f.search;if(d==null)throw new Error("cannot get  document suggestions for empty search");if(d.$query!=null)throw new Error("cannot get  document suggestions for Query By Example (QBE)");var g=d.options;g==null&&(g={},d.options=g);var v=g.constraint,w=o!=null,b=w?o.constraint:null,S=lO(b,v);S.length>0&&(g["suggestion-source"]=S);var E=w?o.term:null;E==null&&(E=g.term);var q=null;E!=null&&(q=E.default,q!=null&&(g["default-suggestion-source"]=q));var P="/v1/suggest?partial-q="+encodeURIComponent(r);l!=null&&(P+="&limit="+l);let R=Q.newRequestOptions(this.client.getConnectionParams(),P,"POST");R.headers={"Content-Type":"application/json",Accept:"application/json"},Q.addTxidHeaders(R,u.txid);var O=new De("search suggest",this.client,R,"single","single");return O.input=r,O.requestBody=f,O.subdata=["suggestions"],Xe.startRequest(O)},"suggestDocuments");Te.prototype.writeAll=s(function(e,n){return gx.call(this,e,n)},"writeAllDocuments");function gx(t,e){let n="/v1/internal/forestinfo",r=this.client.getConnectionParams(),a=Q.newRequestOptions(r,n,"GET");a.headers={Accept:"application/json"};let o=new De("read forestInfo",this.client,a,"empty","single"),l={docInstance:this,stream:t,requesterCount:0,docsWrittenSuccessfully:0,docsFailedToBeWritten:0,jobOptions:e?Q.copyProperties(e):{}};if(l.jobOptions.concurrentRequests){let u=l.jobOptions.concurrentRequests;if(u.multipleOf){if(!new Set(["forests","hosts"]).has(String(u.multipleOf)))throw new Error("Invalid value for multipleOf. Value must be forests or hosts.")}else u.multipleOf="forests";if(u.multiplier&&u.multiplier<0)throw new Error("concurrentRequests.multiplier cannot be less than zero");u.multiplier=4,l.jobOptions.concurrentRequests=u}else l.jobOptions.concurrentRequests={multipleOf:"forests",multiplier:4};return l.jobOptions.batchSize=l.jobOptions.batchSize&&l.jobOptions.batchSize>0?l.jobOptions.batchSize:100,l.jobOptions.defaultMetadata=l.jobOptions.defaultMetadata?l.jobOptions.defaultMetadata:null,l.jobOptions.transform=l.jobOptions.transform?l.jobOptions.transform:null,Xe.startRequest(o).result(Q.callbackOn(l,aO)).catch(u=>l.stream.emit("error",u)),l.stream}s(gx,"writeAllDocumentsImpl");function Jr(t){if(t.requesterCount--,t.requesterCount<=0&&t.jobOptions.onCompletion){let e={docsWrittenSuccessfully:t.docsWrittenSuccessfully,docsFailedToBeWritten:t.docsFailedToBeWritten,timeElapsed:Date.now()-t.startTime};t.error&&(e.error=t.error.toString()),t.jobOptions.onCompletion(e)}}s(Jr,"finishWriter");function aO(t){let e=0,n=this;switch(n.jobOptions.concurrentRequests.multipleOf){case"forests":e=n.jobOptions.concurrentRequests.multiplier*t.length;break;case"hosts":e=n.jobOptions.concurrentRequests.multiplier*new Set(t.map(r=>r.host)).size;break;default:{let r=new Error("Invalid value for multipleOf. Value must be forests or hosts.");n.error=r,n.stream.emit("error",r)}}n.startTime=Date.now(),n.requesterCount=0;for(let r=0;r<e;r++)n.requesterCount++,Jf(n,r)}s(aO,"onWriteAllInit");function Jf(t,e){if(t.error){Jr(t);return}let n=[],r=t.jobOptions.batchSize;t.lastBatch=!1,t.retryCount=2;e:for(let a=0;a<r;a++){let o=t.stream.read();if(o!==null)t.jobOptions.defaultMetadata&&a===0&&n.push(t.jobOptions.defaultMetadata);else switch(n.length){case 0:{t.timeElapsed=Date.now()-t.startTime,Jr(t);break e}default:{t.lastBatch=!0;break e}}n.push(o)}if(n.length!==0){let a={documents:n};t.jobOptions.transform&&(a.transform=t.jobOptions.transform),hx(t,!1,a,n,e)}}s(Jf,"onWriteAllDocs");function hx(t,e,n,r,a){im.call(t.docInstance,e,[n]).result(o=>{if(t.docsWrittenSuccessfully+=r.length,t.jobOptions.onBatchSuccess){let l={docsWrittenSuccessfully:t.docsWrittenSuccessfully,docsFailedToBeWritten:t.docsFailedToBeWritten,timeElapsed:Date.now()-t.startTime},u=r;t.jobOptions.onBatchSuccess(l,u)}t.lastBatch?(t.timeElapsed=Date.now()-t.startTime,Jr(t)):Jf(t,a)}).catch(o=>{if(t.error){Jr(t);return}let l=o;if(t.jobOptions.onBatchError){let u={docsWrittenSuccessfully:t.docsWrittenSuccessfully,docsFailedToBeWritten:r.length,timeElapsed:Date.now()-t.startTime},f=r;try{l=t.jobOptions.onBatchError(u,f,o)}catch(d){l=d}}if(l instanceof Error){t.docsFailedToBeWritten+=r.length,t.error=l,t.stream.emit("error",l),Jr(t);return}else if(!Array.isArray(l)){Jf(t,a);return}switch(t.retryCount){case 2:case 1:{t.retryCount--,n.documents=l,hx(t,e,n,n.documents,a);break}default:t.docsFailedToBeWritten+=r.length,t.error=o,t.stream.emit("error",o),Jr(t)}})}s(hx,"writeDocs");Te.prototype.queryAll=s(function(e,n){return Ha.call(this,e,n)},"queryAllDocuments");function Ha(t,e){if(!t)throw new Error("Query cannot be null or undefined.");if(t.queryType!=="cts")throw new Error("Query needs to be a cts query.");let r=Q.newRequestOptions(this.client.getConnectionParams(),"/v1/internal/forestinfo","POST"),a={ctsast:jP.exportArg(t.whereClause)};r.headers={Accept:"application/json","Content-Type":"application/json"};let o=new De("read forestInfo",this.client,r,"single","single");o.requestBody=Q.marshal(a,o);let l={docInstance:this,jobOptions:e?Q.copyProperties(e):{},urisReadSoFar:0,urisFailedToBeRead:0,forestDict:{},serverTimestamp:null};if(l.jobOptions.consistentSnapshot&&typeof l.jobOptions.consistentSnapshot!="boolean"&&!(l.jobOptions.consistentSnapshot instanceof Boolean)&&!(l.jobOptions.consistentSnapshot instanceof Q.Timestamp))throw new Error("consistentSnapshot needs to be a boolean or DatabaseClient.Timestamp object.");if(l.jobOptions.onInitialTimestamp&&l.jobOptions.consistentSnapshot!==!0)throw new Error("consistentSnapshot needs to be true when onInitialTimestamp is provided.");if(!l.jobOptions.batchSize||l.jobOptions.batchSize<=0)l.jobOptions.batchSize=1;else if(l.jobOptions.batchSize>1e5)throw new Error("batchSize cannot be greater than 100000");if(!l.jobOptions.queryBatchMultiple||l.jobOptions.queryBatchMultiple<=0)l.jobOptions.queryBatchMultiple=l.jobOptions.batchSize>1e3?1:1e3/l.jobOptions.batchSize;else if(l.jobOptions.queryBatchMultiple*l.jobOptions.batchSize>1e5)throw new Error("batchSize times queryBatchMultiple cannot be greater than 100000");return l.stream=l.jobOptions.batchSize===1?new dn.PassThrough:new dn.PassThrough({objectMode:!0}),Xe.startRequest(o).result(Q.callbackOn(l,iO)).catch(u=>{l.stream.emit("error",u),l.requesterCount=0,l.error=u,qo(l)}),l.stream}s(Ha,"queryAllDocumentsImpl");function iO(t){let e=this,r="/v1/internal/uris?filtered=false&start=1&pageLength="+e.jobOptions.batchSize*e.jobOptions.queryBatchMultiple;e.query=t.query,e.forests=t.forests,e.requesterCount=t.forests.length,e.startTime=Date.now(),e.endpoint=r,e.jobOptions.queryToOptions&&(e.jobOptions.queryToOptions.output=t),e.jobOptions.consistentSnapshot&&e.jobOptions.consistentSnapshot instanceof Q.Timestamp?(e.serverTimestamp=e.jobOptions.consistentSnapshot,Yf(e,0)):e.jobOptions.consistentSnapshot?(e.forestDict[e.forests[0].name]={},um(e.forests[0].name,e)):Yf(e,0)}s(iO,"onQueryUrisRequest");function Yf(t,e){for(let n=e;n<t.forests.length;n++)t.forestDict[t.forests[n].name]={},um(t.forests[n].name,t)}s(Yf,"spinForestRequests");function sO(t){let e=this,n=e.jobState;if(t){let r=t.uriArr,a=r[r.length-1];if(n.urisReadSoFar+=r.length,n.jobOptions.batchSize>1){let o=n.jobOptions.batchSize,l=0;for(;l<r.length;){let u=l+o<=r.length?l+o:r.length;n.stream.write(r.slice(l,u)),l=u}}else r.forEach(o=>n.stream.write(o));n.forestDict[e.forestName].AfterUri=a,um(e.forestName,n)}else qo(e.jobState)}s(sO,"onDocUrisCollected");function um(t,e){if(e.error){qo(e);return}let n=e.docInstance.client.getConnectionParams(),r=Q.copyProperties(n),a=e.endpoint+"&forest-name="+encodeURIComponent(t);r.method="POST",r.headers={Accept:"text/uri-list","Content-Type":"application/json"},e.forestDict[t].AfterUri&&(a=a+"&after="+encodeURIComponent(e.forestDict[t].AfterUri));let o=new De("read uris",e.docInstance.client,r,"single","single");o.requestBody=Q.marshal(e.query,o),o.validStatusCodes=[200,204,404],o.outputTransform=oO,e.serverTimestamp?(a=a+"&timestamp="+encodeURIComponent(e.serverTimestamp.value),e.jobOptions.queryToOptions&&(e.jobOptions.queryToOptions.consistentSnapshot=e.serverTimestamp)):e.jobOptions.consistentSnapshot&&(o.timestamp=new Q.Timestamp(null),o.jobState=e),r.path=Q.newRequestOptions(n,a).path,Xe.startRequest(o).result(Q.callbackOn({jobState:e,forestName:t},sO)).catch(l=>{e.error||(e.urisFailedToBeRead+=e.jobOptions.batchSize,e.error=l,e.stream.emit("error",l)),qo(e)})}s(um,"collectDocUris");function qo(t){if(t.requesterCount--,t.requesterCount<=0&&(t.stream.end(),t.jobOptions.onCompletion)){let e={urisReadSoFar:t.urisReadSoFar,urisFailedToBeRead:t.urisFailedToBeRead,timeElapsed:Date.now()-t.startTime};if(t.error&&(e.error=t.error.toString()),t.serverTimestamp){let n=t.serverTimestamp.value.length>13?+t.serverTimestamp.value.substr(0,13):t.serverTimestamp.value;e.consistentSnapshotTimestamp=new Date(n)}t.jobOptions.onCompletion(e)}}s(qo,"finishOnQueryAllDocs");function oO(t,e){let n=this;if(!e||e.errorResponse!=null)return e;n.jobState&&n.jobState.jobOptions.consistentSnapshot&&!n.jobState.serverTimestamp&&(n.jobState.serverTimestamp=n.timestamp,n.jobState.jobOptions.onInitialTimestamp&&n.jobState.jobOptions.onInitialTimestamp(n.jobState.serverTimestamp),Yf(n.jobState,1));let r=e.split(`\r
`);return{uriArr:r.slice(0,r.length-1)}}s(oO,"urisOutputTransform");Te.prototype.readAll=s(function(e,n){return pm.call(this,e,n)},"readAllDocuments");function pm(t,e){let r=Q.newRequestOptions(this.client.getConnectionParams(),"/v1/internal/forestinfo","GET");r.headers={Accept:"application/json"};let a=new De("read forestInfo",this.client,r,"empty","single"),o={docInstance:this,requesterCount:0,docsReadSuccessfully:0,docsFailedToBeRead:0,jobOptions:e?Q.copyProperties(e):{}},l=null,u=null;if(o.jobOptions.inputKind&&(u=o.jobOptions.inputKind.toString().toLowerCase(),!new Set(["string","array"]).has(u)))throw new Error("Invalid value for inputKind. Value must be array or string.");if(o.inputStream=t||new dn.PassThrough({objectMode:!0}),o.jobOptions.outputStreamType){if(l=o.jobOptions.outputStreamType.toString().toLowerCase(),!new Set(["chunked","object"]).has(l))throw new Error("Invalid value for outputStreamType. Value must be chunked or object.");o.outputStream=l==="chunked"?new dn.PassThrough:new dn.PassThrough({objectMode:!0})}else o.outputStream=new dn.PassThrough({objectMode:!0});if(o.readableObjectMode=l,o.writableObjectMode=u,o.duplexStream=LP(o.inputStream,o.outputStream,{readableObjectMode:l!=="chunked",writableObjectMode:u!=="string"}),o.jobOptions.concurrentRequests){let f=o.jobOptions.concurrentRequests;if(f.multipleOf){if(!new Set(["forests","hosts"]).has(String(f.multipleOf)))throw new Error("Invalid value for multipleOf. Value must be forests or hosts.")}else f.multipleOf="forests";if(f.multiplier&&f.multiplier<=0)throw new Error("concurrentRequests.multiplier cannot be less than one");f.multiplier=8,o.jobOptions.concurrentRequests=f}else o.jobOptions.concurrentRequests={multipleOf:"forests",multiplier:8};if(o.jobOptions.batchSize){if(u==="array")throw new Error("batchSize not expected when inputKind is array.");if(o.jobOptions.batchSize<=0)throw new Error("Invalid batchSize. batchSize cannot be less than or equal to 0.");if(o.jobOptions.batchSize>1e5)throw new Error("Invalid batchSize. batchSize cannot be greater than 100000.")}else o.jobOptions.batchSize=250;if(o.jobOptions.outputStreamType&&o.jobOptions.outputStreamType==="chunked"&&o.jobOptions.categories)throw new Error("categories not expected when outputStreamType is chunked.");if(o.jobOptions.consistentSnapshot&&typeof o.jobOptions.consistentSnapshot!="boolean"&&!(o.jobOptions.consistentSnapshot instanceof Boolean)&&!(o.jobOptions.consistentSnapshot instanceof Q.Timestamp))throw new Error("consistentSnapshot needs to be a boolean or DatabaseClient.Timestamp object");if(o.jobOptions.onInitialTimestamp&&o.jobOptions.consistentSnapshot!==!0)throw new Error("consistentSnapshot needs to be true when onInitialTimestamp is provided.");return o.jobOptions.output?setTimeout(()=>{ax.call(o,o.jobOptions.output.forests)},1):Xe.startRequest(a).result(Q.callbackOn(o,ax)).catch(f=>{o.duplexStream.emit("error",f),o.requesterCount=0,o.error=f,Qt(o)}),o.duplexStream}s(pm,"readAllDocumentsImpl");function ax(t){let e=0,n=this;switch(n.jobOptions.concurrentRequests.multipleOf){case"hosts":e=n.jobOptions.concurrentRequests.multiplier*new Set(t.map(r=>r.host)).size;break;default:e=n.jobOptions.concurrentRequests.multiplier*t.length;break}n.startTime=Date.now(),n.maxRequesters=e,n.requesterCount=0,n.jobOptions.consistentSnapshot&&!n.consistentSnapshotTimestamp?(n.requesterCount++,Va(n,0)):To(n,0)}s(ax,"onReadAllInit");function To(t,e){for(let n=e;n<t.maxRequesters;n++)t.requesterCount++,Va(t,n)}s(To,"spinReaderThreads");function Va(t,e){if(t.error){Qt(t);return}let n=[],r=t.jobOptions.batchSize;if(t.lastBatch=!1,t.retryCount=100,t.writableObjectMode==="array"){if(n=t.inputStream.read(),!n){Qt(t);return}}else e:for(let a=0;a<r;a++){let o=t.inputStream.read();if(o===null)switch(n.length){case 0:{Qt(t);break e}default:{t.lastBatch=!0;break e}}n.push(o)}if(n&&n.length!==0){let a={uris:n};t.jobOptions.transform&&(a.transform=t.jobOptions.transform),t.jobOptions.consistentSnapshot&&(typeof t.jobOptions.consistentSnapshot=="boolean"||t.jobOptions.consistentSnapshot instanceof Boolean?a.timestamp=t.consistentSnapshotTimestamp?t.consistentSnapshotTimestamp:new Q.Timestamp:a.timestamp=t.jobOptions.consistentSnapshot),t.jobOptions.categories&&(a.categories=t.jobOptions.categories),Zf(t,!1,a,n,e)}}s(Va,"onReadAllDocs");function Zf(t,e,n,r,a){if(t.error){Qt(t);return}let o=am.call(t.docInstance,e,[n]);t.readableObjectMode==="chunked"?o.stream("chunked").on("error",function(l){ix(t,n,r,a,e,l)}).on("data",function(l){t.jobOptions.consistentSnapshot&&!t.consistentSnapshotTimestamp&&(t.consistentSnapshotTimestamp=n.timestamp,t.jobOptions.onInitialTimestamp&&t.jobOptions.onInitialTimestamp(t.consistentSnapshotTimestamp),To(t,1)),t.outputStream.write(l)}).on("end",function(){t.jobOptions.consistentSnapshot&&!t.consistentSnapshotTimestamp&&(t.consistentSnapshotTimestamp=n.timestamp,t.jobOptions.onInitialTimestamp&&t.jobOptions.onInitialTimestamp(t.consistentSnapshotTimestamp),To(t,1)),Va(t,a)}):o.result(l=>{t.jobOptions.consistentSnapshot&&!t.consistentSnapshotTimestamp&&(t.consistentSnapshotTimestamp=n.timestamp,t.jobOptions.onInitialTimestamp&&t.jobOptions.onInitialTimestamp(t.consistentSnapshotTimestamp),To(t,1)),t.docsReadSuccessfully+=r.length,l.forEach(u=>{t.outputStream.write(u)}),t.lastBatch?Qt(t):Va(t,a)}).catch(l=>{ix(t,n,r,a,e,l)})}s(Zf,"readDocs");function ix(t,e,n,r,a,o){if(t.error){Qt(t);return}let l=o;if(t.jobOptions.onBatchError){let u={docsReadSuccessfully:t.docsReadSuccessfully,docsFailedToBeRead:n.length,timeElapsed:Date.now()-t.startTime},f=n;try{l=t.jobOptions.onBatchError(u,f,o)}catch(d){l=d}if(l instanceof Error)t.docsFailedToBeRead+=n.length,t.error=l,t.outputStream.emit("error",l),Qt(t);else if(l===null||Array.isArray(l)&&l.length===0)t.docsFailedToBeRead+=n.length,Va(t,r);else if(Array.isArray(l)){e={uris:l},Zf(t,a,e,l,r);return}else{let d=new Error("onBatchError should return null, empty array or a replacement array.");t.error=d,t.outputStream.emit("error",d),Qt(t)}}switch(t.retryCount){case 0:{t.docsFailedToBeRead+=n.length,t.error=new Error("RetryCount exceeded."),t.outputStream.emit("error",t.error),Qt(t);break}default:{t.retryCount--,Zf(t,a,e,n,r);break}}}s(ix,"readAllDocumentsErrorHandle");function Qt(t){if(t.requesterCount--,t.requesterCount===0&&(t.outputStream.end(),t.jobOptions.onCompletion)){let e={docsReadSuccessfully:t.docsReadSuccessfully,docsFailedToBeRead:t.docsFailedToBeRead,timeElapsed:Date.now()-t.startTime};if(t.error&&(e.error=t.error.toString()),t.consistentSnapshotTimestamp){let n=t.consistentSnapshotTimestamp.value.length>13?+t.consistentSnapshotTimestamp.value.substr(0,13):t.consistentSnapshotTimestamp.value;e.consistentSnapshotTimestamp=new Date(n)}t.jobOptions.onCompletion(e)}}s(Qt,"finishReader");Te.prototype.queryToReadAll=s(function(e,n){return yx.call(this,e,n)},"queryToReadAllDocuments");function yx(t,e){let n={},r={};e||(e={}),n.batchSize=e.batchSize?e.batchSize:250,n.batchSize>1?r.inputKind="array":r.batchSize=n.batchSize,e.queryBatchMultiple&&(n.queryBatchMultiple=e.queryBatchMultiple),e.consistentSnapshot&&(n.consistentSnapshot=e.consistentSnapshot),e.onInitialTimestamp&&(n.onInitialTimestamp=e.onInitialTimestamp),e.onCompletion&&(r.onCompletion=e.onCompletion),e.onBatchError&&(r.onBatchError=e.onBatchError),e.concurrentRequests&&(r.concurrentRequests=e.concurrentRequests),e.categories&&(r.categories=e.categories),e.transform&&(r.transform=e.transform),e.outputStreamType&&(r.outputStreamType=e.outputStreamType),n.queryToOptions=r;let a=this,o=Ha.call(a,t,n),l=new dn.PassThrough({objectMode:!0}),u=!1;return o.on("error",function(f){l.emit(f)}),o.on("data",function(f){if(!u){u=!0;let d=pm.call(a,null,r);d.on("error",function(g){l.emit(g)}),d.write(f),o.pipe(d).pipe(l)}}),o.on("end",function(f){u||l.end()}),l}s(yx,"queryToReadAllDocumentsImpl");function lO(t,e){var n=[],r=Array.isArray(t)?t.length:0,a=null,o=0,l=null,u=null,f=null,d=0,g=null;if(r>0){for(g={},o=0;o<r;o++){for(a=t[o],g[a.name]=!0,l={},u=Object.keys(a),d=0;d<u.length;d++)f=u[d],f==="name"?l.ref=a.name:l[f]=a[f];n.push(l)}l=null}var v=null;if(Array.isArray(e)){for(v={collection:!0,"geo-attr-pair":!0,"geo-elem":!0,"geo-elem-pair":!0,"geo-json-property-pair":!0,"geo-path":!0,range:!0,value:!0,word:!0,"word-lexicon":!0},o=0;o<e.length;o++)if(a=e[o],!(g!==null&&g[a.name]===!0)){for(u=Object.keys(a),d=0;d<u.length;d++)f=u[d],v[f]===!0?(l===null&&(l={}),l[f]=a[f]):f==="name"&&(l===null&&(l={}),l.ref=a.name);l!==null&&(n.push(l),l=null)}}return n}s(lO,"copyConstraints");Te.prototype.transformAll=s(function(e,n){return fm.call(this,e,n)},"transformAllDocuments");function fm(t,e){let r=Q.newRequestOptions(this.client.getConnectionParams(),"/v1/internal/forestinfo","GET");r.headers={Accept:"application/json"};let a=new De("read forestInfo",this.client,r,"empty","single"),o={docInstance:this,requesterCount:0,docsTransformedSuccessfully:0,docsFailedToBeTransformed:0,jobOptions:e?Q.copyProperties(e):{}};if(o.stream=t||new dn.PassThrough({objectMode:!0}),!o.jobOptions.transform)throw new Error("transform name needed while using transformAll api");if(o.jobOptions.inputKind){let l=o.jobOptions.inputKind.toString().toLowerCase();if(!new Set(["string","array"]).has(l))throw new Error("Invalid value for inputKind. Value must be array or string.");if(l==="array"&&o.jobOptions.batchSize)throw new Error("batchSize not expected when inputKind is array.");o.inputKindValue=l}else o.inputKindValue="string";if(o.jobOptions.concurrentRequests){let l=o.jobOptions.concurrentRequests;if(l.multipleOf){if(!new Set(["forests","hosts"]).has(String(l.multipleOf)))throw new Error("Invalid value for multipleOf. Value must be forests or hosts.")}else l.multipleOf="forests";if(l.multiplier&&l.multiplier<=0)throw new Error("concurrentRequests.multiplier cannot be less than one");l.multiplier=8,o.jobOptions.concurrentRequests=l}else o.jobOptions.concurrentRequests={multipleOf:"forests",multiplier:8};if(o.jobOptions.batchSize){if(o.jobOptions.batchSize<=0)throw new Error("Invalid batchSize. batchSize cannot be less than or equal to 0.");if(o.jobOptions.batchSize>1e5)throw new Error("Invalid batchSize. batchSize cannot be greater than 100000.")}else o.jobOptions.batchSize=100;if(o.jobOptions.transformStrategy){if(o.jobOptions.transformStrategy=String(o.jobOptions.transformStrategy).toLowerCase(),!new Set(["replace","ignore"]).has(o.jobOptions.transformStrategy))throw new Error("Invalid value for transformStrategy. Value must be replace or ignore.")}else o.jobOptions.transformStrategy="replace";return Xe.startRequest(a).result(Q.callbackOn(o,cO)).catch(l=>{o.stream.emit("error",l),o.requesterCount=0,o.error=l,fn(o)}),o.stream}s(fm,"transformAllDocumentsImpl");function cO(t){let e=this,n="/v1/internal/apply-transform?result="+encodeURIComponent(e.jobOptions.transformStrategy)+"&transform="+e.jobOptions.transform[0];if(e.jobOptions.transform.length>1){let o=e.jobOptions.transform[1];for(let l of Object.keys(o)){let u=o[l];n+="&"+encodeURIComponent("trans:"+l)+"="+encodeURIComponent(u)}}e.endpoint=n;let r=Q.newRequestOptions(e.docInstance.client.getConnectionParams(),e.endpoint,"POST");r.headers={Accept:"text/uri-list","Content-Type":"text/uri-list"},e.requestOptions=r;let a=0;e.jobOptions.concurrentRequests.multipleOf==="forests"?a=e.jobOptions.concurrentRequests.multiplier*t.length:a=e.jobOptions.concurrentRequests.multiplier*new Set(t.map(o=>o.host)).size,e.requesterCount=0,e.startTime=Date.now();for(let o=0;o<a;o++)e.requesterCount++,em(e,o)}s(cO,"onTransformAllInit");function em(t,e){if(t.error){fn(t);return}let n=[],r=t.jobOptions.batchSize;if(t.lastBatch=!1,t.retryCount=2,t.inputKindValue==="array"){if(n=t.stream.read(),!n){fn(t);return}}else e:for(let a=0;a<r;a++){let o=t.stream.read();if(o===null)switch(n.length){case 0:{fn(t);return}default:{t.lastBatch=!0;break e}}n.push(o)}n.length!==0&&tm(t,n,e)}s(em,"onTransformAllDocs");function tm(t,e,n){let r=new De("transform docs",t.docInstance.client,t.requestOptions,"single","single");r.validStatusCodes=[200,201],r.requestBody=e.join(`
`),Xe.startRequest(r).result(a=>{if(!a||a instanceof Error)throw new Error("Invalid Request");if(t.docsTransformedSuccessfully+=e.length,t.jobOptions.onBatchSuccess){let o={docsTransformedSuccessfully:t.docsTransformedSuccessfully,docsFailedToBeTransformed:t.docsFailedToBeTransformed,timeElapsed:Date.now()-t.startTime},l=e;t.jobOptions.onBatchSuccess(o,l)}t.lastBatch?(t.timeElapsed=Date.now()-t.startTime,fn(t)):em(t,n)}).catch(a=>{if(t.error){fn(t);return}let o=a;if(t.jobOptions.onBatchError){let l={docsTransformedSuccessfully:t.docsTransformedSuccessfully,docsFailedToBeTransformed:e.length,timeElapsed:Date.now()-t.startTime};try{o=t.jobOptions.onBatchError(l,e,a)}catch(u){o=u}}if(o instanceof Error){t.docsFailedToBeTransformed+=e.length,t.error=o,t.stream.emit("error",o),fn(t);return}else if(o===null||Array.isArray(o)&&o.length===0){t.docsFailedToBeTransformed+=e.length,em(t,n);return}else if(Array.isArray(o)){tm(t,o,n);return}else{let l=new Error("onBatchError should return null, empty array or a replacement array.");t.error=l,t.stream.emit("error",l),fn(t)}switch(t.retryCount){case 2:case 1:{t.retryCount--,e=o,tm(t,e,n);break}default:t.docsFailedToBeTransformed+=e.length,t.error=a,t.stream.emit("error",a),t.requesterCount=0,fn(t)}})}s(tm,"transformDocs");function fn(t){if(t.requesterCount--,t.requesterCount<=0&&t.jobOptions.onCompletion){let e={docsTransformedSuccessfully:t.docsTransformedSuccessfully,docsFailedToBeTransformed:t.docsFailedToBeTransformed,timeElapsed:Date.now()-t.startTime};t.error&&(e.error=t.error.toString()),t.jobOptions.onCompletion(e)}}s(fn,"finishTransformAll");Te.prototype.queryToTransformAll=s(function(e,n){return vx.call(this,e,n)},"queryToTransformAllDocuments");function vx(t,e){let n={},r={};e||(e={}),n.batchSize=e.batchSize?e.batchSize:250,n.batchSize>1?r.inputKind="array":r.batchSize=n.batchSize,e.queryBatchMultiple&&(n.queryBatchMultiple=e.queryBatchMultiple),e.consistentSnapshot&&(n.consistentSnapshot=e.consistentSnapshot),e.onInitialTimestamp&&(n.onInitialTimestamp=e.onInitialTimestamp),e.onCompletion&&(r.onCompletion=e.onCompletion),e.onBatchError&&(r.onBatchError=e.onBatchError),e.concurrentRequests&&(r.concurrentRequests=e.concurrentRequests),e.transform&&(r.transform=e.transform),e.transformStrategy&&(r.transformStrategy=e.transformStrategy),e.onBatchSuccess&&(r.onBatchSuccess=e.onBatchSuccess),n.queryToOptions=r;let a=this,o=Ha.call(a,t,n),l=!1;o.on("data",function(u){if(!l){l=!0;let f=fm.call(a,null,r);o.on("error",function(d){f.emit(d)}),f.write(u),o.pipe(f)}})}s(vx,"queryToTransformAllDocumentsImpl");Te.prototype.removeAllUris=s(function(e,n){return mm.call(this,e,n)},"removeAllUrisDocuments");function mm(t,e){let r=Q.newRequestOptions(this.client.getConnectionParams(),"/v1/internal/forestinfo","GET");r.headers={Accept:"application/json"};let a=new De("read forestInfo",this.client,r,"empty","single"),o={docInstance:this,requesterCount:0,docsRemovedSuccessfully:0,docsFailedToBeRemoved:0,jobOptions:e?Q.copyProperties(e):{}};if(o.stream=t||new dn.PassThrough({objectMode:!0}),o.jobOptions.inputKind){let l=o.jobOptions.inputKind.toString().toLowerCase();if(!new Set(["string","array"]).has(l))throw new Error("Invalid value for inputKind. Value must be array or string.");if(l==="array"&&o.jobOptions.batchSize)throw new Error("batchSize not expected when inputKind is array.");o.inputKindValue=l}else o.inputKindValue="string";if(o.jobOptions.concurrentRequests){let l=o.jobOptions.concurrentRequests;if(l.multipleOf){if(!new Set(["forests","hosts"]).has(String(l.multipleOf)))throw new Error("Invalid value for multipleOf. Value must be forests or hosts.")}else l.multipleOf="forests";if(l.multiplier&&l.multiplier<=0)throw new Error("concurrentRequests.multiplier cannot be less than one");l.multiplier=8,o.jobOptions.concurrentRequests=l}else o.jobOptions.concurrentRequests={multipleOf:"forests",multiplier:8};if(o.jobOptions.batchSize){if(o.jobOptions.batchSize<=0)throw new Error("Invalid batchSize. batchSize cannot be less than or equal to 0.");if(o.jobOptions.batchSize>1e5)throw new Error("Invalid batchSize. batchSize cannot be greater than 100000.")}else o.jobOptions.batchSize=250;return Xe.startRequest(a).result(Q.callbackOn(o,uO)).catch(l=>{o.stream.emit("error",l),o.requesterCount=0,o.error=l,mn(o)}),o.stream}s(mm,"removeAllUrisDocumentsImpl");function uO(t){let e=this,n=0;e.jobOptions.concurrentRequests.multipleOf==="forests"?n=e.jobOptions.concurrentRequests.multiplier*t.length:n=e.jobOptions.concurrentRequests.multiplier*new Set(t.map(r=>r.host)).size,e.requesterCount=0,e.startTime=Date.now();for(let r=0;r<n;r++)e.requesterCount++,nm(e,r)}s(uO,"onRemoveAllUrisInit");function nm(t,e){if(t.error){mn(t);return}let n=[],r=t.jobOptions.batchSize;if(t.lastBatch=!1,t.retryCount=2,t.inputKindValue==="array"){if(n=t.stream.read(),!n){mn(t);return}}else e:for(let a=0;a<r;a++){let o=t.stream.read();if(o===null)switch(n.length){case 0:{mn(t);return}default:{t.lastBatch=!0;break e}}n.push(o)}n.length!==0&&rm(t,n,e)}s(nm,"onRemoveAllUrisDocs");function mn(t){if(t.requesterCount--,t.requesterCount<=0&&t.jobOptions.onCompletion){let e={docsRemovedSuccessfully:t.docsRemovedSuccessfully,docsFailedToBeRemoved:t.docsFailedToBeRemoved,timeElapsed:Date.now()-t.startTime};t.error&&(e.error=t.error.toString()),t.jobOptions.onCompletion(e)}}s(mn,"finishRemoveAllUris");function rm(t,e,n){let r={uris:e};cm.call(t.docInstance,!1,[r]).result(a=>{if(t.docsRemovedSuccessfully+=e.length,t.jobOptions.onBatchSuccess){let o={docsRemovedSuccessfully:t.docsRemovedSuccessfully,docsFailedToBeRemoved:t.docsFailedToBeRemoved,timeElapsed:Date.now()-t.startTime},l=e;t.jobOptions.onBatchSuccess(o,l)}t.lastBatch?(t.timeElapsed=Date.now()-t.startTime,mn(t)):nm(t,n)}).catch(a=>{if(t.error){mn(t);return}let o=a;if(t.jobOptions.onBatchError){let l={docsRemovedSuccessfully:t.docsRemovedSuccessfully,docsFailedToBeRemoved:e.length,timeElapsed:Date.now()-t.startTime},u=e;try{o=t.jobOptions.onBatchError(l,u,a)}catch(f){o=f}}if(o instanceof Error){t.docsFailedToBeRemoved+=e.length,t.error=o,t.stream.emit("error",o),mn(t);return}else if(o===null||Array.isArray(o)&&o.length===0)t.docsFailedToBeRemoved+=e.length,nm(t,n);else if(Array.isArray(o)){rm(t,o,n);return}else{let l=new Error("onBatchError should return null, empty array or a replacement array.");t.docsFailedToBeRemoved+=e.length,t.error=l,t.stream.emit("error",l),mn(t)}switch(t.retryCount){case 2:case 1:{t.retryCount--,rm(t,e,n);break}default:t.docsFailedToBeRemoved+=e.length,t.error=a,t.stream.emit("error",a),t.requesterCount=0,mn(t)}})}s(rm,"removeDocs");Te.prototype.queryToRemoveAll=s(function(e,n){return wx.call(this,e,n)},"queryToRemoveAllDocuments");function wx(t,e){let n={},r={};e||(e={}),n.batchSize=e.batchSize?e.batchSize:250,n.batchSize>1?r.inputKind="array":r.batchSize=n.batchSize,e.queryBatchMultiple&&(n.queryBatchMultiple=e.queryBatchMultiple),e.consistentSnapshot&&(n.consistentSnapshot=e.consistentSnapshot),e.onInitialTimestamp&&(n.onInitialTimestamp=e.onInitialTimestamp),e.onCompletion&&(r.onCompletion=e.onCompletion),e.onBatchError&&(r.onBatchError=e.onBatchError),e.concurrentRequests&&(r.concurrentRequests=e.concurrentRequests),e.onBatchSuccess&&(r.onBatchSuccess=e.onBatchSuccess),n.queryToOptions=r;let a=this,o=Ha.call(a,t,n),l=!1;o.on("data",function(u){if(!l){l=!0;let f=mm.call(a,null,r);o.on("error",function(d){f.emit(d)}),f.write(u),o.pipe(f)}})}s(wx,"queryToRemoveAllDocumentsImpl");function pO(t){return new Te(t)}s(pO,"createDocuments");xx.exports={create:pO,probeImpl:lx,queryImpl:dx,readImpl:am,removeImpl:cm,removeCollectionImpl:mx,writeImpl:im,writeAll:gx,queryAll:Ha,readAll:pm,queryToReadAll:yx,transformAll:fm,queryToTransformAll:vx,removeAllUris:mm,queryToRemoveAll:wx}});var qx=D((sB,Tx)=>{"use strict";var Yr=et(),ce=Oe(),Zr=st(),dm=Hr(),ce=Oe();function Ya(t){var e=this;switch(e.graphType){case"default":return t+" (on default graph)";case"inline":return t+" (on inline graphs)";case"managed":return t+" (on managed graphs)"}var n=e.uri;return typeof n=="string"||n instanceof String?t+" (on graph "+n+")":t}s(Ya,"uriErrorTransform");function fO(t,e){var n=this,r=n.responseStatusCode,a=r===200,o=a?n.responseHeaders:{};return o.exists=a,Ax.call(n,e,o)}s(fO,"checkOutputTransform");function gm(t,e){return Ax.call(this,e,{})}s(gm,"emptyOutputTransform");function Ax(t,e){var n=this,r=n.graphType;switch(r){case"named":e.defaultGraph=!1,e.graph=n.uri;break;case"default":e.defaultGraph=!0,e.graph=null;break;case"inline":e.defaultGraph=!1,e.graph=null;break;case"managed":e.defaultGraph=!1,e.graph=null;break}return e.graphType=r,e}s(Ax,"identifyOutput");function mO(t,e){var n=this;return e==null?e:n.contentType==null?e.split(/\s+/).filter(s(function(a){return a!==""},"collectionListFilter")):e}s(mO,"listOutputTransform");function lt(t){if(!(this instanceof lt))return new lt(t);this.client=t}s(lt,"Graphs");lt.prototype.read=s(function(){var e=ce.asArray.apply(null,arguments),n=e.length;if(n===0)throw new Error("must specify the content type when reading a graph");var r=null,a=null,o=null,l=null,u=null,f=e[0];if(typeof f=="string"||f instanceof String)n>1?(a=f,r=e[1]):r=f;else{var d=f;if(r=d.contentType,a=d.uri,o=d.category,l=ce.convertTransaction(d.txid),u=d.timestamp,r==null)throw new Error("named parameters must specify the content type when reading a graph")}var g=a==null?"/v1/graphs?default":"/v1/graphs?graph="+encodeURIComponent(a);if(o!=null)if(typeof o=="string"||o instanceof String)g+="&category="+o;else throw new Error("the category parameter can only be a string when reading a graph");l!=null&&(g+="&txid="+ce.getTxidParam(l)),u!=null&&u.value!==null&&(g+="&timestamp="+u.value);let v=ce.newRequestOptions(this.client.getConnectionParams(),g,"GET");v.headers={Accept:r};var w=new Zr("read graph",this.client,v,"empty","single");return a===null?w.graphType="default":(w.graphType="named",w.uri=a),w.errorTransform=Ya,w.timestamp=u!==null?u:null,Yr.startRequest(w)},"readGraph");lt.prototype.write=s(function(){return Oo.call(this,"write",!1,ce.asArray.apply(null,arguments))},"writeGraph");lt.prototype.merge=s(function(){return Oo.call(this,"merge",!1,ce.asArray.apply(null,arguments))},"mergeGraph");lt.prototype.createWriteStream=s(function(){return Oo.call(this,"write",!0,ce.asArray.apply(null,arguments))},"createGraphWriteStream");lt.prototype.createMergeStream=s(function(){return Oo.call(this,"merge",!0,ce.asArray.apply(null,arguments))},"createGraphMergeStream");function Oo(t,e,n){var r=n.length;if(r===0)throw new Error(e?"must specify content type for "+t:"must specify content type and data for "+t);var a=null,o=null,l=!1,u=null,f=null,d=null;if(r>1||typeof n[0]=="string"||n[0]instanceof String)for(var g=null,v=r-1;v>=0;v--){if(g=n[v],typeof g=="boolean"){l=g;continue}if(!e&&f===null){f=g;continue}if(typeof g=="string"||g instanceof String){if(o===null){o=g;continue}if(a===null){a=g;continue}}throw new Error("unknown positional parameter for graphs write: "+g)}else{var w=n[0];o=w.contentType,a=w.uri,l=w.repair||!1,u=w.permissions,f=w.data,d=ce.convertTransaction(w.txid);var b=o==null;if(e){if(b)throw new Error("named parameters must specify the content type for "+t)}else if(b||f==null)throw new Error("named parameters must specify the content type and data for "+t)}var S=null;a==null?S="default":a instanceof No?S="inline":S="named";var E="?",q=null;switch(S){case"named":q="/v1/graphs?graph="+encodeURIComponent(a),E="&";break;case"default":q="/v1/graphs?default",E="&";break;case"inline":q="/v1/graphs";break}l===!0&&(q+=E+"repair=true",E==="?"&&(E="&")),d!=null&&(q+=E+"txid="+ce.getTxidParam(d),E==="?"&&(E="&"));var P=kx(u,E);P!==null&&(q+=P,E==="?"&&(E="&"));let R=ce.newRequestOptions(this.client.getConnectionParams(),q,t==="write"?"PUT":"POST");R.headers={"Content-Type":o};var O=new Zr(t+" graph",this.client,R,e?"chunked":"single","empty");return O.graphType=S,S==="named"&&(O.uri=a),e?O.isReplayable=!1:O.requestBody=f,O.outputTransform=gm,O.errorTransform=Ya,Yr.startRequest(O)}s(Oo,"changeGraph");lt.prototype.remove=s(function(){var e=ce.asArray.apply(null,arguments);return Sx.call(this,"remove",e)},"removeGraph");lt.prototype.probe=s(function(){var e=ce.asArray.apply(null,arguments);return Sx.call(this,"probe",e)},"probeGraph");function Sx(t,e){var n=null,r=null;switch(e.length){case 0:break;case 1:typeof e[0]=="string"||e[0]instanceof String?n=e[0]:e[0]instanceof ce.Transaction?r=ce.convertTransaction(e[0]):(n=e[0].uri,r=ce.convertTransaction(e[0].txid));break;default:n=e[0],r=ce.convertTransaction(e[1]);break}var a=null,o=null,l=null;if(n==null)a="/v1/graphs?default",o="default",l="&";else if(n instanceof Po){if(t!=="remove")throw new Error("can only specify all managed triples for remove(), not "+t);a="/v1/graphs",o="managed",l="?"}else o="named",a="/v1/graphs?graph="+encodeURIComponent(n),l="&";r!=null&&(a+=l+"txid="+ce.getTxidParam(r),l==="?"&&(l="&"));let u=ce.newRequestOptions(this.client.getConnectionParams(),a,t==="remove"?"DELETE":"HEAD");var f=new Zr(t+" graph",this.client,u,"empty","empty");return f.graphType=o,o==="named"&&(f.uri=n),t==="remove"?f.outputTransform=gm:(f.validStatusCodes=[200,404],f.outputTransform=fO),f.errorTransform=Ya,Yr.startRequest(f)}s(Sx,"applyGraph");lt.prototype.list=s(function(){var e=arguments.length,n=null,r=null,a=null;if(e>0)for(var o=null,l=e-1;l>=0;l--){if(o=arguments[l],typeof o=="string"||o instanceof String){n=o;continue}if(o instanceof ce.Transaction){r=ce.convertTransaction(o);continue}if(o instanceof ce.Timestamp){a=o;continue}if(o!==null&&typeof o=="object"){n=o.contentType,r=ce.convertTransaction(o.txid),a=o.timestamp;continue}throw new Error("unknown parameter: "+o)}var u=n==null,f="/v1/graphs",d="?";r!=null&&(f+=d+"txid="+ce.getTxidParam(r),d==="?"&&(d="&")),a!=null&&a.value!==null&&(f+=d+"timestamp="+a.value,d==="?"&&(d="&"));let g=ce.newRequestOptions(this.client.getConnectionParams(),f,"GET");u||(g.headers={Accept:n});var v=new Zr("list graphs",this.client,g,"empty","single");return u||(v.contentType=n),v.outputTransform=mO,v.timestamp=a!==null?a:null,Yr.startRequest(v)},"listGraphs");lt.prototype.sparql=s(function(){var e=ce.asArray.apply(null,arguments),n=e.length;if(n===0)throw new Error("must specify content type and query for SPARQL query on graphs");var r=null,a=null,o=null,l=null,u=null,f=null,d=null,g=null,v=null,w=null,b=null,S=null,E=null,q=null;if(n===1){var P=e[0];if(o=P.contentType,r=P.defaultGraphs,a=P.namedGraphs,l=P.query,u=P.docQuery,f=P.begin,d=P.end,v=P.txid,g=P.base,w=P.rulesets,b=P.defaultRulesets,S=P.optimizeLevel,E=P.bindings,q=P.timestamp,o==null||l==null)throw new Error("named parameters must specify content type and query for SPARQL query on graphs")}else o=e[0],n>=3&&(r=Array.prototype.slice.call(arguments,1,n-1)),l=e[n-1];var R="/v1/graphs/sparql",O="?",M=r!=null;M&&(r=ce.asArray(r),r.length>0?(R+=O+Ja("default-graph-uri",r),O="&"):M=!1);var j=a!=null;j&&(a=ce.asArray(a),a.length>0?(R+=O+Ja("named-graph-uri",a),O==="?"&&(O="&")):j=!1);var U=f!=null;if(U)if(f>=0)R+=O+"start="+(f+1),O==="?"&&(O="&");else throw new Error("begin parameter must be >= 0: "+f);if(d!=null)if(d>=1)R+=O+"pageLength="+(U?d-f:d),O==="?"&&(O="&");else throw new Error("end parameter must be >= 1: "+d);q!=null&&q.value!==null&&(R+=O+"timestamp="+q.value,O==="?"&&(O="&"));var G=Ex(g,v,w,b,S,E,O);G!==null&&(R+=G,O==="?"&&(O="&"));var k=null,Y=null;if(u==null)k="application/sparql-query",Y=l;else{k="application/json";var K=u instanceof dm.lib.QueryBuilder||u.search!==void 0?u:dm.builder.where(u);if(K.queryType==="qbe")throw new Error("cannot qualify a SPARQL query with a Query By Example");Y=dm.lib.makeSearchBody(K).searchBody,Y.search.sparql=l}let H=ce.newRequestOptions(this.client.getConnectionParams(),R,"POST");H.headers={"Content-Type":k,Accept:o};var pe=new Zr("SPARQL graph query",this.client,H,"single","single");return M&&(pe.defaultGraphs=r),j&&(pe.namedGraphs=a),pe.requestBody=Y,pe.errorTransform=Ya,pe.timestamp=q!==null?q:null,Yr.startRequest(pe)},"queryGraphSPARQL");lt.prototype.sparqlUpdate=s(function(){var e=ce.asArray.apply(null,arguments),n=e.length;if(n===0)throw new Error("must specify data for SPARQL update on graphs");var r=null,a=null,o=null,l=null,u=null,f=null,d=null,g=null,v=null,w=e[0],b=n===1?w.data:null;b!=null?(r=w.permissions,a=w.usingDefaultGraphs,o=w.usingNamedGraphs,l=w.base,u=w.txid,f=w.rulesets,d=w.defaultRulesets,g=w.optimizeLevel,v=w.bindings):b=e[0];var S="/v1/graphs/sparql",E="?",q=a!=null;q&&(a=ce.asArray(a),a.length>0?(S+=E+Ja("using-graph-uri",a),E="&"):q=!1);var P=o!=null;P&&(o=ce.asArray(o),o.length>0?(S+=E+Ja("using-named-graph-uri",o),E==="?"&&(E="&")):P=!1);var R=kx(r,E);R!==null&&(S+=R,E==="?"&&(E="&"));var O=Ex(l,u,f,d,g,v,E);O!==null&&(S+=O,E==="?"&&(E="&"));let M=ce.newRequestOptions(this.client.getConnectionParams(),S,"POST");M.headers={"Content-Type":"application/sparql-update"};var j=new Zr("SPARQL graph update",this.client,M,"single","empty");return j.requestBody=b,j.outputTransform=gm,j.graphType=a===!0?"default":o===!0?"named":"inline",j.errorTransform=Ya,Yr.startRequest(j)},"updateGraphSPARQL");function kx(t,e){if(t==null)return null;for(var n="",r=t.length,a=null,o=null,l=null,u=0,f=0,d=0;d<r;d++)for(a=t[d],o=a["role-name"],l=a.capabilities,u=l.length,f=0;f<u;f++)n+=e+"perm:"+o+"="+l[f],e==="?"&&(e="&");return n===""?null:n}s(kx,"makePermissionsParams");function Ex(t,e,n,r,a,o,l){var u="",f=ce.convertTransaction(e);return t!=null&&(u+=l+"base="+encodeURIComponent(t),l==="?"&&(l="&")),f!=null&&(u+=l+"txid="+ce.getTxidParam(f),l==="?"&&(l="&")),n!=null&&(u+=l+Ja("ruleset",n),l==="?"&&(l="&")),r!=null&&(u+=l+"default-rulesets="+r,l==="?"&&(l="&")),a!=null&&(u+=l+"optimize="+a,l==="?"&&(l="&")),o!=null&&(u+=ce.makeBindingsParams(o,l)),u===""?null:u}s(Ex,"makeCommonSPARQLParams");function Ja(t,e){if(Array.isArray(e)){for(var n=null,r=e.length,a=0;a<r;a++)a===0?n=encodeURIComponent(t)+"="+encodeURIComponent(e[a]):n+="&"+encodeURIComponent(t)+"="+encodeURIComponent(e[a]);return n}else return encodeURIComponent(t)+"="+encodeURIComponent(e)}s(Ja,"encodeParamValues");lt.prototype.inlineGraphUris=s(function(){return new No},"inlineGraphUris");function No(){if(!(this instanceof No))return new No}s(No,"InlineGraphUrisDef");lt.prototype.allManagedTriples=s(function(){return new Po},"allManagedTriples");function Po(){if(!(this instanceof Po))return new Po}s(Po,"AllManagedTriplesDef");Tx.exports=lt});var Td=D((lB,Nx)=>{"use strict";var i=La(),c=Ma(),hm=[],_m=class _m{constructor(){}afterQuery(...e){let n=["timestamp",[i.XsUnsignedLong],!0,!1],r=c.makeSingleArgs("cts.afterQuery",1,n,e);return new i.CtsQuery("cts","after-query",r)}andNotQuery(...e){let n=c.getNamer(e,"positive-query"),r=[["positive-query",[i.CtsQuery],!0,!1],["negative-query",[i.CtsQuery],!0,!1]],a=n!==null?c.makeNamedArgs(n,"cts.andNotQuery",2,new Set(["positive-query","negative-query"]),r,e):c.makePositionalArgs("cts.andNotQuery",2,!1,r,e);return new i.CtsQuery("cts","and-not-query",a)}andQuery(...e){let n=c.getNamer(e,"queries"),r=[["queries",[i.CtsQuery],!1,!0],["options",[i.XsString],!1,!0]],a=n!==null?c.makeNamedArgs(n,"cts.andQuery",1,new Set(["queries","options"]),r,e):c.makePositionalArgs("cts.andQuery",1,!1,r,e);return new i.CtsQuery("cts","and-query",a)}beforeQuery(...e){let n=["timestamp",[i.XsUnsignedLong],!0,!1],r=c.makeSingleArgs("cts.beforeQuery",1,n,e);return new i.CtsQuery("cts","before-query",r)}boostQuery(...e){let n=c.getNamer(e,"matching-query"),r=[["matching-query",[i.CtsQuery],!0,!1],["boosting-query",[i.CtsQuery],!0,!1]],a=n!==null?c.makeNamedArgs(n,"cts.boostQuery",2,new Set(["matching-query","boosting-query"]),r,e):c.makePositionalArgs("cts.boostQuery",2,!1,r,e);return new i.CtsQuery("cts","boost-query",a)}box(...e){let n=c.getNamer(e,"south"),r=[["south",[i.XsDouble,p,m],!0,!1],["west",[i.XsDouble,p,m],!0,!1],["north",[i.XsDouble,p,m],!0,!1],["east",[i.XsDouble,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"cts.box",4,new Set(["south","west","north","east"]),r,e):c.makePositionalArgs("cts.box",4,!1,r,e);return new i.CtsBox("cts","box",a)}boxEast(...e){let n=["box",[i.CtsBox,p,m],!0,!1],r=c.makeSingleArgs("cts.boxEast",1,n,e);return new i.XsNumeric("cts","box-east",r)}boxNorth(...e){let n=["box",[i.CtsBox,p,m],!0,!1],r=c.makeSingleArgs("cts.boxNorth",1,n,e);return new i.XsNumeric("cts","box-north",r)}boxSouth(...e){let n=["box",[i.CtsBox,p,m],!0,!1],r=c.makeSingleArgs("cts.boxSouth",1,n,e);return new i.XsNumeric("cts","box-south",r)}boxWest(...e){let n=["box",[i.CtsBox,p,m],!0,!1],r=c.makeSingleArgs("cts.boxWest",1,n,e);return new i.XsNumeric("cts","box-west",r)}circle(...e){let n=c.getNamer(e,"radius"),r=[["radius",[i.XsDouble,p,m],!0,!1],["center",[i.CtsPoint,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"cts.circle",2,new Set(["radius","center"]),r,e):c.makePositionalArgs("cts.circle",2,!1,r,e);return new i.CtsCircle("cts","circle",a)}circleCenter(...e){let n=["circle",[i.CtsCircle,p,m],!0,!1],r=c.makeSingleArgs("cts.circleCenter",1,n,e);return new i.CtsPoint("cts","circle-center",r)}circleRadius(...e){let n=["circle",[i.CtsCircle,p,m],!0,!1],r=c.makeSingleArgs("cts.circleRadius",1,n,e);return new i.XsNumeric("cts","circle-radius",r)}collectionQuery(...e){let n=["uris",[i.XsString],!1,!0],r=c.makeSingleArgs("cts.collectionQuery",1,n,e);return new i.CtsQuery("cts","collection-query",r)}collectionReference(...e){let n=["options",[i.XsString],!1,!0],r=c.makeSingleArgs("cts.collectionReference",0,n,e);return new i.CtsReference("cts","collection-reference",r)}columnRangeQuery(...e){let n=c.getNamer(e,"schema"),r=[["schema",[i.XsString],!0,!1],["view",[i.XsString],!0,!1],["column",[i.XsString],!0,!1],["value",[i.XsAnyAtomicType],!1,!0],["operator",[i.XsString],!1,!1],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.columnRangeQuery",4,new Set(["schema","view","column","value","operator","options","weight"]),r,e):c.makePositionalArgs("cts.columnRangeQuery",4,!1,r,e);return new i.CtsQuery("cts","column-range-query",a)}complexPolygon(...e){let n=c.getNamer(e,"outer"),r=[["outer",[i.CtsPolygon,p,m],!0,!1],["inner",[i.CtsPolygon,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"cts.complexPolygon",2,new Set(["outer","inner"]),r,e):c.makePositionalArgs("cts.complexPolygon",2,!1,r,e);return new i.CtsComplexPolygon("cts","complex-polygon",a)}directoryQuery(...e){let n=c.getNamer(e,"uris"),r=[["uris",[i.XsString],!1,!0],["depth",[i.XsString],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.directoryQuery",1,new Set(["uris","depth"]),r,e):c.makePositionalArgs("cts.directoryQuery",1,!1,r,e);return new i.CtsQuery("cts","directory-query",a)}documentFormatQuery(...e){let n=["format",[i.XsString],!0,!1],r=c.makeSingleArgs("cts.documentFormatQuery",1,n,e);return new i.CtsQuery("cts","document-format-query",r)}documentFragmentQuery(...e){let n=["query",[i.CtsQuery],!0,!1],r=c.makeSingleArgs("cts.documentFragmentQuery",1,n,e);return new i.CtsQuery("cts","document-fragment-query",r)}documentPermissionQuery(...e){let n=c.getNamer(e,"role"),r=[["role",[i.XsString],!0,!1],["capability",[i.XsString],!0,!1]],a=n!==null?c.makeNamedArgs(n,"cts.documentPermissionQuery",2,new Set(["role","capability"]),r,e):c.makePositionalArgs("cts.documentPermissionQuery",2,!1,r,e);return new i.CtsQuery("cts","document-permission-query",a)}documentQuery(...e){let n=["uris",[i.XsString],!1,!0],r=c.makeSingleArgs("cts.documentQuery",1,n,e);return new i.CtsQuery("cts","document-query",r)}documentRootQuery(...e){let n=["root",[i.XsQName],!0,!1],r=c.makeSingleArgs("cts.documentRootQuery",1,n,e);return new i.CtsQuery("cts","document-root-query",r)}elementAttributePairGeospatialQuery(...e){let n=c.getNamer(e,"element-name"),r=[["element-name",[i.XsQName],!1,!0],["latitude-name",[i.XsQName],!1,!0],["longitude-name",[i.XsQName],!1,!0],["region",[i.CtsRegion],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.elementAttributePairGeospatialQuery",4,new Set(["element-name","latitude-name","longitude-name","region","options","weight"]),r,e):c.makePositionalArgs("cts.elementAttributePairGeospatialQuery",4,!1,r,e);return new i.CtsQuery("cts","element-attribute-pair-geospatial-query",a)}elementAttributeRangeQuery(...e){let n=c.getNamer(e,"element-name"),r=[["element-name",[i.XsQName],!1,!0],["attribute-name",[i.XsQName],!1,!0],["operator",[i.XsString],!0,!1],["value",[i.XsAnyAtomicType],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.elementAttributeRangeQuery",4,new Set(["element-name","attribute-name","operator","value","options","weight"]),r,e):c.makePositionalArgs("cts.elementAttributeRangeQuery",4,!1,r,e);return new i.CtsQuery("cts","element-attribute-range-query",a)}elementAttributeReference(...e){let n=c.getNamer(e,"element"),r=[["element",[i.XsQName],!0,!1],["attribute",[i.XsQName],!0,!1],["options",[i.XsString],!1,!0]],a=n!==null?c.makeNamedArgs(n,"cts.elementAttributeReference",2,new Set(["element","attribute","options"]),r,e):c.makePositionalArgs("cts.elementAttributeReference",2,!1,r,e);return new i.CtsReference("cts","element-attribute-reference",a)}elementAttributeValueQuery(...e){let n=c.getNamer(e,"element-name"),r=[["element-name",[i.XsQName],!1,!0],["attribute-name",[i.XsQName],!1,!0],["text",[i.XsString],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.elementAttributeValueQuery",3,new Set(["element-name","attribute-name","text","options","weight"]),r,e):c.makePositionalArgs("cts.elementAttributeValueQuery",3,!1,r,e);return new i.CtsQuery("cts","element-attribute-value-query",a)}elementAttributeWordQuery(...e){let n=c.getNamer(e,"element-name"),r=[["element-name",[i.XsQName],!1,!0],["attribute-name",[i.XsQName],!1,!0],["text",[i.XsString],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.elementAttributeWordQuery",3,new Set(["element-name","attribute-name","text","options","weight"]),r,e):c.makePositionalArgs("cts.elementAttributeWordQuery",3,!1,r,e);return new i.CtsQuery("cts","element-attribute-word-query",a)}elementChildGeospatialQuery(...e){let n=c.getNamer(e,"element-name"),r=[["element-name",[i.XsQName],!1,!0],["child-name",[i.XsQName],!1,!0],["region",[i.CtsRegion],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.elementChildGeospatialQuery",3,new Set(["element-name","child-name","region","options","weight"]),r,e):c.makePositionalArgs("cts.elementChildGeospatialQuery",3,!1,r,e);return new i.CtsQuery("cts","element-child-geospatial-query",a)}elementGeospatialQuery(...e){let n=c.getNamer(e,"element-name"),r=[["element-name",[i.XsQName],!1,!0],["region",[i.CtsRegion],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.elementGeospatialQuery",2,new Set(["element-name","region","options","weight"]),r,e):c.makePositionalArgs("cts.elementGeospatialQuery",2,!1,r,e);return new i.CtsQuery("cts","element-geospatial-query",a)}elementPairGeospatialQuery(...e){let n=c.getNamer(e,"element-name"),r=[["element-name",[i.XsQName],!1,!0],["latitude-name",[i.XsQName],!1,!0],["longitude-name",[i.XsQName],!1,!0],["region",[i.CtsRegion],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.elementPairGeospatialQuery",4,new Set(["element-name","latitude-name","longitude-name","region","options","weight"]),r,e):c.makePositionalArgs("cts.elementPairGeospatialQuery",4,!1,r,e);return new i.CtsQuery("cts","element-pair-geospatial-query",a)}elementQuery(...e){let n=c.getNamer(e,"element-name"),r=[["element-name",[i.XsQName],!1,!0],["query",[i.CtsQuery],!0,!1]],a=n!==null?c.makeNamedArgs(n,"cts.elementQuery",2,new Set(["element-name","query"]),r,e):c.makePositionalArgs("cts.elementQuery",2,!1,r,e);return new i.CtsQuery("cts","element-query",a)}elementRangeQuery(...e){let n=c.getNamer(e,"element-name"),r=[["element-name",[i.XsQName],!1,!0],["operator",[i.XsString],!0,!1],["value",[i.XsAnyAtomicType],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.elementRangeQuery",3,new Set(["element-name","operator","value","options","weight"]),r,e):c.makePositionalArgs("cts.elementRangeQuery",3,!1,r,e);return new i.CtsQuery("cts","element-range-query",a)}elementReference(...e){let n=c.getNamer(e,"element"),r=[["element",[i.XsQName],!0,!1],["options",[i.XsString],!1,!0]],a=n!==null?c.makeNamedArgs(n,"cts.elementReference",1,new Set(["element","options"]),r,e):c.makePositionalArgs("cts.elementReference",1,!1,r,e);return new i.CtsReference("cts","element-reference",a)}elementValueQuery(...e){let n=c.getNamer(e,"element-name"),r=[["element-name",[i.XsQName],!1,!0],["text",[i.XsString],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.elementValueQuery",1,new Set(["element-name","text","options","weight"]),r,e):c.makePositionalArgs("cts.elementValueQuery",1,!1,r,e);return new i.CtsQuery("cts","element-value-query",a)}elementWordQuery(...e){let n=c.getNamer(e,"element-name"),r=[["element-name",[i.XsQName],!1,!0],["text",[i.XsString],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.elementWordQuery",2,new Set(["element-name","text","options","weight"]),r,e):c.makePositionalArgs("cts.elementWordQuery",2,!1,r,e);return new i.CtsQuery("cts","element-word-query",a)}falseQuery(...e){return c.checkMaxArity("cts.falseQuery",e.length,0),new i.CtsQuery("cts","false-query",e)}fieldRangeQuery(...e){let n=c.getNamer(e,"field-name"),r=[["field-name",[i.XsString],!1,!0],["operator",[i.XsString],!0,!1],["value",[i.XsAnyAtomicType],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.fieldRangeQuery",3,new Set(["field-name","operator","value","options","weight"]),r,e):c.makePositionalArgs("cts.fieldRangeQuery",3,!1,r,e);return new i.CtsQuery("cts","field-range-query",a)}fieldReference(...e){let n=c.getNamer(e,"field"),r=[["field",[i.XsString],!0,!1],["options",[i.XsString],!1,!0]],a=n!==null?c.makeNamedArgs(n,"cts.fieldReference",1,new Set(["field","options"]),r,e):c.makePositionalArgs("cts.fieldReference",1,!1,r,e);return new i.CtsReference("cts","field-reference",a)}fieldValueQuery(...e){let n=c.getNamer(e,"field-name"),r=[["field-name",[i.XsString],!1,!0],["text",[i.XsAnyAtomicType],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.fieldValueQuery",2,new Set(["field-name","text","options","weight"]),r,e):c.makePositionalArgs("cts.fieldValueQuery",2,!1,r,e);return new i.CtsQuery("cts","field-value-query",a)}fieldWordQuery(...e){let n=c.getNamer(e,"field-name"),r=[["field-name",[i.XsString],!1,!0],["text",[i.XsString],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.fieldWordQuery",2,new Set(["field-name","text","options","weight"]),r,e):c.makePositionalArgs("cts.fieldWordQuery",2,!1,r,e);return new i.CtsQuery("cts","field-word-query",a)}geospatialPathReference(...e){let n=c.getNamer(e,"path-expression"),r=[["path-expression",[i.XsString],!0,!1],["options",[i.XsString],!1,!0],["map",[i.MapMap],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.geospatialPathReference",1,new Set(["path-expression","options","map"]),r,e):c.makePositionalArgs("cts.geospatialPathReference",1,!1,r,e);return new i.CtsReference("cts","geospatial-path-reference",a)}geospatialRegionPathReference(...e){let n=c.getNamer(e,"path-expression"),r=[["path-expression",[i.XsString],!0,!1],["options",[i.XsString],!1,!0],["namespaces",[i.MapMap],!1,!1],["geohash-precision",[i.XsInteger],!1,!1],["units",[i.XsString],!1,!0],["invalid-values",[i.XsString],!1,!0]],a=n!==null?c.makeNamedArgs(n,"cts.geospatialRegionPathReference",1,new Set(["path-expression","options","namespaces","geohash-precision","units","invalid-values"]),r,e):c.makePositionalArgs("cts.geospatialRegionPathReference",1,!1,r,e);return new i.CtsReference("cts","geospatial-region-path-reference",a)}geospatialRegionQuery(...e){let n=c.getNamer(e,"reference"),r=[["reference",[i.CtsReference],!1,!0],["operation",[i.XsString],!0,!1],["region",[i.CtsRegion],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.geospatialRegionQuery",3,new Set(["reference","operation","region","options","weight"]),r,e):c.makePositionalArgs("cts.geospatialRegionQuery",3,!1,r,e);return new i.CtsQuery("cts","geospatial-region-query",a)}iriReference(...e){return c.checkMaxArity("cts.iriReference",e.length,0),new i.CtsReference("cts","iri-reference",e)}jsonPropertyChildGeospatialQuery(...e){let n=c.getNamer(e,"property-name"),r=[["property-name",[i.XsString],!1,!0],["child-name",[i.XsString],!1,!0],["region",[i.CtsRegion],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.jsonPropertyChildGeospatialQuery",3,new Set(["property-name","child-name","region","options","weight"]),r,e):c.makePositionalArgs("cts.jsonPropertyChildGeospatialQuery",3,!1,r,e);return new i.CtsQuery("cts","json-property-child-geospatial-query",a)}jsonPropertyGeospatialQuery(...e){let n=c.getNamer(e,"property-name"),r=[["property-name",[i.XsString],!1,!0],["region",[i.CtsRegion],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.jsonPropertyGeospatialQuery",2,new Set(["property-name","region","options","weight"]),r,e):c.makePositionalArgs("cts.jsonPropertyGeospatialQuery",2,!1,r,e);return new i.CtsQuery("cts","json-property-geospatial-query",a)}jsonPropertyPairGeospatialQuery(...e){let n=c.getNamer(e,"property-name"),r=[["property-name",[i.XsString],!1,!0],["latitude-name",[i.XsString],!1,!0],["longitude-name",[i.XsString],!1,!0],["region",[i.CtsRegion],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.jsonPropertyPairGeospatialQuery",4,new Set(["property-name","latitude-name","longitude-name","region","options","weight"]),r,e):c.makePositionalArgs("cts.jsonPropertyPairGeospatialQuery",4,!1,r,e);return new i.CtsQuery("cts","json-property-pair-geospatial-query",a)}jsonPropertyRangeQuery(...e){let n=c.getNamer(e,"property-name"),r=[["property-name",[i.XsString],!1,!0],["operator",[i.XsString],!0,!1],["value",[i.XsAnyAtomicType],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.jsonPropertyRangeQuery",3,new Set(["property-name","operator","value","options","weight"]),r,e):c.makePositionalArgs("cts.jsonPropertyRangeQuery",3,!1,r,e);return new i.CtsQuery("cts","json-property-range-query",a)}jsonPropertyReference(...e){let n=c.getNamer(e,"property"),r=[["property",[i.XsString],!0,!1],["options",[i.XsString],!1,!0]],a=n!==null?c.makeNamedArgs(n,"cts.jsonPropertyReference",1,new Set(["property","options"]),r,e):c.makePositionalArgs("cts.jsonPropertyReference",1,!1,r,e);return new i.CtsReference("cts","json-property-reference",a)}jsonPropertyScopeQuery(...e){let n=c.getNamer(e,"property-name"),r=[["property-name",[i.XsString],!1,!0],["query",[i.CtsQuery],!0,!1]],a=n!==null?c.makeNamedArgs(n,"cts.jsonPropertyScopeQuery",2,new Set(["property-name","query"]),r,e):c.makePositionalArgs("cts.jsonPropertyScopeQuery",2,!1,r,e);return new i.CtsQuery("cts","json-property-scope-query",a)}jsonPropertyValueQuery(...e){let n=c.getNamer(e,"property-name"),r=[["property-name",[i.XsString],!1,!0],["value",[i.XsAnyAtomicType],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.jsonPropertyValueQuery",2,new Set(["property-name","value","options","weight"]),r,e):c.makePositionalArgs("cts.jsonPropertyValueQuery",2,!1,r,e);return new i.CtsQuery("cts","json-property-value-query",a)}jsonPropertyWordQuery(...e){let n=c.getNamer(e,"property-name"),r=[["property-name",[i.XsString],!1,!0],["text",[i.XsString],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.jsonPropertyWordQuery",2,new Set(["property-name","text","options","weight"]),r,e):c.makePositionalArgs("cts.jsonPropertyWordQuery",2,!1,r,e);return new i.CtsQuery("cts","json-property-word-query",a)}linestring(...e){let n=["vertices",[i.XsAnyAtomicType,p,m],!1,!0],r=c.makeSingleArgs("cts.linestring",1,n,e);return new i.CtsLinestring("cts","linestring",r)}locksFragmentQuery(...e){let n=["query",[i.CtsQuery],!0,!1],r=c.makeSingleArgs("cts.locksFragmentQuery",1,n,e);return new i.CtsQuery("cts","locks-fragment-query",r)}lsqtQuery(...e){let n=c.getNamer(e,"temporal-collection"),r=[["temporal-collection",[i.XsString],!0,!1],["timestamp",[i.XsDateTime],!1,!1],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.lsqtQuery",1,new Set(["temporal-collection","timestamp","options","weight"]),r,e):c.makePositionalArgs("cts.lsqtQuery",1,!1,r,e);return new i.CtsQuery("cts","lsqt-query",a)}nearQuery(...e){let n=c.getNamer(e,"queries"),r=[["queries",[i.CtsQuery],!1,!0],["distance",[i.XsDouble],!1,!1],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.nearQuery",1,new Set(["queries","distance","options","weight"]),r,e):c.makePositionalArgs("cts.nearQuery",1,!1,r,e);return new i.CtsQuery("cts","near-query",a)}notInQuery(...e){let n=c.getNamer(e,"positive-query"),r=[["positive-query",[i.CtsQuery],!0,!1],["negative-query",[i.CtsQuery],!0,!1]],a=n!==null?c.makeNamedArgs(n,"cts.notInQuery",2,new Set(["positive-query","negative-query"]),r,e):c.makePositionalArgs("cts.notInQuery",2,!1,r,e);return new i.CtsQuery("cts","not-in-query",a)}notQuery(...e){let n=["query",[i.CtsQuery],!0,!1],r=c.makeSingleArgs("cts.notQuery",1,n,e);return new i.CtsQuery("cts","not-query",r)}orQuery(...e){let n=c.getNamer(e,"queries"),r=[["queries",[i.CtsQuery],!1,!0],["options",[i.XsString],!1,!0]],a=n!==null?c.makeNamedArgs(n,"cts.orQuery",1,new Set(["queries","options"]),r,e):c.makePositionalArgs("cts.orQuery",1,!1,r,e);return new i.CtsQuery("cts","or-query",a)}partOfSpeech(...e){let n=["token",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("cts.partOfSpeech",1,n,e);return new i.XsString("cts","part-of-speech",r)}pathGeospatialQuery(...e){let n=c.getNamer(e,"path-expression"),r=[["path-expression",[i.XsString],!1,!0],["region",[i.CtsRegion],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.pathGeospatialQuery",2,new Set(["path-expression","region","options","weight"]),r,e):c.makePositionalArgs("cts.pathGeospatialQuery",2,!1,r,e);return new i.CtsQuery("cts","path-geospatial-query",a)}pathRangeQuery(...e){let n=c.getNamer(e,"path-name"),r=[["path-name",[i.XsString],!1,!0],["operator",[i.XsString],!0,!1],["value",[i.XsAnyAtomicType],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.pathRangeQuery",3,new Set(["path-name","operator","value","options","weight"]),r,e):c.makePositionalArgs("cts.pathRangeQuery",3,!1,r,e);return new i.CtsQuery("cts","path-range-query",a)}pathReference(...e){let n=c.getNamer(e,"path-expression"),r=[["path-expression",[i.XsString],!0,!1],["options",[i.XsString],!1,!0],["map",[i.MapMap],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.pathReference",1,new Set(["path-expression","options","map"]),r,e):c.makePositionalArgs("cts.pathReference",1,!1,r,e);return new i.CtsReference("cts","path-reference",a)}period(...e){let n=c.getNamer(e,"start"),r=[["start",[i.XsDateTime,p,m],!0,!1],["end",[i.XsDateTime,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"cts.period",2,new Set(["start","end"]),r,e):c.makePositionalArgs("cts.period",2,!1,r,e);return new i.CtsPeriod("cts","period",a)}periodCompareQuery(...e){let n=c.getNamer(e,"axis-1"),r=[["axis-1",[i.XsString],!0,!1],["operator",[i.XsString],!0,!1],["axis-2",[i.XsString],!0,!1],["options",[i.XsString],!1,!0]],a=n!==null?c.makeNamedArgs(n,"cts.periodCompareQuery",3,new Set(["axis-1","operator","axis-2","options"]),r,e):c.makePositionalArgs("cts.periodCompareQuery",3,!1,r,e);return new i.CtsQuery("cts","period-compare-query",a)}periodRangeQuery(...e){let n=c.getNamer(e,"axis"),r=[["axis",[i.XsString],!1,!0],["operator",[i.XsString],!0,!1],["period",[i.CtsPeriod],!1,!0],["options",[i.XsString],!1,!0]],a=n!==null?c.makeNamedArgs(n,"cts.periodRangeQuery",2,new Set(["axis","operator","period","options"]),r,e):c.makePositionalArgs("cts.periodRangeQuery",2,!1,r,e);return new i.CtsQuery("cts","period-range-query",a)}point(...e){let n=c.getNamer(e,"latitude"),r=[["latitude",[i.XsDouble,p,m],!0,!1],["longitude",[i.XsDouble,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"cts.point",2,new Set(["latitude","longitude"]),r,e):c.makePositionalArgs("cts.point",1,!1,r,e);return new i.CtsPoint("cts","point",a)}pointLatitude(...e){let n=["point",[i.CtsPoint,p,m],!0,!1],r=c.makeSingleArgs("cts.pointLatitude",1,n,e);return new i.XsNumeric("cts","point-latitude",r)}pointLongitude(...e){let n=["point",[i.CtsPoint,p,m],!0,!1],r=c.makeSingleArgs("cts.pointLongitude",1,n,e);return new i.XsNumeric("cts","point-longitude",r)}polygon(...e){let n=["vertices",[i.CtsPoint,p,m,i.XsString],!1,!0],r=c.makeSingleArgs("cts.polygon",1,n,e);return new i.CtsPolygon("cts","polygon",r)}propertiesFragmentQuery(...e){let n=["query",[i.CtsQuery],!0,!1],r=c.makeSingleArgs("cts.propertiesFragmentQuery",1,n,e);return new i.CtsQuery("cts","properties-fragment-query",r)}rangeQuery(...e){let n=c.getNamer(e,"index"),r=[["index",[i.CtsReference],!1,!0],["operator",[i.XsString],!0,!1],["value",[i.XsAnyAtomicType],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.rangeQuery",3,new Set(["index","operator","value","options","weight"]),r,e):c.makePositionalArgs("cts.rangeQuery",3,!1,r,e);return new i.CtsQuery("cts","range-query",a)}stem(...e){let n=c.getNamer(e,"text"),r=[["text",[i.XsString,p,m],!0,!1],["language",[i.XsString,p,m],!1,!1],["partOfSpeech",[i.XsString,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.stem",1,new Set(["text","language","partOfSpeech"]),r,e):c.makePositionalArgs("cts.stem",1,!1,r,e);return new i.XsString("cts","stem",a)}tokenize(...e){let n=c.getNamer(e,"text"),r=[["text",[i.XsString,p,m],!0,!1],["language",[i.XsString,p,m],!1,!1],["field",[i.XsString,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.tokenize",1,new Set(["text","language","field"]),r,e):c.makePositionalArgs("cts.tokenize",1,!1,r,e);return new i.XsString("cts","tokenize",a)}tripleRangeQuery(...e){let n=c.getNamer(e,"subject"),r=[["subject",[i.XsAnyAtomicType],!1,!0],["predicate",[i.XsAnyAtomicType],!1,!0],["object",[i.XsAnyAtomicType],!1,!0],["operator",[i.XsString],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.tripleRangeQuery",3,new Set(["subject","predicate","object","operator","options","weight"]),r,e):c.makePositionalArgs("cts.tripleRangeQuery",3,!1,r,e);return new i.CtsQuery("cts","triple-range-query",a)}trueQuery(...e){return c.checkMaxArity("cts.trueQuery",e.length,0),new i.CtsQuery("cts","true-query",e)}uriReference(...e){return c.checkMaxArity("cts.uriReference",e.length,0),new i.CtsReference("cts","uri-reference",e)}wordQuery(...e){let n=c.getNamer(e,"text"),r=[["text",[i.XsString],!1,!0],["options",[i.XsString],!1,!0],["weight",[i.XsDouble],!1,!1]],a=n!==null?c.makeNamedArgs(n,"cts.wordQuery",1,new Set(["text","options","weight"]),r,e):c.makePositionalArgs("cts.wordQuery",1,!1,r,e);return new i.CtsQuery("cts","word-query",a)}};s(_m,"CtsExpr");var Co=_m,Rm=class Rm{constructor(){}abs(...e){let n=["arg",[i.XsNumeric,p,m],!1,!1],r=c.makeSingleArgs("fn.abs",1,n,e);return new i.XsNumeric("fn","abs",r)}adjustDateToTimezone(...e){let n=c.getNamer(e,"arg"),r=[["arg",[i.XsDate,p,m],!1,!1],["timezone",[i.XsDayTimeDuration,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"fn.adjustDateToTimezone",1,new Set(["arg","timezone"]),r,e):c.makePositionalArgs("fn.adjustDateToTimezone",1,!1,r,e);return new i.XsDate("fn","adjust-date-to-timezone",a)}adjustDateTimeToTimezone(...e){let n=c.getNamer(e,"arg"),r=[["arg",[i.XsDateTime,p,m],!1,!1],["timezone",[i.XsDayTimeDuration,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"fn.adjustDateTimeToTimezone",1,new Set(["arg","timezone"]),r,e):c.makePositionalArgs("fn.adjustDateTimeToTimezone",1,!1,r,e);return new i.XsDateTime("fn","adjust-dateTime-to-timezone",a)}adjustTimeToTimezone(...e){let n=c.getNamer(e,"arg"),r=[["arg",[i.XsTime,p,m],!1,!1],["timezone",[i.XsDayTimeDuration,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"fn.adjustTimeToTimezone",1,new Set(["arg","timezone"]),r,e):c.makePositionalArgs("fn.adjustTimeToTimezone",1,!1,r,e);return new i.XsTime("fn","adjust-time-to-timezone",a)}analyzeString(...e){let n=c.getNamer(e,"in"),r=[["in",[i.XsString,p,m],!1,!1],["regex",[i.XsString,p,m],!0,!1],["flags",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.analyzeString",2,new Set(["in","regex","flags"]),r,e):c.makePositionalArgs("fn.analyzeString",2,!1,r,e);return new i.ElementNode("fn","analyze-string",a)}avg(...e){let n=["arg",[i.XsAnyAtomicType,p,m],!1,!0],r=c.makeSingleArgs("fn.avg",1,n,e);return new i.XsAnyAtomicType("fn","avg",r)}baseUri(...e){let n=["arg",[i.Node,p,m],!1,!1],r=c.makeSingleArgs("fn.baseUri",1,n,e);return new i.XsAnyURI("fn","base-uri",r)}boolean(...e){let n=["arg",[i.Item,p,m],!1,!0],r=c.makeSingleArgs("fn.boolean",1,n,e);return new i.XsBoolean("fn","boolean",r)}ceiling(...e){let n=["arg",[i.XsNumeric,p,m],!1,!1],r=c.makeSingleArgs("fn.ceiling",1,n,e);return new i.XsNumeric("fn","ceiling",r)}codepointEqual(...e){let n=c.getNamer(e,"comparand1"),r=[["comparand1",[i.XsString,p,m],!1,!1],["comparand2",[i.XsString,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"fn.codepointEqual",2,new Set(["comparand1","comparand2"]),r,e):c.makePositionalArgs("fn.codepointEqual",2,!1,r,e);return new i.XsBoolean("fn","codepoint-equal",a)}codepointsToString(...e){let n=["arg",[i.XsInteger,p,m],!1,!0],r=c.makeSingleArgs("fn.codepointsToString",1,n,e);return new i.XsString("fn","codepoints-to-string",r)}compare(...e){let n=c.getNamer(e,"comparand1"),r=[["comparand1",[i.XsString,p,m],!1,!1],["comparand2",[i.XsString,p,m],!1,!1],["collation",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.compare",2,new Set(["comparand1","comparand2","collation"]),r,e):c.makePositionalArgs("fn.compare",2,!1,r,e);return new i.XsInteger("fn","compare",a)}concat(...e){let n=c.getNamer(e,"parameter1"),r=[["parameter1",[i.XsAnyAtomicType,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"fn.concat",1,new Set(["parameter1"]),r,e):c.makePositionalArgs("fn.concat",1,!0,r,e);return new i.XsString("fn","concat",a)}contains(...e){let n=c.getNamer(e,"parameter1"),r=[["parameter1",[i.XsString,p,m],!1,!1],["parameter2",[i.XsString,p,m],!1,!1],["collation",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.contains",2,new Set(["parameter1","parameter2","collation"]),r,e):c.makePositionalArgs("fn.contains",2,!1,r,e);return new i.XsBoolean("fn","contains",a)}count(...e){let n=c.getNamer(e,"arg"),r=[["arg",[i.Item,p,m],!1,!0],["maximum",[i.XsDouble,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"fn.count",1,new Set(["arg","maximum"]),r,e):c.makePositionalArgs("fn.count",1,!1,r,e);return new i.XsInteger("fn","count",a)}currentDate(...e){return c.checkMaxArity("fn.currentDate",e.length,0),new i.XsDate("fn","current-date",e)}currentDateTime(...e){return c.checkMaxArity("fn.currentDateTime",e.length,0),new i.XsDateTime("fn","current-dateTime",e)}currentTime(...e){return c.checkMaxArity("fn.currentTime",e.length,0),new i.XsTime("fn","current-time",e)}dateTime(...e){let n=c.getNamer(e,"arg1"),r=[["arg1",[i.XsDate,p,m],!1,!1],["arg2",[i.XsTime,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"fn.dateTime",2,new Set(["arg1","arg2"]),r,e):c.makePositionalArgs("fn.dateTime",2,!1,r,e);return new i.XsDateTime("fn","dateTime",a)}dayFromDate(...e){let n=["arg",[i.XsDate,p,m],!1,!1],r=c.makeSingleArgs("fn.dayFromDate",1,n,e);return new i.XsInteger("fn","day-from-date",r)}dayFromDateTime(...e){let n=["arg",[i.XsDateTime,p,m],!1,!1],r=c.makeSingleArgs("fn.dayFromDateTime",1,n,e);return new i.XsInteger("fn","day-from-dateTime",r)}daysFromDuration(...e){let n=["arg",[i.XsDuration,p,m],!1,!1],r=c.makeSingleArgs("fn.daysFromDuration",1,n,e);return new i.XsInteger("fn","days-from-duration",r)}deepEqual(...e){let n=c.getNamer(e,"parameter1"),r=[["parameter1",[i.Item,p,m],!1,!0],["parameter2",[i.Item,p,m],!1,!0],["collation",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.deepEqual",2,new Set(["parameter1","parameter2","collation"]),r,e):c.makePositionalArgs("fn.deepEqual",2,!1,r,e);return new i.XsBoolean("fn","deep-equal",a)}defaultCollation(...e){return c.checkMaxArity("fn.defaultCollation",e.length,0),new i.XsString("fn","default-collation",e)}distinctValues(...e){let n=c.getNamer(e,"arg"),r=[["arg",[i.XsAnyAtomicType,p,m],!1,!0],["collation",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.distinctValues",1,new Set(["arg","collation"]),r,e):c.makePositionalArgs("fn.distinctValues",1,!1,r,e);return new i.XsAnyAtomicType("fn","distinct-values",a)}documentUri(...e){let n=["arg",[i.Node,p,m],!1,!1],r=c.makeSingleArgs("fn.documentUri",1,n,e);return new i.XsAnyURI("fn","document-uri",r)}empty(...e){let n=["arg",[i.Item,p,m],!1,!0],r=c.makeSingleArgs("fn.empty",1,n,e);return new i.XsBoolean("fn","empty",r)}encodeForUri(...e){let n=["uri-part",[i.XsString,p,m],!1,!1],r=c.makeSingleArgs("fn.encodeForUri",1,n,e);return new i.XsString("fn","encode-for-uri",r)}endsWith(...e){let n=c.getNamer(e,"parameter1"),r=[["parameter1",[i.XsString,p,m],!1,!1],["parameter2",[i.XsString,p,m],!1,!1],["collation",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.endsWith",2,new Set(["parameter1","parameter2","collation"]),r,e):c.makePositionalArgs("fn.endsWith",2,!1,r,e);return new i.XsBoolean("fn","ends-with",a)}escapeHtmlUri(...e){let n=["uri-part",[i.XsString,p,m],!1,!1],r=c.makeSingleArgs("fn.escapeHtmlUri",1,n,e);return new i.XsString("fn","escape-html-uri",r)}exists(...e){let n=["arg",[i.Item,p,m],!1,!0],r=c.makeSingleArgs("fn.exists",1,n,e);return new i.XsBoolean("fn","exists",r)}false(...e){return c.checkMaxArity("fn.false",e.length,0),new i.XsBoolean("fn","false",e)}floor(...e){let n=["arg",[i.XsNumeric,p,m],!1,!1],r=c.makeSingleArgs("fn.floor",1,n,e);return new i.XsNumeric("fn","floor",r)}formatDate(...e){let n=c.getNamer(e,"value"),r=[["value",[i.XsDate,p,m],!1,!1],["picture",[i.XsString,p,m],!0,!1],["language",[i.XsString,p,m],!1,!1],["calendar",[i.XsString,p,m],!1,!1],["country",[i.XsString,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"fn.formatDate",2,new Set(["value","picture","language","calendar","country"]),r,e):c.makePositionalArgs("fn.formatDate",2,!1,r,e);return new i.XsString("fn","format-date",a)}formatDateTime(...e){let n=c.getNamer(e,"value"),r=[["value",[i.XsDateTime,p,m],!1,!1],["picture",[i.XsString,p,m],!0,!1],["language",[i.XsString,p,m],!1,!1],["calendar",[i.XsString,p,m],!1,!1],["country",[i.XsString,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"fn.formatDateTime",2,new Set(["value","picture","language","calendar","country"]),r,e):c.makePositionalArgs("fn.formatDateTime",2,!1,r,e);return new i.XsString("fn","format-dateTime",a)}formatNumber(...e){let n=c.getNamer(e,"value"),r=[["value",[i.XsNumeric,p,m],!1,!0],["picture",[i.XsString,p,m],!0,!1],["decimal-format-name",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.formatNumber",2,new Set(["value","picture","decimal-format-name"]),r,e):c.makePositionalArgs("fn.formatNumber",2,!1,r,e);return new i.XsString("fn","format-number",a)}formatTime(...e){let n=c.getNamer(e,"value"),r=[["value",[i.XsTime,p,m],!1,!1],["picture",[i.XsString,p,m],!0,!1],["language",[i.XsString,p,m],!1,!1],["calendar",[i.XsString,p,m],!1,!1],["country",[i.XsString,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"fn.formatTime",2,new Set(["value","picture","language","calendar","country"]),r,e):c.makePositionalArgs("fn.formatTime",2,!1,r,e);return new i.XsString("fn","format-time",a)}generateId(...e){let n=["node",[i.Node,p,m],!1,!1],r=c.makeSingleArgs("fn.generateId",1,n,e);return new i.XsString("fn","generate-id",r)}head(...e){let n=["seq",[i.Item,p,m],!1,!0],r=c.makeSingleArgs("fn.head",1,n,e);return new i.Item("fn","head",r)}hoursFromDateTime(...e){let n=["arg",[i.XsDateTime,p,m],!1,!1],r=c.makeSingleArgs("fn.hoursFromDateTime",1,n,e);return new i.XsInteger("fn","hours-from-dateTime",r)}hoursFromDuration(...e){let n=["arg",[i.XsDuration,p,m],!1,!1],r=c.makeSingleArgs("fn.hoursFromDuration",1,n,e);return new i.XsInteger("fn","hours-from-duration",r)}hoursFromTime(...e){let n=["arg",[i.XsTime,p,m],!1,!1],r=c.makeSingleArgs("fn.hoursFromTime",1,n,e);return new i.XsInteger("fn","hours-from-time",r)}implicitTimezone(...e){return c.checkMaxArity("fn.implicitTimezone",e.length,0),new i.XsDayTimeDuration("fn","implicit-timezone",e)}inScopePrefixes(...e){let n=["element",[i.ElementNode,p,m],!0,!1],r=c.makeSingleArgs("fn.inScopePrefixes",1,n,e);return new i.XsString("fn","in-scope-prefixes",r)}indexOf(...e){let n=c.getNamer(e,"seqParam"),r=[["seqParam",[i.XsAnyAtomicType,p,m],!1,!0],["srchParam",[i.XsAnyAtomicType,p,m],!0,!1],["collationLiteral",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.indexOf",2,new Set(["seqParam","srchParam","collationLiteral"]),r,e):c.makePositionalArgs("fn.indexOf",2,!1,r,e);return new i.XsInteger("fn","index-of",a)}insertBefore(...e){let n=c.getNamer(e,"target"),r=[["target",[i.Item,p,m],!1,!0],["position",[i.XsInteger,p,m],!0,!1],["inserts",[i.Item,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"fn.insertBefore",3,new Set(["target","position","inserts"]),r,e):c.makePositionalArgs("fn.insertBefore",3,!1,r,e);return new i.Item("fn","insert-before",a)}iriToUri(...e){let n=["uri-part",[i.XsString,p,m],!1,!1],r=c.makeSingleArgs("fn.iriToUri",1,n,e);return new i.XsString("fn","iri-to-uri",r)}lang(...e){let n=c.getNamer(e,"testlang"),r=[["testlang",[i.XsString,p,m],!1,!1],["node",[i.Node,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"fn.lang",2,new Set(["testlang","node"]),r,e):c.makePositionalArgs("fn.lang",2,!1,r,e);return new i.XsBoolean("fn","lang",a)}localName(...e){let n=["arg",[i.Node,p,m],!1,!1],r=c.makeSingleArgs("fn.localName",1,n,e);return new i.XsString("fn","local-name",r)}localNameFromQName(...e){let n=["arg",[i.XsQName,p,m],!1,!1],r=c.makeSingleArgs("fn.localNameFromQName",1,n,e);return new i.XsNCName("fn","local-name-from-QName",r)}lowerCase(...e){let n=["string",[i.XsString,p,m],!1,!1],r=c.makeSingleArgs("fn.lowerCase",1,n,e);return new i.XsString("fn","lower-case",r)}matches(...e){let n=c.getNamer(e,"input"),r=[["input",[i.XsString,p,m],!1,!1],["pattern",[i.XsString,p,m],!0,!1],["flags",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.matches",2,new Set(["input","pattern","flags"]),r,e):c.makePositionalArgs("fn.matches",2,!1,r,e);return new i.XsBoolean("fn","matches",a)}max(...e){let n=c.getNamer(e,"arg"),r=[["arg",[i.XsAnyAtomicType,p,m],!1,!0],["collation",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.max",1,new Set(["arg","collation"]),r,e):c.makePositionalArgs("fn.max",1,!1,r,e);return new i.XsAnyAtomicType("fn","max",a)}min(...e){let n=c.getNamer(e,"arg"),r=[["arg",[i.XsAnyAtomicType,p,m],!1,!0],["collation",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.min",1,new Set(["arg","collation"]),r,e):c.makePositionalArgs("fn.min",1,!1,r,e);return new i.XsAnyAtomicType("fn","min",a)}minutesFromDateTime(...e){let n=["arg",[i.XsDateTime,p,m],!1,!1],r=c.makeSingleArgs("fn.minutesFromDateTime",1,n,e);return new i.XsInteger("fn","minutes-from-dateTime",r)}minutesFromDuration(...e){let n=["arg",[i.XsDuration,p,m],!1,!1],r=c.makeSingleArgs("fn.minutesFromDuration",1,n,e);return new i.XsInteger("fn","minutes-from-duration",r)}minutesFromTime(...e){let n=["arg",[i.XsTime,p,m],!1,!1],r=c.makeSingleArgs("fn.minutesFromTime",1,n,e);return new i.XsInteger("fn","minutes-from-time",r)}monthFromDate(...e){let n=["arg",[i.XsDate,p,m],!1,!1],r=c.makeSingleArgs("fn.monthFromDate",1,n,e);return new i.XsInteger("fn","month-from-date",r)}monthFromDateTime(...e){let n=["arg",[i.XsDateTime,p,m],!1,!1],r=c.makeSingleArgs("fn.monthFromDateTime",1,n,e);return new i.XsInteger("fn","month-from-dateTime",r)}monthsFromDuration(...e){let n=["arg",[i.XsDuration,p,m],!1,!1],r=c.makeSingleArgs("fn.monthsFromDuration",1,n,e);return new i.XsInteger("fn","months-from-duration",r)}name(...e){let n=["arg",[i.Node,p,m],!1,!1],r=c.makeSingleArgs("fn.name",1,n,e);return new i.XsString("fn","name",r)}namespaceUri(...e){let n=["arg",[i.Node,p,m],!1,!1],r=c.makeSingleArgs("fn.namespaceUri",1,n,e);return new i.XsAnyURI("fn","namespace-uri",r)}namespaceUriForPrefix(...e){let n=c.getNamer(e,"prefix"),r=[["prefix",[i.XsString,p,m],!1,!1],["element",[i.ElementNode,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.namespaceUriForPrefix",2,new Set(["prefix","element"]),r,e):c.makePositionalArgs("fn.namespaceUriForPrefix",2,!1,r,e);return new i.XsAnyURI("fn","namespace-uri-for-prefix",a)}namespaceUriFromQName(...e){let n=["arg",[i.XsQName,p,m],!1,!1],r=c.makeSingleArgs("fn.namespaceUriFromQName",1,n,e);return new i.XsAnyURI("fn","namespace-uri-from-QName",r)}nilled(...e){let n=["arg",[i.Node,p,m],!1,!1],r=c.makeSingleArgs("fn.nilled",1,n,e);return new i.XsBoolean("fn","nilled",r)}nodeName(...e){let n=["arg",[i.Node,p,m],!1,!1],r=c.makeSingleArgs("fn.nodeName",1,n,e);return new i.XsQName("fn","node-name",r)}normalizeSpace(...e){let n=["input",[i.XsString,p,m],!1,!1],r=c.makeSingleArgs("fn.normalizeSpace",1,n,e);return new i.XsString("fn","normalize-space",r)}normalizeUnicode(...e){let n=c.getNamer(e,"arg"),r=[["arg",[i.XsString,p,m],!1,!1],["normalizationForm",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.normalizeUnicode",1,new Set(["arg","normalizationForm"]),r,e):c.makePositionalArgs("fn.normalizeUnicode",1,!1,r,e);return new i.XsString("fn","normalize-unicode",a)}not(...e){let n=["arg",[i.Item,p,m],!1,!0],r=c.makeSingleArgs("fn.not",1,n,e);return new i.XsBoolean("fn","not",r)}number(...e){let n=["arg",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("fn.number",1,n,e);return new i.XsDouble("fn","number",r)}prefixFromQName(...e){let n=["arg",[i.XsQName,p,m],!1,!1],r=c.makeSingleArgs("fn.prefixFromQName",1,n,e);return new i.XsNCName("fn","prefix-from-QName",r)}QName(...e){let n=c.getNamer(e,"paramURI"),r=[["paramURI",[i.XsString,p,m],!1,!1],["paramQName",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.QName",2,new Set(["paramURI","paramQName"]),r,e):c.makePositionalArgs("fn.QName",2,!1,r,e);return new i.XsQName("fn","QName",a)}remove(...e){let n=c.getNamer(e,"target"),r=[["target",[i.Item,p,m],!1,!0],["position",[i.XsInteger,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.remove",2,new Set(["target","position"]),r,e):c.makePositionalArgs("fn.remove",2,!1,r,e);return new i.Item("fn","remove",a)}replace(...e){let n=c.getNamer(e,"input"),r=[["input",[i.XsString,p,m],!1,!1],["pattern",[i.XsString,p,m],!0,!1],["replacement",[i.XsString,p,m],!0,!1],["flags",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.replace",3,new Set(["input","pattern","replacement","flags"]),r,e):c.makePositionalArgs("fn.replace",3,!1,r,e);return new i.XsString("fn","replace",a)}resolveQName(...e){let n=c.getNamer(e,"qname"),r=[["qname",[i.XsString,p,m],!1,!1],["element",[i.ElementNode,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.resolveQName",2,new Set(["qname","element"]),r,e):c.makePositionalArgs("fn.resolveQName",2,!1,r,e);return new i.XsQName("fn","resolve-QName",a)}resolveUri(...e){let n=c.getNamer(e,"relative"),r=[["relative",[i.XsString,p,m],!1,!1],["base",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.resolveUri",2,new Set(["relative","base"]),r,e):c.makePositionalArgs("fn.resolveUri",2,!1,r,e);return new i.XsAnyURI("fn","resolve-uri",a)}reverse(...e){let n=["target",[i.Item,p,m],!1,!0],r=c.makeSingleArgs("fn.reverse",1,n,e);return new i.Item("fn","reverse",r)}root(...e){let n=["arg",[i.Node,p,m],!1,!1],r=c.makeSingleArgs("fn.root",1,n,e);return new i.Node("fn","root",r)}round(...e){let n=["arg",[i.XsNumeric,p,m],!1,!1],r=c.makeSingleArgs("fn.round",1,n,e);return new i.XsNumeric("fn","round",r)}roundHalfToEven(...e){let n=c.getNamer(e,"arg"),r=[["arg",[i.XsNumeric,p,m],!1,!1],["precision",[i.XsInteger,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.roundHalfToEven",1,new Set(["arg","precision"]),r,e):c.makePositionalArgs("fn.roundHalfToEven",1,!1,r,e);return new i.XsNumeric("fn","round-half-to-even",a)}secondsFromDateTime(...e){let n=["arg",[i.XsDateTime,p,m],!1,!1],r=c.makeSingleArgs("fn.secondsFromDateTime",1,n,e);return new i.XsDecimal("fn","seconds-from-dateTime",r)}secondsFromDuration(...e){let n=["arg",[i.XsDuration,p,m],!1,!1],r=c.makeSingleArgs("fn.secondsFromDuration",1,n,e);return new i.XsDecimal("fn","seconds-from-duration",r)}secondsFromTime(...e){let n=["arg",[i.XsTime,p,m],!1,!1],r=c.makeSingleArgs("fn.secondsFromTime",1,n,e);return new i.XsDecimal("fn","seconds-from-time",r)}startsWith(...e){let n=c.getNamer(e,"parameter1"),r=[["parameter1",[i.XsString,p,m],!1,!1],["parameter2",[i.XsString,p,m],!1,!1],["collation",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.startsWith",2,new Set(["parameter1","parameter2","collation"]),r,e):c.makePositionalArgs("fn.startsWith",2,!1,r,e);return new i.XsBoolean("fn","starts-with",a)}string(...e){let n=["arg",[i.Item,p,m],!1,!1],r=c.makeSingleArgs("fn.string",1,n,e);return new i.XsString("fn","string",r)}stringJoin(...e){let n=c.getNamer(e,"parameter1"),r=[["parameter1",[i.XsString,p,m],!1,!0],["parameter2",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.stringJoin",2,new Set(["parameter1","parameter2"]),r,e):c.makePositionalArgs("fn.stringJoin",2,!1,r,e);return new i.XsString("fn","string-join",a)}stringLength(...e){let n=["sourceString",[i.XsString,p,m],!1,!1],r=c.makeSingleArgs("fn.stringLength",1,n,e);return new i.XsInteger("fn","string-length",r)}stringToCodepoints(...e){let n=["arg",[i.XsString,p,m],!1,!1],r=c.makeSingleArgs("fn.stringToCodepoints",1,n,e);return new i.XsInteger("fn","string-to-codepoints",r)}subsequence(...e){let n=c.getNamer(e,"sourceSeq"),r=[["sourceSeq",[i.Item,p,m],!1,!0],["startingLoc",[i.XsNumeric,p,m],!0,!1],["length",[i.XsNumeric,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.subsequence",2,new Set(["sourceSeq","startingLoc","length"]),r,e):c.makePositionalArgs("fn.subsequence",2,!1,r,e);return new i.Item("fn","subsequence",a)}substring(...e){let n=c.getNamer(e,"sourceString"),r=[["sourceString",[i.XsString,p,m],!1,!1],["startingLoc",[i.XsNumeric,p,m],!0,!1],["length",[i.XsNumeric,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.substring",2,new Set(["sourceString","startingLoc","length"]),r,e):c.makePositionalArgs("fn.substring",2,!1,r,e);return new i.XsString("fn","substring",a)}substringAfter(...e){let n=c.getNamer(e,"input"),r=[["input",[i.XsString,p,m],!1,!1],["after",[i.XsString,p,m],!1,!1],["collation",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.substringAfter",2,new Set(["input","after","collation"]),r,e):c.makePositionalArgs("fn.substringAfter",2,!1,r,e);return new i.XsString("fn","substring-after",a)}substringBefore(...e){let n=c.getNamer(e,"input"),r=[["input",[i.XsString,p,m],!1,!1],["before",[i.XsString,p,m],!1,!1],["collation",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.substringBefore",2,new Set(["input","before","collation"]),r,e):c.makePositionalArgs("fn.substringBefore",2,!1,r,e);return new i.XsString("fn","substring-before",a)}sum(...e){let n=c.getNamer(e,"arg"),r=[["arg",[i.XsAnyAtomicType,p,m],!1,!0],["zero",[i.XsAnyAtomicType,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"fn.sum",1,new Set(["arg","zero"]),r,e):c.makePositionalArgs("fn.sum",1,!1,r,e);return new i.XsAnyAtomicType("fn","sum",a)}tail(...e){let n=["seq",[i.Item,p,m],!1,!0],r=c.makeSingleArgs("fn.tail",1,n,e);return new i.Item("fn","tail",r)}timezoneFromDate(...e){let n=["arg",[i.XsDate,p,m],!1,!1],r=c.makeSingleArgs("fn.timezoneFromDate",1,n,e);return new i.XsDayTimeDuration("fn","timezone-from-date",r)}timezoneFromDateTime(...e){let n=["arg",[i.XsDateTime,p,m],!1,!1],r=c.makeSingleArgs("fn.timezoneFromDateTime",1,n,e);return new i.XsDayTimeDuration("fn","timezone-from-dateTime",r)}timezoneFromTime(...e){let n=["arg",[i.XsTime,p,m],!1,!1],r=c.makeSingleArgs("fn.timezoneFromTime",1,n,e);return new i.XsDayTimeDuration("fn","timezone-from-time",r)}tokenize(...e){let n=c.getNamer(e,"input"),r=[["input",[i.XsString,p,m],!1,!1],["pattern",[i.XsString,p,m],!0,!1],["flags",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.tokenize",2,new Set(["input","pattern","flags"]),r,e):c.makePositionalArgs("fn.tokenize",2,!1,r,e);return new i.XsString("fn","tokenize",a)}translate(...e){let n=c.getNamer(e,"src"),r=[["src",[i.XsString,p,m],!1,!1],["mapString",[i.XsString,p,m],!0,!1],["transString",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"fn.translate",3,new Set(["src","mapString","transString"]),r,e):c.makePositionalArgs("fn.translate",3,!1,r,e);return new i.XsString("fn","translate",a)}true(...e){return c.checkMaxArity("fn.true",e.length,0),new i.XsBoolean("fn","true",e)}unordered(...e){let n=["sourceSeq",[i.Item,p,m],!1,!0],r=c.makeSingleArgs("fn.unordered",1,n,e);return new i.Item("fn","unordered",r)}upperCase(...e){let n=["string",[i.XsString,p,m],!1,!1],r=c.makeSingleArgs("fn.upperCase",1,n,e);return new i.XsString("fn","upper-case",r)}yearFromDate(...e){let n=["arg",[i.XsDate,p,m],!1,!1],r=c.makeSingleArgs("fn.yearFromDate",1,n,e);return new i.XsInteger("fn","year-from-date",r)}yearFromDateTime(...e){let n=["arg",[i.XsDateTime,p,m],!1,!1],r=c.makeSingleArgs("fn.yearFromDateTime",1,n,e);return new i.XsInteger("fn","year-from-dateTime",r)}yearsFromDuration(...e){let n=["arg",[i.XsDuration,p,m],!1,!1],r=c.makeSingleArgs("fn.yearsFromDuration",1,n,e);return new i.XsInteger("fn","years-from-duration",r)}};s(Rm,"FnExpr");var _o=Rm,Xm=class Xm{constructor(){}approxCenter(...e){let n=c.getNamer(e,"region"),r=[["region",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.approxCenter",1,new Set(["region","options"]),r,e):c.makePositionalArgs("geo.approxCenter",1,!1,r,e);return new i.CtsPoint("geo","approx-center",a)}arcIntersection(...e){let n=c.getNamer(e,"p1"),r=[["p1",[i.CtsPoint,p,m],!0,!1],["p2",[i.CtsPoint,p,m],!0,!1],["q1",[i.CtsPoint,p,m],!0,!1],["q2",[i.CtsPoint,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.arcIntersection",4,new Set(["p1","p2","q1","q2","options"]),r,e):c.makePositionalArgs("geo.arcIntersection",4,!1,r,e);return new i.CtsPoint("geo","arc-intersection",a)}bearing(...e){let n=c.getNamer(e,"p1"),r=[["p1",[i.CtsPoint,p,m],!0,!1],["p2",[i.CtsPoint,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.bearing",2,new Set(["p1","p2","options"]),r,e):c.makePositionalArgs("geo.bearing",2,!1,r,e);return new i.XsDouble("geo","bearing",a)}boundingBoxes(...e){let n=c.getNamer(e,"region"),r=[["region",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.boundingBoxes",1,new Set(["region","options"]),r,e):c.makePositionalArgs("geo.boundingBoxes",1,!1,r,e);return new i.CtsBox("geo","bounding-boxes",a)}boxIntersects(...e){let n=c.getNamer(e,"box"),r=[["box",[i.CtsBox,p,m],!0,!1],["region",[i.CtsRegion,p,m],!1,!0],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.boxIntersects",2,new Set(["box","region","options"]),r,e):c.makePositionalArgs("geo.boxIntersects",2,!1,r,e);return new i.XsBoolean("geo","box-intersects",a)}circleIntersects(...e){let n=c.getNamer(e,"circle"),r=[["circle",[i.CtsCircle,p,m],!0,!1],["region",[i.CtsRegion,p,m],!1,!0],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.circleIntersects",2,new Set(["circle","region","options"]),r,e):c.makePositionalArgs("geo.circleIntersects",2,!1,r,e);return new i.XsBoolean("geo","circle-intersects",a)}circlePolygon(...e){let n=c.getNamer(e,"circle"),r=[["circle",[i.CtsCircle,p,m],!0,!1],["arc-tolerance",[i.XsDouble,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.circlePolygon",2,new Set(["circle","arc-tolerance","options"]),r,e):c.makePositionalArgs("geo.circlePolygon",2,!1,r,e);return new i.CtsPolygon("geo","circle-polygon",a)}contains(...e){let n=c.getNamer(e,"region-1"),r=[["region-1",[i.CtsRegion,p,m],!0,!1],["region-2",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.contains",2,new Set(["region-1","region-2","options"]),r,e):c.makePositionalArgs("geo.contains",2,!1,r,e);return new i.XsBoolean("geo","contains",a)}countDistinctVertices(...e){let n=c.getNamer(e,"region"),r=[["region",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.countDistinctVertices",1,new Set(["region","options"]),r,e):c.makePositionalArgs("geo.countDistinctVertices",1,!1,r,e);return new i.XsInteger("geo","count-distinct-vertices",a)}countVertices(...e){let n=["region",[i.CtsRegion,p,m],!0,!1],r=c.makeSingleArgs("geo.countVertices",1,n,e);return new i.XsInteger("geo","count-vertices",r)}coveredBy(...e){let n=c.getNamer(e,"region-1"),r=[["region-1",[i.CtsRegion,p,m],!0,!1],["region-2",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.coveredBy",2,new Set(["region-1","region-2","options"]),r,e):c.makePositionalArgs("geo.coveredBy",2,!1,r,e);return new i.XsBoolean("geo","covered-by",a)}covers(...e){let n=c.getNamer(e,"region-1"),r=[["region-1",[i.CtsRegion,p,m],!0,!1],["region-2",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.covers",2,new Set(["region-1","region-2","options"]),r,e):c.makePositionalArgs("geo.covers",2,!1,r,e);return new i.XsBoolean("geo","covers",a)}crosses(...e){let n=c.getNamer(e,"region-1"),r=[["region-1",[i.CtsRegion,p,m],!0,!1],["region-2",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.crosses",2,new Set(["region-1","region-2","options"]),r,e):c.makePositionalArgs("geo.crosses",2,!1,r,e);return new i.XsBoolean("geo","crosses",a)}destination(...e){let n=c.getNamer(e,"p"),r=[["p",[i.CtsPoint,p,m],!0,!1],["bearing",[i.XsDouble,p,m],!0,!1],["distance",[i.XsDouble,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.destination",3,new Set(["p","bearing","distance","options"]),r,e):c.makePositionalArgs("geo.destination",3,!1,r,e);return new i.CtsPoint("geo","destination",a)}disjoint(...e){let n=c.getNamer(e,"region-1"),r=[["region-1",[i.CtsRegion,p,m],!0,!1],["region-2",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.disjoint",2,new Set(["region-1","region-2","options"]),r,e):c.makePositionalArgs("geo.disjoint",2,!1,r,e);return new i.XsBoolean("geo","disjoint",a)}distance(...e){let n=c.getNamer(e,"p1"),r=[["p1",[i.CtsPoint,p,m],!0,!1],["p2",[i.CtsPoint,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.distance",2,new Set(["p1","p2","options"]),r,e):c.makePositionalArgs("geo.distance",2,!1,r,e);return new i.XsDouble("geo","distance",a)}distanceConvert(...e){let n=c.getNamer(e,"distance"),r=[["distance",[i.XsDouble,p,m],!0,!1],["unit1",[i.XsString,p,m],!1,!0],["unit2",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.distanceConvert",3,new Set(["distance","unit1","unit2"]),r,e):c.makePositionalArgs("geo.distanceConvert",3,!1,r,e);return new i.XsDouble("geo","distance-convert",a)}ellipsePolygon(...e){let n=c.getNamer(e,"center"),r=[["center",[i.CtsPoint,p,m],!1,!0],["semi-major-axis",[i.XsDouble,p,m],!0,!1],["semi-minor-axis",[i.XsDouble,p,m],!0,!1],["azimuth",[i.XsDouble,p,m],!0,!1],["arc-tolerance",[i.XsDouble,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.ellipsePolygon",5,new Set(["center","semi-major-axis","semi-minor-axis","azimuth","arc-tolerance","options"]),r,e):c.makePositionalArgs("geo.ellipsePolygon",5,!1,r,e);return new i.CtsPolygon("geo","ellipse-polygon",a)}equals(...e){let n=c.getNamer(e,"region-1"),r=[["region-1",[i.CtsRegion,p,m],!0,!1],["region-2",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.equals",2,new Set(["region-1","region-2","options"]),r,e):c.makePositionalArgs("geo.equals",2,!1,r,e);return new i.XsBoolean("geo","equals",a)}geohashDecode(...e){let n=["hash",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("geo.geohashDecode",1,n,e);return new i.CtsBox("geo","geohash-decode",r)}geohashDecodePoint(...e){let n=["hash",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("geo.geohashDecodePoint",1,n,e);return new i.CtsPoint("geo","geohash-decode-point",r)}geohashEncode(...e){let n=c.getNamer(e,"region"),r=[["region",[i.CtsRegion,p,m],!0,!1],["geohash-precision",[i.XsInteger,p,m],!1,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.geohashEncode",1,new Set(["region","geohash-precision","options"]),r,e):c.makePositionalArgs("geo.geohashEncode",1,!1,r,e);return new i.XsString("geo","geohash-encode",a)}geohashNeighbors(...e){let n=["hash",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("geo.geohashNeighbors",1,n,e);return new i.MapMap("geo","geohash-neighbors",r)}geohashPrecisionDimensions(...e){let n=["precision",[i.XsInteger,p,m],!0,!1],r=c.makeSingleArgs("geo.geohashPrecisionDimensions",1,n,e);return new i.XsDouble("geo","geohash-precision-dimensions",r)}geohashSubhashes(...e){let n=c.getNamer(e,"hash"),r=[["hash",[i.XsString,p,m],!0,!1],["which",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"geo.geohashSubhashes",1,new Set(["hash","which"]),r,e):c.makePositionalArgs("geo.geohashSubhashes",1,!1,r,e);return new i.XsString("geo","geohash-subhashes",a)}interiorPoint(...e){let n=c.getNamer(e,"region"),r=[["region",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.interiorPoint",1,new Set(["region","options"]),r,e):c.makePositionalArgs("geo.interiorPoint",1,!1,r,e);return new i.CtsPoint("geo","interior-point",a)}intersects(...e){let n=c.getNamer(e,"region-1"),r=[["region-1",[i.CtsRegion,p,m],!0,!1],["region-2",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.intersects",2,new Set(["region-1","region-2","options"]),r,e):c.makePositionalArgs("geo.intersects",2,!1,r,e);return new i.XsBoolean("geo","intersects",a)}overlaps(...e){let n=c.getNamer(e,"region-1"),r=[["region-1",[i.CtsRegion,p,m],!0,!1],["region-2",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.overlaps",2,new Set(["region-1","region-2","options"]),r,e):c.makePositionalArgs("geo.overlaps",2,!1,r,e);return new i.XsBoolean("geo","overlaps",a)}parseWkt(...e){let n=["wkt",[i.XsString,p,m],!1,!0],r=c.makeSingleArgs("geo.parseWkt",1,n,e);return new i.CtsRegion("geo","parse-wkt",r)}regionAffineTransform(...e){let n=c.getNamer(e,"region"),r=[["region",[i.CtsRegion,p,m],!0,!1],["transform",[i.MapMap,p,m],!1,!0],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.regionAffineTransform",2,new Set(["region","transform","options"]),r,e):c.makePositionalArgs("geo.regionAffineTransform",2,!1,r,e);return new i.CtsRegion("geo","region-affine-transform",a)}regionApproximate(...e){let n=c.getNamer(e,"region"),r=[["region",[i.CtsRegion,p,m],!0,!1],["threshold",[i.XsDouble,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.regionApproximate",2,new Set(["region","threshold","options"]),r,e):c.makePositionalArgs("geo.regionApproximate",2,!1,r,e);return new i.CtsRegion("geo","region-approximate",a)}regionClean(...e){let n=c.getNamer(e,"region"),r=[["region",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.regionClean",1,new Set(["region","options"]),r,e):c.makePositionalArgs("geo.regionClean",1,!1,r,e);return new i.CtsRegion("geo","region-clean",a)}regionContains(...e){let n=c.getNamer(e,"target"),r=[["target",[i.CtsRegion,p,m],!0,!1],["region",[i.CtsRegion,p,m],!1,!0],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.regionContains",2,new Set(["target","region","options"]),r,e):c.makePositionalArgs("geo.regionContains",2,!1,r,e);return new i.XsBoolean("geo","region-contains",a)}regionDe9im(...e){let n=c.getNamer(e,"region-1"),r=[["region-1",[i.CtsRegion,p,m],!0,!1],["region-2",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.regionDe9im",2,new Set(["region-1","region-2","options"]),r,e):c.makePositionalArgs("geo.regionDe9im",2,!1,r,e);return new i.XsString("geo","region-de9im",a)}regionIntersects(...e){let n=c.getNamer(e,"target"),r=[["target",[i.CtsRegion,p,m],!0,!1],["region",[i.CtsRegion,p,m],!1,!0],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.regionIntersects",2,new Set(["target","region","options"]),r,e):c.makePositionalArgs("geo.regionIntersects",2,!1,r,e);return new i.XsBoolean("geo","region-intersects",a)}regionRelate(...e){let n=c.getNamer(e,"region-1"),r=[["region-1",[i.CtsRegion,p,m],!0,!1],["operation",[i.XsString,p,m],!0,!1],["region-2",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.regionRelate",3,new Set(["region-1","operation","region-2","options"]),r,e):c.makePositionalArgs("geo.regionRelate",3,!1,r,e);return new i.XsBoolean("geo","region-relate",a)}removeDuplicateVertices(...e){let n=c.getNamer(e,"region"),r=[["region",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.removeDuplicateVertices",1,new Set(["region","options"]),r,e):c.makePositionalArgs("geo.removeDuplicateVertices",1,!1,r,e);return new i.CtsRegion("geo","remove-duplicate-vertices",a)}shortestDistance(...e){let n=c.getNamer(e,"p1"),r=[["p1",[i.CtsPoint,p,m],!0,!1],["region",[i.CtsRegion,p,m],!1,!0],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.shortestDistance",2,new Set(["p1","region","options"]),r,e):c.makePositionalArgs("geo.shortestDistance",2,!1,r,e);return new i.XsDouble("geo","shortest-distance",a)}toWkt(...e){let n=["wkt",[i.CtsRegion,p,m],!1,!0],r=c.makeSingleArgs("geo.toWkt",1,n,e);return new i.XsString("geo","to-wkt",r)}touches(...e){let n=c.getNamer(e,"region-1"),r=[["region-1",[i.CtsRegion,p,m],!0,!1],["region-2",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.touches",2,new Set(["region-1","region-2","options"]),r,e):c.makePositionalArgs("geo.touches",2,!1,r,e);return new i.XsBoolean("geo","touches",a)}validateWkt(...e){let n=["wkt",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("geo.validateWkt",1,n,e);return new i.XsBoolean("geo","validate-wkt",r)}within(...e){let n=c.getNamer(e,"region-1"),r=[["region-1",[i.CtsRegion,p,m],!0,!1],["region-2",[i.CtsRegion,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"geo.within",2,new Set(["region-1","region-2","options"]),r,e):c.makePositionalArgs("geo.within",2,!1,r,e);return new i.XsBoolean("geo","within",a)}};s(Xm,"GeoExpr");var Ro=Xm,Dm=class Dm{constructor(){}array(...e){let n=["array",[i.ElementNode,p,m],!0,!1],r=c.makeSingleArgs("json.array",0,n,e);return new i.JsonArray("json","array",r)}arraySize(...e){let n=["array",[i.JsonArray,p,m],!1,!1],r=c.makeSingleArgs("json.arraySize",1,n,e);return new i.XsUnsignedLong("json","array-size",r)}arrayValues(...e){let n=c.getNamer(e,"array"),r=[["array",[i.JsonArray,p,m],!0,!1],["flatten",[i.XsBoolean,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"json.arrayValues",1,new Set(["array","flatten"]),r,e):c.makePositionalArgs("json.arrayValues",1,!1,r,e);return new i.Item("json","array-values",a)}object(...e){let n=["map",[i.ElementNode,p,m],!0,!1],r=c.makeSingleArgs("json.object",0,n,e);return new i.JsonObject("json","object",r)}objectDefine(...e){let n=["keys",[i.XsString,p,m],!1,!0],r=c.makeSingleArgs("json.objectDefine",0,n,e);return new i.JsonObject("json","object-define",r)}subarray(...e){let n=c.getNamer(e,"array"),r=[["array",[i.JsonArray,p,m],!0,!1],["startingLoc",[i.XsNumeric,p,m],!0,!1],["length",[i.XsNumeric,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"json.subarray",2,new Set(["array","startingLoc","length"]),r,e):c.makePositionalArgs("json.subarray",2,!1,r,e);return new i.JsonArray("json","subarray",a)}toArray(...e){let n=c.getNamer(e,"items"),r=[["items",[i.Item,p,m],!1,!0],["limit",[i.XsNumeric,p,m],!1,!1],["zero",[i.Item,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"json.toArray",0,new Set(["items","limit","zero"]),r,e):c.makePositionalArgs("json.toArray",0,!1,r,e);return new i.JsonArray("json","to-array",a)}};s(Dm,"JsonExpr");var Xo=Dm,Im=class Im{constructor(){}contains(...e){let n=c.getNamer(e,"map"),r=[["map",[i.MapMap,p,m],!0,!1],["key",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"map.contains",2,new Set(["map","key"]),r,e):c.makePositionalArgs("map.contains",2,!1,r,e);return new i.XsBoolean("map","contains",a)}count(...e){let n=["map",[i.MapMap,p,m],!0,!1],r=c.makeSingleArgs("map.count",1,n,e);return new i.XsUnsignedInt("map","count",r)}entry(...e){let n=c.getNamer(e,"key"),r=[["key",[i.XsString,p,m],!0,!1],["value",[i.Item,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"map.entry",2,new Set(["key","value"]),r,e):c.makePositionalArgs("map.entry",2,!1,r,e);return new i.MapMap("map","entry",a)}get(...e){let n=c.getNamer(e,"map"),r=[["map",[i.MapMap,p,m],!0,!1],["key",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"map.get",2,new Set(["map","key"]),r,e):c.makePositionalArgs("map.get",2,!1,r,e);return new i.Item("map","get",a)}keys(...e){let n=["map",[i.MapMap,p,m],!0,!1],r=c.makeSingleArgs("map.keys",1,n,e);return new i.XsString("map","keys",r)}map(...e){let n=["map",[i.ElementNode,p,m],!0,!1],r=c.makeSingleArgs("map.map",0,n,e);return new i.MapMap("map","map",r)}new(...e){let n=["maps",[i.MapMap,p,m],!1,!0],r=c.makeSingleArgs("map.new",0,n,e);return new i.MapMap("map","new",r)}};s(Im,"MapExpr");var Do=Im,Bm=class Bm{constructor(){}acos(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.acos",1,n,e);return new i.XsDouble("math","acos",r)}asin(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.asin",1,n,e);return new i.XsDouble("math","asin",r)}atan(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.atan",1,n,e);return new i.XsDouble("math","atan",r)}atan2(...e){let n=c.getNamer(e,"y"),r=[["y",[i.XsDouble,p,m],!0,!1],["x",[i.XsDouble,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"math.atan2",2,new Set(["y","x"]),r,e):c.makePositionalArgs("math.atan2",2,!1,r,e);return new i.XsDouble("math","atan2",a)}ceil(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.ceil",1,n,e);return new i.XsDouble("math","ceil",r)}correlation(...e){let n=["arg",[i.JsonArray,p,m],!1,!0],r=c.makeSingleArgs("math.correlation",1,n,e);return new i.XsDouble("math","correlation",r)}cos(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.cos",1,n,e);return new i.XsDouble("math","cos",r)}cosh(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.cosh",1,n,e);return new i.XsDouble("math","cosh",r)}cot(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.cot",1,n,e);return new i.XsDouble("math","cot",r)}covariance(...e){let n=["arg",[i.JsonArray,p,m],!1,!0],r=c.makeSingleArgs("math.covariance",1,n,e);return new i.XsDouble("math","covariance",r)}covarianceP(...e){let n=["arg",[i.JsonArray,p,m],!1,!0],r=c.makeSingleArgs("math.covarianceP",1,n,e);return new i.XsDouble("math","covariance-p",r)}degrees(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.degrees",1,n,e);return new i.XsDouble("math","degrees",r)}exp(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.exp",1,n,e);return new i.XsDouble("math","exp",r)}fabs(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.fabs",1,n,e);return new i.XsDouble("math","fabs",r)}floor(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.floor",1,n,e);return new i.XsDouble("math","floor",r)}fmod(...e){let n=c.getNamer(e,"x"),r=[["x",[i.XsDouble,p,m],!0,!1],["y",[i.XsDouble,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"math.fmod",2,new Set(["x","y"]),r,e):c.makePositionalArgs("math.fmod",2,!1,r,e);return new i.XsDouble("math","fmod",a)}frexp(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.frexp",1,n,e);return new i.Item("math","frexp",r)}ldexp(...e){let n=c.getNamer(e,"y"),r=[["y",[i.XsDouble,p,m],!0,!1],["i",[i.XsInteger,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"math.ldexp",2,new Set(["y","i"]),r,e):c.makePositionalArgs("math.ldexp",2,!1,r,e);return new i.XsDouble("math","ldexp",a)}linearModel(...e){let n=["arg",[i.JsonArray,p,m],!1,!0],r=c.makeSingleArgs("math.linearModel",1,n,e);return new i.MathLinearModel("math","linear-model",r)}linearModelCoeff(...e){let n=["linear-model",[i.MathLinearModel,p,m],!0,!1],r=c.makeSingleArgs("math.linearModelCoeff",1,n,e);return new i.XsDouble("math","linear-model-coeff",r)}linearModelIntercept(...e){let n=["linear-model",[i.MathLinearModel,p,m],!0,!1],r=c.makeSingleArgs("math.linearModelIntercept",1,n,e);return new i.XsDouble("math","linear-model-intercept",r)}linearModelRsquared(...e){let n=["linear-model",[i.MathLinearModel,p,m],!0,!1],r=c.makeSingleArgs("math.linearModelRsquared",1,n,e);return new i.XsDouble("math","linear-model-rsquared",r)}log(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.log",1,n,e);return new i.XsDouble("math","log",r)}log10(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.log10",1,n,e);return new i.XsDouble("math","log10",r)}median(...e){let n=["arg",[i.XsDouble,p,m],!1,!0],r=c.makeSingleArgs("math.median",1,n,e);return new i.XsDouble("math","median",r)}mode(...e){let n=c.getNamer(e,"arg"),r=[["arg",[i.XsAnyAtomicType,p,m],!1,!0],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"math.mode",1,new Set(["arg","options"]),r,e):c.makePositionalArgs("math.mode",1,!1,r,e);return new i.XsAnyAtomicType("math","mode",a)}modf(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.modf",1,n,e);return new i.XsDouble("math","modf",r)}percentRank(...e){let n=c.getNamer(e,"arg"),r=[["arg",[i.XsAnyAtomicType,p,m],!1,!0],["value",[i.XsAnyAtomicType,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"math.percentRank",2,new Set(["arg","value","options"]),r,e):c.makePositionalArgs("math.percentRank",2,!1,r,e);return new i.XsDouble("math","percent-rank",a)}percentile(...e){let n=c.getNamer(e,"arg"),r=[["arg",[i.XsDouble,p,m],!1,!0],["p",[i.XsDouble,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"math.percentile",2,new Set(["arg","p"]),r,e):c.makePositionalArgs("math.percentile",2,!1,r,e);return new i.XsDouble("math","percentile",a)}pi(...e){return c.checkMaxArity("math.pi",e.length,0),new i.XsDouble("math","pi",e)}pow(...e){let n=c.getNamer(e,"x"),r=[["x",[i.XsDouble,p,m],!0,!1],["y",[i.XsDouble,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"math.pow",2,new Set(["x","y"]),r,e):c.makePositionalArgs("math.pow",2,!1,r,e);return new i.XsDouble("math","pow",a)}radians(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.radians",1,n,e);return new i.XsDouble("math","radians",r)}rank(...e){let n=c.getNamer(e,"arg1"),r=[["arg1",[i.XsAnyAtomicType,p,m],!1,!0],["arg2",[i.XsAnyAtomicType,p,m],!0,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"math.rank",2,new Set(["arg1","arg2","options"]),r,e):c.makePositionalArgs("math.rank",2,!1,r,e);return new i.XsInteger("math","rank",a)}sin(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.sin",1,n,e);return new i.XsDouble("math","sin",r)}sinh(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.sinh",1,n,e);return new i.XsDouble("math","sinh",r)}sqrt(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.sqrt",1,n,e);return new i.XsDouble("math","sqrt",r)}stddev(...e){let n=["arg",[i.XsDouble,p,m],!1,!0],r=c.makeSingleArgs("math.stddev",1,n,e);return new i.XsDouble("math","stddev",r)}stddevP(...e){let n=["arg",[i.XsDouble,p,m],!1,!0],r=c.makeSingleArgs("math.stddevP",1,n,e);return new i.XsDouble("math","stddev-p",r)}tan(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.tan",1,n,e);return new i.XsDouble("math","tan",r)}tanh(...e){let n=["x",[i.XsDouble,p,m],!0,!1],r=c.makeSingleArgs("math.tanh",1,n,e);return new i.XsDouble("math","tanh",r)}trunc(...e){let n=c.getNamer(e,"arg"),r=[["arg",[i.XsNumeric,p,m],!1,!1],["n",[i.XsInteger,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"math.trunc",1,new Set(["arg","n"]),r,e):c.makePositionalArgs("math.trunc",1,!1,r,e);return new i.XsNumeric("math","trunc",a)}variance(...e){let n=["arg",[i.XsDouble,p,m],!1,!0],r=c.makeSingleArgs("math.variance",1,n,e);return new i.XsDouble("math","variance",r)}varianceP(...e){let n=["arg",[i.XsDouble,p,m],!1,!0],r=c.makeSingleArgs("math.varianceP",1,n,e);return new i.XsDouble("math","variance-p",r)}};s(Bm,"MathExpr");var Io=Bm,jm=class jm{constructor(){}langString(...e){let n=c.getNamer(e,"string"),r=[["string",[i.XsString,p,m],!0,!1],["lang",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"rdf.langString",2,new Set(["string","lang"]),r,e):c.makePositionalArgs("rdf.langString",2,!1,r,e);return new i.RdfLangString("rdf","langString",a)}langStringLanguage(...e){let n=["val",[i.RdfLangString,p,m],!0,!1],r=c.makeSingleArgs("rdf.langStringLanguage",1,n,e);return new i.XsString("rdf","langString-language",r)}};s(jm,"RdfExpr");var Bo=jm,Lm=class Lm{constructor(){}bnode(...e){let n=["value",[i.XsAnyAtomicType,i.Node,p,m],!0,!1],r=c.makeSingleArgs("sem.bnode",0,n,e);return new i.SemBlank("sem","bnode",r)}coalesce(...e){let n=c.getNamer(e,"parameter1"),r=[["parameter1",[i.Item,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"sem.coalesce",1,new Set(["parameter1"]),r,e):c.makePositionalArgs("sem.coalesce",1,!0,r,e);return new i.Item("sem","coalesce",a)}datatype(...e){let n=["value",[i.XsAnyAtomicType,p,m],!0,!1],r=c.makeSingleArgs("sem.datatype",1,n,e);return new i.SemIri("sem","datatype",r)}defaultGraphIri(...e){return c.checkMaxArity("sem.defaultGraphIri",e.length,0),new i.SemIri("sem","default-graph-iri",e)}if(...e){let n=c.getNamer(e,"condition"),r=[["condition",[i.XsBoolean,p,m],!0,!1],["then",[i.Item,p,m],!1,!0],["else",[i.Item,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"sem.if",3,new Set(["condition","then","else"]),r,e):c.makePositionalArgs("sem.if",3,!1,r,e);return new i.Item("sem","if",a)}invalid(...e){let n=c.getNamer(e,"string"),r=[["string",[i.XsString,p,m],!0,!1],["datatype",[i.SemIri,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"sem.invalid",2,new Set(["string","datatype"]),r,e):c.makePositionalArgs("sem.invalid",2,!1,r,e);return new i.SemInvalid("sem","invalid",a)}invalidDatatype(...e){let n=["val",[i.SemInvalid,p,m],!0,!1],r=c.makeSingleArgs("sem.invalidDatatype",1,n,e);return new i.SemIri("sem","invalid-datatype",r)}iri(...e){let n=["string-iri",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("sem.iri",1,n,e);return new i.SemIri("sem","iri",r)}iriToQName(...e){let n=["arg1",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("sem.iriToQName",1,n,e);return new i.XsQName("sem","iri-to-QName",r)}isBlank(...e){let n=["value",[i.XsAnyAtomicType,p,m],!0,!1],r=c.makeSingleArgs("sem.isBlank",1,n,e);return new i.XsBoolean("sem","isBlank",r)}isIRI(...e){let n=["value",[i.XsAnyAtomicType,p,m],!0,!1],r=c.makeSingleArgs("sem.isIRI",1,n,e);return new i.XsBoolean("sem","isIRI",r)}isLiteral(...e){let n=["value",[i.XsAnyAtomicType,p,m],!0,!1],r=c.makeSingleArgs("sem.isLiteral",1,n,e);return new i.XsBoolean("sem","isLiteral",r)}isNumeric(...e){let n=["value",[i.XsAnyAtomicType,p,m],!0,!1],r=c.makeSingleArgs("sem.isNumeric",1,n,e);return new i.XsBoolean("sem","isNumeric",r)}lang(...e){let n=["value",[i.XsAnyAtomicType,p,m],!0,!1],r=c.makeSingleArgs("sem.lang",1,n,e);return new i.XsString("sem","lang",r)}langMatches(...e){let n=c.getNamer(e,"lang-tag"),r=[["lang-tag",[i.XsString,p,m],!0,!1],["lang-range",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"sem.langMatches",2,new Set(["lang-tag","lang-range"]),r,e):c.makePositionalArgs("sem.langMatches",2,!1,r,e);return new i.XsBoolean("sem","langMatches",a)}QNameToIri(...e){let n=["arg1",[i.XsQName,p,m],!0,!1],r=c.makeSingleArgs("sem.QNameToIri",1,n,e);return new i.SemIri("sem","QName-to-iri",r)}random(...e){return c.checkMaxArity("sem.random",e.length,0),new i.XsDouble("sem","random",e)}rulesetStore(...e){let n=c.getNamer(e,"locations"),r=[["locations",[i.XsString],!1,!0],["store",[i.SemStore],!1,!0],["options",[i.XsString],!1,!0]],a=n!==null?c.makeNamedArgs(n,"sem.rulesetStore",1,new Set(["locations","store","options"]),r,e):c.makePositionalArgs("sem.rulesetStore",1,!1,r,e);return new i.SemStore("sem","ruleset-store",a)}sameTerm(...e){let n=c.getNamer(e,"a"),r=[["a",[i.XsAnyAtomicType,p,m],!1,!0],["b",[i.XsAnyAtomicType,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"sem.sameTerm",2,new Set(["a","b"]),r,e):c.makePositionalArgs("sem.sameTerm",2,!1,r,e);return new i.XsBoolean("sem","sameTerm",a)}store(...e){let n=c.getNamer(e,"options"),r=[["options",[i.XsString],!1,!0],["query",[i.CtsQuery],!1,!1]],a=n!==null?c.makeNamedArgs(n,"sem.store",0,new Set(["options","query"]),r,e):c.makePositionalArgs("sem.store",0,!1,r,e);return new i.SemStore("sem","store",a)}timezoneString(...e){let n=["value",[i.XsDateTime,p,m],!0,!1],r=c.makeSingleArgs("sem.timezoneString",1,n,e);return new i.XsString("sem","timezone-string",r)}typedLiteral(...e){let n=c.getNamer(e,"value"),r=[["value",[i.XsString,p,m],!0,!1],["datatype",[i.SemIri,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"sem.typedLiteral",2,new Set(["value","datatype"]),r,e):c.makePositionalArgs("sem.typedLiteral",2,!1,r,e);return new i.XsAnyAtomicType("sem","typed-literal",a)}unknown(...e){let n=c.getNamer(e,"string"),r=[["string",[i.XsString,p,m],!0,!1],["datatype",[i.SemIri,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"sem.unknown",2,new Set(["string","datatype"]),r,e):c.makePositionalArgs("sem.unknown",2,!1,r,e);return new i.SemUnknown("sem","unknown",a)}unknownDatatype(...e){let n=["val",[i.SemUnknown,p,m],!0,!1],r=c.makeSingleArgs("sem.unknownDatatype",1,n,e);return new i.SemIri("sem","unknown-datatype",r)}uuid(...e){return c.checkMaxArity("sem.uuid",e.length,0),new i.SemIri("sem","uuid",e)}uuidString(...e){return c.checkMaxArity("sem.uuidString",e.length,0),new i.XsString("sem","uuid-string",e)}};s(Lm,"SemExpr");var jo=Lm,Mm=class Mm{constructor(){}doubleMetaphone(...e){let n=["word",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("spell.doubleMetaphone",1,n,e);return new i.XsString("spell","double-metaphone",r)}levenshteinDistance(...e){let n=c.getNamer(e,"str1"),r=[["str1",[i.XsString,p,m],!0,!1],["str2",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"spell.levenshteinDistance",2,new Set(["str1","str2"]),r,e):c.makePositionalArgs("spell.levenshteinDistance",2,!1,r,e);return new i.XsInteger("spell","levenshtein-distance",a)}romanize(...e){let n=["string",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("spell.romanize",1,n,e);return new i.XsString("spell","romanize",r)}};s(Mm,"SpellExpr");var Lo=Mm,Fm=class Fm{constructor(){}bitLength(...e){let n=["str",[i.XsString,p,m],!1,!1],r=c.makeSingleArgs("sql.bitLength",1,n,e);return new i.XsInteger("sql","bit-length",r)}bucket(...e){let n=c.getNamer(e,"bucketEdgesParam"),r=[["bucketEdgesParam",[i.XsAnyAtomicType,p,m],!1,!0],["srchParam",[i.XsAnyAtomicType,p,m],!0,!1],["collationLiteral",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"sql.bucket",2,new Set(["bucketEdgesParam","srchParam","collationLiteral"]),r,e):c.makePositionalArgs("sql.bucket",2,!1,r,e);return new i.XsUnsignedLong("sql","bucket",a)}collatedString(...e){let n=c.getNamer(e,"string"),r=[["string",[i.XsString,p,m],!0,!1],["collationURI",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"sql.collatedString",2,new Set(["string","collationURI"]),r,e):c.makePositionalArgs("sql.collatedString",2,!1,r,e);return new i.XsString("sql","collated-string",a)}dateadd(...e){let n=c.getNamer(e,"datepart"),r=[["datepart",[i.XsString,p,m],!1,!1],["number",[i.XsInt,p,m],!1,!1],["date",[i.Item,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"sql.dateadd",3,new Set(["datepart","number","date"]),r,e):c.makePositionalArgs("sql.dateadd",3,!1,r,e);return new i.Item("sql","dateadd",a)}datediff(...e){let n=c.getNamer(e,"datepart"),r=[["datepart",[i.XsString,p,m],!1,!1],["startdate",[i.Item,p,m],!1,!1],["enddate",[i.Item,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"sql.datediff",3,new Set(["datepart","startdate","enddate"]),r,e):c.makePositionalArgs("sql.datediff",3,!1,r,e);return new i.XsInteger("sql","datediff",a)}datepart(...e){let n=c.getNamer(e,"datepart"),r=[["datepart",[i.XsString,p,m],!0,!1],["date",[i.Item,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"sql.datepart",2,new Set(["datepart","date"]),r,e):c.makePositionalArgs("sql.datepart",2,!1,r,e);return new i.XsInteger("sql","datepart",a)}day(...e){let n=["arg",[i.Item,p,m],!1,!1],r=c.makeSingleArgs("sql.day",1,n,e);return new i.XsInteger("sql","day",r)}dayname(...e){let n=["arg",[i.Item,p,m],!1,!1],r=c.makeSingleArgs("sql.dayname",1,n,e);return new i.XsString("sql","dayname",r)}glob(...e){let n=c.getNamer(e,"input"),r=[["input",[i.XsString,p,m],!1,!1],["pattern",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"sql.glob",2,new Set(["input","pattern"]),r,e):c.makePositionalArgs("sql.glob",2,!1,r,e);return new i.XsBoolean("sql","glob",a)}hours(...e){let n=["arg",[i.Item,p,m],!1,!1],r=c.makeSingleArgs("sql.hours",1,n,e);return new i.XsInteger("sql","hours",r)}ifnull(...e){let n=c.getNamer(e,"expr1"),r=[["expr1",[i.Item,p,m],!1,!0],["expr2",[i.Item,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"sql.ifnull",2,new Set(["expr1","expr2"]),r,e):c.makePositionalArgs("sql.ifnull",2,!1,r,e);return new i.XsAnyAtomicType("sql","ifnull",a)}insert(...e){let n=c.getNamer(e,"str"),r=[["str",[i.XsString,p,m],!0,!1],["start",[i.XsNumeric,p,m],!0,!1],["length",[i.XsNumeric,p,m],!0,!1],["str2",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"sql.insert",4,new Set(["str","start","length","str2"]),r,e):c.makePositionalArgs("sql.insert",4,!1,r,e);return new i.XsString("sql","insert",a)}instr(...e){let n=c.getNamer(e,"str"),r=[["str",[i.XsString,p,m],!0,!1],["n",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"sql.instr",2,new Set(["str","n"]),r,e):c.makePositionalArgs("sql.instr",2,!1,r,e);return new i.XsUnsignedInt("sql","instr",a)}left(...e){let n=c.getNamer(e,"str"),r=[["str",[i.XsAnyAtomicType,p,m],!1,!1],["n",[i.XsNumeric,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"sql.left",2,new Set(["str","n"]),r,e):c.makePositionalArgs("sql.left",2,!1,r,e);return new i.XsString("sql","left",a)}like(...e){let n=c.getNamer(e,"input"),r=[["input",[i.XsString,p,m],!1,!1],["pattern",[i.XsString,p,m],!0,!1],["escape",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"sql.like",2,new Set(["input","pattern","escape"]),r,e):c.makePositionalArgs("sql.like",2,!1,r,e);return new i.XsBoolean("sql","like",a)}ltrim(...e){let n=["str",[i.XsString,p,m],!1,!1],r=c.makeSingleArgs("sql.ltrim",1,n,e);return new i.XsString("sql","ltrim",r)}minutes(...e){let n=["arg",[i.Item,p,m],!1,!1],r=c.makeSingleArgs("sql.minutes",1,n,e);return new i.XsInteger("sql","minutes",r)}month(...e){let n=["arg",[i.Item,p,m],!1,!1],r=c.makeSingleArgs("sql.month",1,n,e);return new i.XsInteger("sql","month",r)}monthname(...e){let n=["arg",[i.Item,p,m],!1,!1],r=c.makeSingleArgs("sql.monthname",1,n,e);return new i.XsString("sql","monthname",r)}nullif(...e){let n=c.getNamer(e,"expr1"),r=[["expr1",[i.Item,p,m],!1,!0],["expr2",[i.Item,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"sql.nullif",2,new Set(["expr1","expr2"]),r,e):c.makePositionalArgs("sql.nullif",2,!1,r,e);return new i.XsAnyAtomicType("sql","nullif",a)}octetLength(...e){let n=["x",[i.XsString,p,m],!1,!1],r=c.makeSingleArgs("sql.octetLength",1,n,e);return new i.XsInteger("sql","octet-length",r)}quarter(...e){let n=["arg",[i.Item,p,m],!1,!1],r=c.makeSingleArgs("sql.quarter",1,n,e);return new i.XsInteger("sql","quarter",r)}rand(...e){let n=["n",[i.XsUnsignedLong,p,m],!0,!1],r=c.makeSingleArgs("sql.rand",1,n,e);return new i.XsUnsignedLong("sql","rand",r)}repeat(...e){let n=c.getNamer(e,"str"),r=[["str",[i.Item,p,m],!1,!0],["n",[i.XsNumeric,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"sql.repeat",2,new Set(["str","n"]),r,e):c.makePositionalArgs("sql.repeat",2,!1,r,e);return new i.XsString("sql","repeat",a)}right(...e){let n=c.getNamer(e,"str"),r=[["str",[i.XsAnyAtomicType,p,m],!1,!1],["n",[i.XsNumeric,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"sql.right",2,new Set(["str","n"]),r,e):c.makePositionalArgs("sql.right",2,!1,r,e);return new i.XsString("sql","right",a)}rowID(...e){let n=["arg1",[i.XsAnyAtomicType,p,m],!1,!1],r=c.makeSingleArgs("sql.rowID",1,n,e);return new i.SqlRowID("sql","rowID",r)}rtrim(...e){let n=["str",[i.XsString,p,m],!1,!1],r=c.makeSingleArgs("sql.rtrim",1,n,e);return new i.XsString("sql","rtrim",r)}seconds(...e){let n=["arg",[i.Item,p,m],!1,!1],r=c.makeSingleArgs("sql.seconds",1,n,e);return new i.XsDecimal("sql","seconds",r)}sign(...e){let n=["x",[i.XsNumeric,p,m],!1,!1],r=c.makeSingleArgs("sql.sign",1,n,e);return new i.XsNumeric("sql","sign",r)}soundex(...e){let n=["arg",[i.XsString,p,m],!1,!1],r=c.makeSingleArgs("sql.soundex",1,n,e);return new i.XsString("sql","soundex",r)}space(...e){let n=["n",[i.XsNumeric,p,m],!1,!1],r=c.makeSingleArgs("sql.space",1,n,e);return new i.XsString("sql","space",r)}strpos(...e){let n=c.getNamer(e,"target"),r=[["target",[i.XsString,p,m],!1,!1],["test",[i.XsString,p,m],!1,!1],["collation",[i.XsString,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"sql.strpos",2,new Set(["target","test","collation"]),r,e):c.makePositionalArgs("sql.strpos",2,!1,r,e);return new i.XsInteger("sql","strpos",a)}timestampadd(...e){let n=c.getNamer(e,"dateTimeType"),r=[["dateTimeType",[i.XsString,p,m],!1,!1],["value",[i.XsInt,p,m],!1,!1],["timestamp",[i.Item,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"sql.timestampadd",3,new Set(["dateTimeType","value","timestamp"]),r,e):c.makePositionalArgs("sql.timestampadd",3,!1,r,e);return new i.Item("sql","timestampadd",a)}timestampdiff(...e){let n=c.getNamer(e,"dateTimeType"),r=[["dateTimeType",[i.XsString,p,m],!1,!1],["timestamp1",[i.Item,p,m],!1,!1],["timestamp2",[i.Item,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"sql.timestampdiff",3,new Set(["dateTimeType","timestamp1","timestamp2"]),r,e):c.makePositionalArgs("sql.timestampdiff",3,!1,r,e);return new i.XsInteger("sql","timestampdiff",a)}trim(...e){let n=["str",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("sql.trim",1,n,e);return new i.XsString("sql","trim",r)}week(...e){let n=["arg",[i.Item,p,m],!1,!1],r=c.makeSingleArgs("sql.week",1,n,e);return new i.XsInteger("sql","week",r)}weekday(...e){let n=["arg1",[i.Item,p,m],!1,!1],r=c.makeSingleArgs("sql.weekday",1,n,e);return new i.XsInteger("sql","weekday",r)}year(...e){let n=["arg",[i.Item,p,m],!1,!1],r=c.makeSingleArgs("sql.year",1,n,e);return new i.XsInteger("sql","year",r)}yearday(...e){let n=["arg",[i.Item,p,m],!1,!1],r=c.makeSingleArgs("sql.yearday",1,n,e);return new i.XsInteger("sql","yearday",r)}};s(Fm,"SqlExpr");var Mo=Fm,$m=class $m{constructor(){}add64(...e){let n=c.getNamer(e,"x"),r=[["x",[i.XsUnsignedLong,p,m],!0,!1],["y",[i.XsUnsignedLong,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.add64",2,new Set(["x","y"]),r,e):c.makePositionalArgs("xdmp.add64",2,!1,r,e);return new i.XsUnsignedLong("xdmp","add64",a)}and64(...e){let n=c.getNamer(e,"x"),r=[["x",[i.XsUnsignedLong,p,m],!0,!1],["y",[i.XsUnsignedLong,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.and64",2,new Set(["x","y"]),r,e):c.makePositionalArgs("xdmp.and64",2,!1,r,e);return new i.XsUnsignedLong("xdmp","and64",a)}base64Decode(...e){let n=["encoded",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("xdmp.base64Decode",1,n,e);return new i.XsString("xdmp","base64-decode",r)}base64Encode(...e){let n=["plaintext",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("xdmp.base64Encode",1,n,e);return new i.XsString("xdmp","base64-encode",r)}castableAs(...e){let n=c.getNamer(e,"namespace-uri"),r=[["namespace-uri",[i.XsString,p,m],!0,!1],["local-name",[i.XsString,p,m],!0,!1],["item",[i.Item,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.castableAs",3,new Set(["namespace-uri","local-name","item"]),r,e):c.makePositionalArgs("xdmp.castableAs",3,!1,r,e);return new i.XsBoolean("xdmp","castable-as",a)}crypt(...e){let n=c.getNamer(e,"password"),r=[["password",[i.XsString,p,m],!0,!1],["salt",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.crypt",2,new Set(["password","salt"]),r,e):c.makePositionalArgs("xdmp.crypt",2,!1,r,e);return new i.XsString("xdmp","crypt",a)}crypt2(...e){let n=["password",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("xdmp.crypt2",1,n,e);return new i.XsString("xdmp","crypt2",r)}daynameFromDate(...e){let n=["arg",[i.XsDate,p,m],!1,!1],r=c.makeSingleArgs("xdmp.daynameFromDate",1,n,e);return new i.XsString("xdmp","dayname-from-date",r)}decodeFromNCName(...e){let n=["name",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("xdmp.decodeFromNCName",1,n,e);return new i.XsString("xdmp","decode-from-NCName",r)}describe(...e){let n=c.getNamer(e,"item"),r=[["item",[i.Item,p,m],!1,!0],["max-sequence-length",[i.XsUnsignedInt,p,m],!1,!1],["max-item-length",[i.XsUnsignedInt,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.describe",1,new Set(["item","max-sequence-length","max-item-length"]),r,e):c.makePositionalArgs("xdmp.describe",1,!1,r,e);return new i.XsString("xdmp","describe",a)}diacriticLess(...e){let n=["string",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("xdmp.diacriticLess",1,n,e);return new i.XsString("xdmp","diacritic-less",r)}elementContentType(...e){let n=["element",[i.ElementNode,p,m],!0,!1],r=c.makeSingleArgs("xdmp.elementContentType",1,n,e);return new i.XsString("xdmp","element-content-type",r)}encodeForNCName(...e){let n=["name",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("xdmp.encodeForNCName",1,n,e);return new i.XsString("xdmp","encode-for-NCName",r)}formatNumber(...e){let n=c.getNamer(e,"value"),r=[["value",[i.XsNumeric,p,m],!1,!0],["picture",[i.XsString,p,m],!1,!1],["language",[i.XsString,p,m],!1,!1],["letter-value",[i.XsString,p,m],!1,!1],["ordchar",[i.XsString,p,m],!1,!1],["zero-padding",[i.XsString,p,m],!1,!1],["grouping-separator",[i.XsString,p,m],!1,!1],["grouping-size",[i.XsInteger,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.formatNumber",1,new Set(["value","picture","language","letter-value","ordchar","zero-padding","grouping-separator","grouping-size"]),r,e):c.makePositionalArgs("xdmp.formatNumber",1,!1,r,e);return new i.XsString("xdmp","format-number",a)}fromJson(...e){let n=["arg",[i.Node,p,m],!0,!1],r=c.makeSingleArgs("xdmp.fromJson",1,n,e);return new i.Item("xdmp","from-json",r)}getCurrentUser(...e){return c.checkMaxArity("xdmp.getCurrentUser",e.length,0),new i.XsString("xdmp","get-current-user",e)}hash32(...e){let n=["string",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("xdmp.hash32",1,n,e);return new i.XsUnsignedInt("xdmp","hash32",r)}hash64(...e){let n=["string",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("xdmp.hash64",1,n,e);return new i.XsUnsignedLong("xdmp","hash64",r)}hexToInteger(...e){let n=["hex",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("xdmp.hexToInteger",1,n,e);return new i.XsInteger("xdmp","hex-to-integer",r)}hmacMd5(...e){let n=c.getNamer(e,"secretkey"),r=[["secretkey",[i.Item,p,m],!0,!1],["message",[i.Item,p,m],!0,!1],["encoding",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.hmacMd5",2,new Set(["secretkey","message","encoding"]),r,e):c.makePositionalArgs("xdmp.hmacMd5",2,!1,r,e);return new i.XsString("xdmp","hmac-md5",a)}hmacSha1(...e){let n=c.getNamer(e,"secretkey"),r=[["secretkey",[i.Item,p,m],!0,!1],["message",[i.Item,p,m],!0,!1],["encoding",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.hmacSha1",2,new Set(["secretkey","message","encoding"]),r,e):c.makePositionalArgs("xdmp.hmacSha1",2,!1,r,e);return new i.XsString("xdmp","hmac-sha1",a)}hmacSha256(...e){let n=c.getNamer(e,"secretkey"),r=[["secretkey",[i.Item,p,m],!0,!1],["message",[i.Item,p,m],!0,!1],["encoding",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.hmacSha256",2,new Set(["secretkey","message","encoding"]),r,e):c.makePositionalArgs("xdmp.hmacSha256",2,!1,r,e);return new i.XsString("xdmp","hmac-sha256",a)}hmacSha512(...e){let n=c.getNamer(e,"secretkey"),r=[["secretkey",[i.Item,p,m],!0,!1],["message",[i.Item,p,m],!0,!1],["encoding",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.hmacSha512",2,new Set(["secretkey","message","encoding"]),r,e):c.makePositionalArgs("xdmp.hmacSha512",2,!1,r,e);return new i.XsString("xdmp","hmac-sha512",a)}initcap(...e){let n=["string",[i.XsString,p,m],!1,!1],r=c.makeSingleArgs("xdmp.initcap",1,n,e);return new i.XsString("xdmp","initcap",r)}integerToHex(...e){let n=["val",[i.XsInteger,p,m],!0,!1],r=c.makeSingleArgs("xdmp.integerToHex",1,n,e);return new i.XsString("xdmp","integer-to-hex",r)}integerToOctal(...e){let n=["val",[i.XsInteger,p,m],!0,!1],r=c.makeSingleArgs("xdmp.integerToOctal",1,n,e);return new i.XsString("xdmp","integer-to-octal",r)}keyFromQName(...e){let n=["name",[i.XsQName,p,m],!0,!1],r=c.makeSingleArgs("xdmp.keyFromQName",1,n,e);return new i.XsString("xdmp","key-from-QName",r)}lshift64(...e){let n=c.getNamer(e,"x"),r=[["x",[i.XsUnsignedLong,p,m],!0,!1],["y",[i.XsLong,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.lshift64",2,new Set(["x","y"]),r,e):c.makePositionalArgs("xdmp.lshift64",2,!1,r,e);return new i.XsUnsignedLong("xdmp","lshift64",a)}md5(...e){let n=c.getNamer(e,"data"),r=[["data",[i.Item,p,m],!0,!1],["encoding",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.md5",1,new Set(["data","encoding"]),r,e):c.makePositionalArgs("xdmp.md5",1,!1,r,e);return new i.XsString("xdmp","md5",a)}monthNameFromDate(...e){let n=["arg",[i.XsDate,p,m],!1,!1],r=c.makeSingleArgs("xdmp.monthNameFromDate",1,n,e);return new i.XsString("xdmp","month-name-from-date",r)}mul64(...e){let n=c.getNamer(e,"x"),r=[["x",[i.XsUnsignedLong,p,m],!0,!1],["y",[i.XsUnsignedLong,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.mul64",2,new Set(["x","y"]),r,e):c.makePositionalArgs("xdmp.mul64",2,!1,r,e);return new i.XsUnsignedLong("xdmp","mul64",a)}nodeCollections(...e){let n=["node",[i.Node,p,m],!0,!1],r=c.makeSingleArgs("xdmp.nodeCollections",1,n,e);return new i.XsString("xdmp","node-collections",r)}nodeKind(...e){let n=["node",[i.Node,p,m],!0,!1],r=c.makeSingleArgs("xdmp.nodeKind",1,n,e);return new i.XsString("xdmp","node-kind",r)}nodeMetadata(...e){let n=["node",[i.Node,p,m],!0,!1],r=c.makeSingleArgs("xdmp.nodeMetadata",1,n,e);return new i.MapMap("xdmp","node-metadata",r)}nodeMetadataValue(...e){let n=c.getNamer(e,"node"),r=[["node",[i.Node,p,m],!0,!1],["keyName",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.nodeMetadataValue",2,new Set(["node","keyName"]),r,e):c.makePositionalArgs("xdmp.nodeMetadataValue",2,!1,r,e);return new i.XsString("xdmp","node-metadata-value",a)}nodePermissions(...e){let n=c.getNamer(e,"node"),r=[["node",[i.Node,p,m],!0,!1],["output-kind",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.nodePermissions",1,new Set(["node","output-kind"]),r,e):c.makePositionalArgs("xdmp.nodePermissions",1,!1,r,e);return new i.Item("xdmp","node-permissions",a)}nodeUri(...e){let n=["node",[i.Node,p,m],!0,!1],r=c.makeSingleArgs("xdmp.nodeUri",1,n,e);return new i.XsString("xdmp","node-uri",r)}not64(...e){let n=["x",[i.XsUnsignedLong,p,m],!0,!1],r=c.makeSingleArgs("xdmp.not64",1,n,e);return new i.XsUnsignedLong("xdmp","not64",r)}octalToInteger(...e){let n=["octal",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("xdmp.octalToInteger",1,n,e);return new i.XsInteger("xdmp","octal-to-integer",r)}or64(...e){let n=c.getNamer(e,"x"),r=[["x",[i.XsUnsignedLong,p,m],!0,!1],["y",[i.XsUnsignedLong,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.or64",2,new Set(["x","y"]),r,e):c.makePositionalArgs("xdmp.or64",2,!1,r,e);return new i.XsUnsignedLong("xdmp","or64",a)}parseDateTime(...e){let n=c.getNamer(e,"picture"),r=[["picture",[i.XsString,p,m],!0,!1],["value",[i.XsString,p,m],!0,!1],["language",[i.XsString,p,m],!1,!1],["calendar",[i.XsString,p,m],!1,!1],["country",[i.XsString,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.parseDateTime",2,new Set(["picture","value","language","calendar","country"]),r,e):c.makePositionalArgs("xdmp.parseDateTime",2,!1,r,e);return new i.XsDateTime("xdmp","parse-dateTime",a)}parseYymmdd(...e){let n=c.getNamer(e,"picture"),r=[["picture",[i.XsString,p,m],!0,!1],["value",[i.XsString,p,m],!0,!1],["language",[i.XsString,p,m],!1,!1],["calendar",[i.XsString,p,m],!1,!1],["country",[i.XsString,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.parseYymmdd",2,new Set(["picture","value","language","calendar","country"]),r,e):c.makePositionalArgs("xdmp.parseYymmdd",2,!1,r,e);return new i.XsDateTime("xdmp","parse-yymmdd",a)}path(...e){let n=c.getNamer(e,"node"),r=[["node",[i.Node,p,m],!0,!1],["include-document",[i.XsBoolean,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.path",1,new Set(["node","include-document"]),r,e):c.makePositionalArgs("xdmp.path",1,!1,r,e);return new i.XsString("xdmp","path",a)}position(...e){let n=c.getNamer(e,"test"),r=[["test",[i.XsString,p,m],!1,!1],["target",[i.XsString,p,m],!1,!1],["collation",[i.XsString,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.position",2,new Set(["test","target","collation"]),r,e):c.makePositionalArgs("xdmp.position",2,!1,r,e);return new i.XsInteger("xdmp","position",a)}QNameFromKey(...e){let n=["key",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("xdmp.QNameFromKey",1,n,e);return new i.XsQName("xdmp","QName-from-key",r)}quarterFromDate(...e){let n=["arg",[i.XsDate,p,m],!1,!1],r=c.makeSingleArgs("xdmp.quarterFromDate",1,n,e);return new i.XsInteger("xdmp","quarter-from-date",r)}random(...e){let n=["max",[i.XsUnsignedLong,p,m],!0,!1],r=c.makeSingleArgs("xdmp.random",0,n,e);return new i.XsUnsignedLong("xdmp","random",r)}resolveUri(...e){let n=c.getNamer(e,"relative"),r=[["relative",[i.XsString,p,m],!1,!1],["base",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.resolveUri",2,new Set(["relative","base"]),r,e):c.makePositionalArgs("xdmp.resolveUri",2,!1,r,e);return new i.XsAnyURI("xdmp","resolve-uri",a)}rshift64(...e){let n=c.getNamer(e,"x"),r=[["x",[i.XsUnsignedLong,p,m],!0,!1],["y",[i.XsLong,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.rshift64",2,new Set(["x","y"]),r,e):c.makePositionalArgs("xdmp.rshift64",2,!1,r,e);return new i.XsUnsignedLong("xdmp","rshift64",a)}sha1(...e){let n=c.getNamer(e,"data"),r=[["data",[i.Item,p,m],!0,!1],["encoding",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.sha1",1,new Set(["data","encoding"]),r,e):c.makePositionalArgs("xdmp.sha1",1,!1,r,e);return new i.XsString("xdmp","sha1",a)}sha256(...e){let n=c.getNamer(e,"data"),r=[["data",[i.Item,p,m],!0,!1],["encoding",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.sha256",1,new Set(["data","encoding"]),r,e):c.makePositionalArgs("xdmp.sha256",1,!1,r,e);return new i.XsString("xdmp","sha256",a)}sha384(...e){let n=c.getNamer(e,"data"),r=[["data",[i.Item,p,m],!0,!1],["encoding",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.sha384",1,new Set(["data","encoding"]),r,e):c.makePositionalArgs("xdmp.sha384",1,!1,r,e);return new i.XsString("xdmp","sha384",a)}sha512(...e){let n=c.getNamer(e,"data"),r=[["data",[i.Item,p,m],!0,!1],["encoding",[i.XsString,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.sha512",1,new Set(["data","encoding"]),r,e):c.makePositionalArgs("xdmp.sha512",1,!1,r,e);return new i.XsString("xdmp","sha512",a)}step64(...e){let n=c.getNamer(e,"initial"),r=[["initial",[i.XsUnsignedLong,p,m],!0,!1],["step",[i.XsUnsignedLong,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.step64",2,new Set(["initial","step"]),r,e):c.makePositionalArgs("xdmp.step64",2,!1,r,e);return new i.XsUnsignedLong("xdmp","step64",a)}strftime(...e){let n=c.getNamer(e,"format"),r=[["format",[i.XsString,p,m],!0,!1],["value",[i.XsDateTime,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.strftime",2,new Set(["format","value"]),r,e):c.makePositionalArgs("xdmp.strftime",2,!1,r,e);return new i.XsString("xdmp","strftime",a)}timestampToWallclock(...e){let n=["timestamp",[i.XsUnsignedLong,p,m],!0,!1],r=c.makeSingleArgs("xdmp.timestampToWallclock",1,n,e);return new i.XsDateTime("xdmp","timestamp-to-wallclock",r)}toJson(...e){let n=["item",[i.Item,p,m],!1,!0],r=c.makeSingleArgs("xdmp.toJson",1,n,e);return new i.Node("xdmp","to-json",r)}type(...e){let n=["value",[i.XsAnyAtomicType,p,m],!0,!1],r=c.makeSingleArgs("xdmp.type",1,n,e);return new i.XsQName("xdmp","type",r)}unquote(...e){let n=c.getNamer(e,"arg"),r=[["arg",[i.XsString,p,m],!0,!1],["default-namespace",[i.XsString,p,m],!1,!1],["options",[i.XsString,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"xdmp.unquote",1,new Set(["arg","default-namespace","options"]),r,e):c.makePositionalArgs("xdmp.unquote",1,!1,r,e);return new i.DocumentNode("xdmp","unquote",a)}uriContentType(...e){let n=["uri",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("xdmp.uriContentType",1,n,e);return new i.XsString("xdmp","uri-content-type",r)}uriFormat(...e){let n=["uri",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("xdmp.uriFormat",1,n,e);return new i.XsString("xdmp","uri-format",r)}urlDecode(...e){let n=["encoded",[i.XsString,p,m],!0,!1],r=c.makeSingleArgs("xdmp.urlDecode",1,n,e);return new i.XsString("xdmp","url-decode",r)}urlEncode(...e){let n=c.getNamer(e,"plaintext"),r=[["plaintext",[i.XsString,p,m],!0,!1],["noSpacePlus",[i.XsBoolean,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.urlEncode",1,new Set(["plaintext","noSpacePlus"]),r,e):c.makePositionalArgs("xdmp.urlEncode",1,!1,r,e);return new i.XsString("xdmp","url-encode",a)}wallclockToTimestamp(...e){let n=["timestamp",[i.XsDateTime,p,m],!0,!1],r=c.makeSingleArgs("xdmp.wallclockToTimestamp",1,n,e);return new i.XsUnsignedLong("xdmp","wallclock-to-timestamp",r)}weekFromDate(...e){let n=["arg",[i.XsDate,p,m],!1,!1],r=c.makeSingleArgs("xdmp.weekFromDate",1,n,e);return new i.XsInteger("xdmp","week-from-date",r)}weekdayFromDate(...e){let n=["arg",[i.XsDate,p,m],!1,!1],r=c.makeSingleArgs("xdmp.weekdayFromDate",1,n,e);return new i.XsInteger("xdmp","weekday-from-date",r)}xor64(...e){let n=c.getNamer(e,"x"),r=[["x",[i.XsUnsignedLong,p,m],!0,!1],["y",[i.XsUnsignedLong,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"xdmp.xor64",2,new Set(["x","y"]),r,e):c.makePositionalArgs("xdmp.xor64",2,!1,r,e);return new i.XsUnsignedLong("xdmp","xor64",a)}yeardayFromDate(...e){let n=["arg",[i.XsDate,p,m],!1,!1],r=c.makeSingleArgs("xdmp.yeardayFromDate",1,n,e);return new i.XsInteger("xdmp","yearday-from-date",r)}};s($m,"XdmpExpr");var Fo=$m,Um=class Um{constructor(){}anyURI(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.anyURI",1,n,e);return new i.XsAnyURI("xs","anyURI",r)}base64Binary(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.base64Binary",1,n,e);return new i.XsBase64Binary("xs","base64Binary",r)}boolean(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.boolean",1,n,e);return new i.XsBoolean("xs","boolean",r)}byte(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.byte",1,n,e);return new i.XsByte("xs","byte",r)}date(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.date",1,n,e);return new i.XsDate("xs","date",r)}dateTime(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.dateTime",1,n,e);return new i.XsDateTime("xs","dateTime",r)}dayTimeDuration(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.dayTimeDuration",1,n,e);return new i.XsDayTimeDuration("xs","dayTimeDuration",r)}decimal(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.decimal",1,n,e);return new i.XsDecimal("xs","decimal",r)}double(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.double",1,n,e);return new i.XsDouble("xs","double",r)}float(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.float",1,n,e);return new i.XsFloat("xs","float",r)}gDay(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.gDay",1,n,e);return new i.XsGDay("xs","gDay",r)}gMonth(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.gMonth",1,n,e);return new i.XsGMonth("xs","gMonth",r)}gMonthDay(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.gMonthDay",1,n,e);return new i.XsGMonthDay("xs","gMonthDay",r)}gYear(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.gYear",1,n,e);return new i.XsGYear("xs","gYear",r)}gYearMonth(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.gYearMonth",1,n,e);return new i.XsGYearMonth("xs","gYearMonth",r)}hexBinary(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.hexBinary",1,n,e);return new i.XsHexBinary("xs","hexBinary",r)}int(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.int",1,n,e);return new i.XsInt("xs","int",r)}integer(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.integer",1,n,e);return new i.XsInteger("xs","integer",r)}language(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.language",1,n,e);return new i.XsLanguage("xs","language",r)}long(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.long",1,n,e);return new i.XsLong("xs","long",r)}Name(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.Name",1,n,e);return new i.XsName("xs","Name",r)}NCName(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.NCName",1,n,e);return new i.XsNCName("xs","NCName",r)}negativeInteger(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.negativeInteger",1,n,e);return new i.XsNegativeInteger("xs","negativeInteger",r)}NMTOKEN(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.NMTOKEN",1,n,e);return new i.XsNMTOKEN("xs","NMTOKEN",r)}nonNegativeInteger(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.nonNegativeInteger",1,n,e);return new i.XsNonNegativeInteger("xs","nonNegativeInteger",r)}nonPositiveInteger(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.nonPositiveInteger",1,n,e);return new i.XsNonPositiveInteger("xs","nonPositiveInteger",r)}normalizedString(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.normalizedString",1,n,e);return new i.XsNormalizedString("xs","normalizedString",r)}numeric(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.numeric",1,n,e);return new i.XsNumeric("xs","numeric",r)}positiveInteger(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.positiveInteger",1,n,e);return new i.XsPositiveInteger("xs","positiveInteger",r)}QName(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.QName",1,n,e);return new i.XsQName("xs","QName",r)}short(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.short",1,n,e);return new i.XsShort("xs","short",r)}string(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.string",1,n,e);return new i.XsString("xs","string",r)}time(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.time",1,n,e);return new i.XsTime("xs","time",r)}token(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.token",1,n,e);return new i.XsToken("xs","token",r)}unsignedByte(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.unsignedByte",1,n,e);return new i.XsUnsignedByte("xs","unsignedByte",r)}unsignedInt(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.unsignedInt",1,n,e);return new i.XsUnsignedInt("xs","unsignedInt",r)}unsignedLong(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.unsignedLong",1,n,e);return new i.XsUnsignedLong("xs","unsignedLong",r)}unsignedShort(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.unsignedShort",1,n,e);return new i.XsUnsignedShort("xs","unsignedShort",r)}untypedAtomic(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.untypedAtomic",1,n,e);return new i.XsUntypedAtomic("xs","untypedAtomic",r)}yearMonthDuration(...e){let n=["arg1",[i.XsAnyAtomicType,i.Node,p,m],!1,!1],r=c.makeSingleArgs("xs.yearMonthDuration",1,n,e);return new i.XsYearMonthDuration("xs","yearMonthDuration",r)}};s(Um,"XsExpr");var $o=Um,zm=class zm extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(zm,"PlanTripleOption");var ym=zm,Qm=class Qm extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(Qm,"PlanValueOption");var gn=Qm,Gm=class Gm extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(Gm,"PlanRowColTypes");var Uo=Gm,Wm=class Wm extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(Wm,"PlanExprCol");var ae=Wm,Km=class Km extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(Km,"PlanJoinKey");var jn=Km,Vm=class Vm extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(Vm,"PlanTriplePattern");var zo=Vm,Hm=class Hm extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(Hm,"PlanGroup");var Mn=Hm,Jm=class Jm extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(Jm,"PlanParamBinding");var vm=Jm,Ym=class Ym extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(Ym,"PlanDocDescriptor");var wm=Ym,Zm=class Zm extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(Zm,"PlanCase");var Qo=Zm,ed=class ed extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(ed,"PlanXsStringMap");var xm=ed,td=class td extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(td,"PlanFunction");var ei=td,nd=class nd extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(nd,"PlanJsonProperty");var Go=nd,rd=class rd extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(rd,"PlanCtsReferenceMap");var bm=rd,ad=class ad extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(ad,"PlanNamespaceBindings");var Am=ad,id=class id extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(id,"PlanSearchOption");var Sm=id,sd=class sd extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(sd,"PlanParam");var m=sd,od=class od extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(od,"PlanSortKey");var ti=od,ld=class ld extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(ld,"PlanAggregateCol");var We=ld,cd=class cd extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(cd,"PlanTransformDef");var km=cd,ud=class ud extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(ud,"PlanXsValueMap");var Em=ud,pd=class pd extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(pd,"PlanSparqlOption");var Tm=pd,fd=class fd extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(fd,"PlanCondition");var Wo=fd,md=class md extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(md,"PlanDocColsIdentifier");var Ln=md,dd=class dd extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(dd,"PlanSampleByOption");var qm=dd,gd=class gd extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(gd,"PlanNamedGroup");var ea=gd,Ho=class Ho extends i.ServerType{constructor(e,n,r,a){super(n,r,a),this._operators=e===null?[this]:e._operators.concat(this)}export(){return c.doExport(this)}bindParam(...e){let n=c.getNamer(e,"param"),r=[["param",[m,i.XsString],!0,!1],["literal",[vm],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanPlan.bindParam",2,new Set(["param","literal"]),r,e):c.makePositionalArgs("PlanPlan.bindParam",2,!1,r,e);return new Ho(this,"op","bind-param",a)}};s(Ho,"PlanPlan");var Ko=Ho,It=class It extends i.ServerType{constructor(e,n,r){super(e,n,r)}insertAfter(...e){let n=c.getNamer(e,"path"),r=[["path",[i.XsString],!0,!1],["node",[i.Item,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanPatchBuilder.insertAfter",2,new Set(["path","node"]),r,e):c.makePositionalArgs("PlanPatchBuilder.insertAfter",2,!1,r,e);return new Bt([new It("op","insert-after",a)])}insertBefore(...e){let n=c.getNamer(e,"path"),r=[["path",[i.XsString],!0,!1],["node",[i.Item,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanPatchBuilder.insertBefore",2,new Set(["path","node"]),r,e):c.makePositionalArgs("PlanPatchBuilder.insertBefore",2,!1,r,e);return new Bt([new It("op","insert-before",a)])}insertChild(...e){let n=c.getNamer(e,"path"),r=[["path",[i.XsString],!0,!1],["node",[i.Item,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanPatchBuilder.insertChild",2,new Set(["path","node"]),r,e):c.makePositionalArgs("PlanPatchBuilder.insertChild",2,!1,r,e);return new Bt(new It("op","insert-child",a))}insertNamedChild(...e){let n=c.getNamer(e,"path"),r=[["path",[i.XsString],!0,!1],["key",[i.XsString],!0,!1],["node",[i.Item,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanPatchBuilder.insertNamedChild",3,new Set(["path","key","node"]),r,e):c.makePositionalArgs("PlanPatchBuilder.insertNamedChild",3,!1,r,e);return new Bt(new It("op","insert-named-child",a))}remove(...e){let n=["path",[i.XsString],!0,!1],r=c.makeSingleArgs("PlanPatchBuilder.remove",1,n,e);return new Bt(new It("op","remove",r))}replace(...e){let n=c.getNamer(e,"path"),r=[["path",[i.XsString],!0,!1],["node",[i.Item,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanPatchBuilder.replace",2,new Set(["path","node"]),r,e):c.makePositionalArgs("PlanPatchBuilder.replace",2,!1,r,e);return new Bt(new It("op","replace",a))}replaceInsertChild(...e){let n=c.getNamer(e,"parent-path"),r=[["parent-path",[i.XsString],!0,!1],["path-to-replace",[i.XsString],!0,!1],["node",[i.Item,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanPatchBuilder.replaceInsertChild",2,new Set(["parent-path","path-to-replace","node"]),r,e):c.makePositionalArgs("PlanPatchBuilder.replaceInsertChild",2,!1,r,e);return new Bt(new It("op","replace-insert-child",a))}replaceValue(...e){let n=c.getNamer(e,"path"),r=[["path",[i.XsString],!0,!1],["value",[i.Item,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanPatchBuilder.replaceValue",2,new Set(["path","value"]),r,e):c.makePositionalArgs("PlanPatchBuilder.replaceValue",2,!1,r,e);return new Bt(new It("op","replace-value",a))}};s(It,"PlanPatchBuilder");var ni=It,hd=class hd{constructor(e){return hm.push(e),new ni("op","suboperators",hm)}};s(hd,"PlanPatchBuilderBase");var Bt=hd,yd=class yd extends i.ServerType{constructor(e,n,r){super(e,n,r)}iri(...e){let n=["name",[i.XsString],!0,!1],r=c.makeSingleArgs("PlanPrefixer.iri",1,n,e);return new i.SemIri("op","iri",r)}};s(yd,"PlanPrefixer");var Nm=yd,vd=class vd extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(vd,"PlanSchemaDef");var Pm=vd,wd=class wd extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(wd,"PlanColumn");var p=wd,xd=class xd extends i.ServerType{constructor(e,n,r){super(e,n,r)}};s(xd,"PlanGroupConcatOption");var Om=xd,bd=class bd extends Ko{constructor(e,n,r,a){super(e,n,r,a)}};s(bd,"PlanExportablePlan");var Za=bd,Ad=class Ad extends p{constructor(e,n,r){super(e,n,r)}};s(Ad,"PlanSystemColumn");var dr=Ad,Sd=class Sd extends Za{constructor(e,n,r,a){super(e,n,r,a)}map(...e){let n=["func",[ei],!0,!1],r=c.makeSingleArgs("PlanPreparePlan.map",1,n,e);return new Za(this,"op","map",r)}reduce(...e){let n=c.getNamer(e,"func"),r=[["func",[ei],!0,!1],["seed",[i.XsAnyAtomicType],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanPreparePlan.reduce",1,new Set(["func","seed"]),r,e):c.makePositionalArgs("PlanPreparePlan.reduce",1,!1,r,e);return new Za(this,"op","reduce",a)}};s(Sd,"PlanPreparePlan");var Vo=Sd,ee=class ee extends Vo{constructor(e,n,r,a){super(e,n,r,a)}bind(...e){let n=["columns",[ae],!0,!0],r=c.makeSingleArgs("PlanModifyPlan.bind",1,n,e);return new ee(this,"op","bind",r)}bindAs(...e){let n=c.getNamer(e,"column"),r=[["column",[p,i.XsString],!0,!1],["expression",[i.Item,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.bindAs",2,new Set(["column","expression"]),r,e):c.makePositionalArgs("PlanModifyPlan.bindAs",2,!1,r,e);return new ee(this,"op","bind-as",a)}except(...e){let n=["right",[ee],!0,!1],r=c.makeSingleArgs("PlanModifyPlan.except",1,n,e);return new ee(this,"op","except",r)}existsJoin(...e){let n=c.getNamer(e,"right"),r=[["right",[ee],!0,!1],["keys",[jn],!1,!0],["condition",[i.XsBoolean,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.existsJoin",1,new Set(["right","keys","condition"]),r,e):c.makePositionalArgs("PlanModifyPlan.existsJoin",1,!1,r,e);return new ee(this,"op","exists-join",a)}facetBy(...e){let n=c.getNamer(e,"keys"),r=[["keys",[ea,Mn,ae,p,i.XsString],!0,!0],["count-col",[ae,p,i.XsString],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.facetBy",1,new Set(["keys","count-col"]),r,e):c.makePositionalArgs("PlanModifyPlan.facetBy",1,!1,r,e);return new ee(this,"op","facet-by",a)}groupBy(...e){let n=c.getNamer(e,"keys"),r=[["keys",[ae,p,i.XsString],!1,!0],["aggregates",[We,p,ae,i.XsString],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.groupBy",1,new Set(["keys","aggregates"]),r,e):c.makePositionalArgs("PlanModifyPlan.groupBy",1,!1,r,e);return new ee(this,"op","group-by",a)}groupByUnion(...e){let n=c.getNamer(e,"keys"),r=[["keys",[Mn,ae,p,i.XsString],!0,!0],["aggregates",[We,p,ae,i.XsString],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.groupByUnion",1,new Set(["keys","aggregates"]),r,e):c.makePositionalArgs("PlanModifyPlan.groupByUnion",1,!1,r,e);return new ee(this,"op","group-by-union",a)}groupToArrays(...e){let n=c.getNamer(e,"keys"),r=[["keys",[ea,Mn,ae,p,i.XsString],!0,!0],["aggregates",[We,p,ae,i.XsString],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.groupToArrays",1,new Set(["keys","aggregates"]),r,e):c.makePositionalArgs("PlanModifyPlan.groupToArrays",1,!1,r,e);return new ee(this,"op","group-to-arrays",a)}intersect(...e){let n=["right",[ee],!0,!1],r=c.makeSingleArgs("PlanModifyPlan.intersect",1,n,e);return new ee(this,"op","intersect",r)}joinCrossProduct(...e){let n=c.getNamer(e,"right"),r=[["right",[ee],!0,!1],["condition",[i.XsBoolean,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.joinCrossProduct",1,new Set(["right","condition"]),r,e):c.makePositionalArgs("PlanModifyPlan.joinCrossProduct",1,!1,r,e);return new ee(this,"op","join-cross-product",a)}joinDoc(...e){let n=c.getNamer(e,"docCol"),r=[["docCol",[p,i.XsString],!0,!1],["sourceCol",[p],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.joinDoc",2,new Set(["docCol","sourceCol"]),r,e):c.makePositionalArgs("PlanModifyPlan.joinDoc",2,!1,r,e);return new ee(this,"op","join-doc",a)}joinDocAndUri(...e){let n=c.getNamer(e,"docCol"),r=[["docCol",[p,i.XsString],!0,!1],["uriCol",[p],!0,!1],["sourceCol",[p],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.joinDocAndUri",3,new Set(["docCol","uriCol","sourceCol"]),r,e):c.makePositionalArgs("PlanModifyPlan.joinDocAndUri",3,!1,r,e);return new ee(this,"op","join-doc-and-uri",a)}joinDocUri(...e){let n=c.getNamer(e,"uriCol"),r=[["uriCol",[p,i.XsString],!0,!1],["fragmentIdCol",[p],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.joinDocUri",2,new Set(["uriCol","fragmentIdCol"]),r,e):c.makePositionalArgs("PlanModifyPlan.joinDocUri",2,!1,r,e);return new ee(this,"op","join-doc-uri",a)}joinInner(...e){let n=c.getNamer(e,"right"),r=[["right",[ee],!0,!1],["keys",[jn],!1,!0],["condition",[i.XsBoolean,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.joinInner",1,new Set(["right","keys","condition"]),r,e):c.makePositionalArgs("PlanModifyPlan.joinInner",1,!1,r,e);return new ee(this,"op","join-inner",a)}joinLeftOuter(...e){let n=c.getNamer(e,"right"),r=[["right",[ee],!0,!1],["keys",[jn],!1,!0],["condition",[i.XsBoolean,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.joinLeftOuter",1,new Set(["right","keys","condition"]),r,e):c.makePositionalArgs("PlanModifyPlan.joinLeftOuter",1,!1,r,e);return new ee(this,"op","join-left-outer",a)}joinFullOuter(...e){let n=c.getNamer(e,"right"),r=[["right",[ee],!0,!1],["keys",[jn],!1,!0],["condition",[i.XsBoolean,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.joinFullOuter",1,new Set(["right","keys","condition"]),r,e):c.makePositionalArgs("PlanModifyPlan.joinFullOuter",1,!1,r,e);return new ee(this,"op","join-full-outer",a)}limit(...e){let n=["length",[i.XsLong,m],!0,!1],r=c.makeSingleArgs("PlanModifyPlan.limit",1,n,e);return new ee(this,"op","limit",r)}offset(...e){let n=["start",[i.XsLong,m],!0,!1],r=c.makeSingleArgs("PlanModifyPlan.offset",1,n,e);return new ee(this,"op","offset",r)}offsetLimit(...e){let n=c.getNamer(e,"start"),r=[["start",[i.XsLong,m],!1,!1],["length",[i.XsLong,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.offsetLimit",2,new Set(["start","length"]),r,e):c.makePositionalArgs("PlanModifyPlan.offsetLimit",2,!1,r,e);return new ee(this,"op","offset-limit",a)}notExistsJoin(...e){let n=c.getNamer(e,"right"),r=[["right",[ee],!0,!1],["keys",[jn],!1,!0],["condition",[i.XsBoolean,p,m],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.notExistsJoin",1,new Set(["right","keys","condition"]),r,e):c.makePositionalArgs("PlanModifyPlan.notExistsJoin",1,!1,r,e);return new ee(this,"op","not-exists-join",a)}onError(...e){let n=c.getNamer(e,"action"),r=[["action",[i.XsString],!0,!1],["error-column",[ae,p,i.XsString],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.onError",1,new Set(["action","error-column"]),r,e):c.makePositionalArgs("PlanModifyPlan.onError",1,!1,r,e);return new ee(this,"op","on-error",a)}orderBy(...e){let n=["keys",[ti,p,ae,i.XsString],!0,!0],r=c.makeSingleArgs("PlanModifyPlan.orderBy",1,n,e);return new ee(this,"op","order-by",r)}patch(...e){let n=c.getNamer(e,"doc-column"),r=[["doc-column",[ae,p,i.XsString],!0,!1],["patch-def",[ni],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.patch",2,new Set(["doc-column","patch-def"]),r,e):c.makePositionalArgs("PlanModifyPlan.patch",2,!1,r,e);return new ee(this,"op","patch",a)}prepare(...e){let n=["optimize",[i.XsInt],!0,!1],r=c.makeSingleArgs("PlanModifyPlan.prepare",1,n,e);return new Vo(this,"op","prepare",r)}select(...e){let n=c.getNamer(e,"columns"),r=[["columns",[ae,p,i.XsString],!1,!0],["qualifierName",[i.XsString],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.select",1,new Set(["columns","qualifierName"]),r,e):c.makePositionalArgs("PlanModifyPlan.select",1,!1,r,e);return new ee(this,"op","select",a)}union(...e){let n=["right",[ee],!0,!1],r=c.makeSingleArgs("PlanModifyPlan.union",1,n,e);return new ee(this,"op","union",r)}where(...e){let n=["condition",[i.XsBoolean,p,i.CtsQuery,i.SemStore,Wo],!0,!1],r=c.makeSingleArgs("PlanModifyPlan.where",1,n,e);return new ee(this,"op","where",r)}whereDistinct(...e){return c.checkMaxArity("PlanModifyPlan.whereDistinct",e.length,0),new ee(this,"op","where-distinct",e)}write(...e){let n=["doc-cols",[Ln],!1,!1],r=c.makeSingleArgs("PlanModifyPlan.write",0,n,e);return new ee(this,"op","write",r)}remove(...e){let n=["remove-col",[Ln,p,i.XsString],!1,!1],r=c.makeSingleArgs("PlanModifyPlan.remove",0,n,e);return new ee(this,"op","remove",r)}lockForUpdate(...e){let n=["lock-uri-col",[Ln,p,i.XsString],!1,!1],r=c.makeSingleArgs("PlanModifyPlan.lockForUpdate",0,n,e);return new ee(this,"op","lock-for-update",r)}transformDoc(...e){let n=c.getNamer(e,"transform-doc-col"),r=[["transform-doc-col",[Ln,p,i.XsString],!0,!1],["transformDef",[km],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.transformDoc",2,new Set(["transform-doc-col","transformDef"]),r,e):c.makePositionalArgs("PlanModifyPlan.transformDoc",2,!1,r,e);return new ee(this,"op","transform-doc",a)}joinDocCols(...e){let n=c.getNamer(e,"cols"),r=[["cols",[Ln],!1,!1],["doc-id-col",[p,i.XsString],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.joinDocCols",2,new Set(["cols","doc-id-col"]),r,e):c.makePositionalArgs("PlanModifyPlan.joinDocCols",2,!1,r,e);return new ee(this,"op","join-doc-cols",a)}validateDoc(...e){let n=c.getNamer(e,"validate-doc-col"),r=[["validate-doc-col",[p,i.XsString],!0,!1],["schemaDef",[Pm],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.validateDoc",2,new Set(["validate-doc-col","schemaDef"]),r,e):c.makePositionalArgs("PlanModifyPlan.validateDoc",2,!1,r,e);return new ee(this,"op","validate-doc",a)}unnestInner(...e){let n=c.getNamer(e,"inputColumn"),r=[["inputColumn",[ae,p,i.XsString],!0,!1],["valueColumn",[ae,p,i.XsString],!0,!1],["ordinalColumn",[ae,p,i.XsString],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.unnestInner",2,new Set(["inputColumn","valueColumn","ordinalColumn"]),r,e):c.makePositionalArgs("PlanModifyPlan.unnestInner",2,!1,r,e);return new ee(this,"op","unnest-inner",a)}unnestLeftOuter(...e){let n=c.getNamer(e,"inputColumn"),r=[["inputColumn",[ae,p,i.XsString],!0,!1],["valueColumn",[ae,p,i.XsString],!0,!1],["ordinalColumn",[ae,p,i.XsString],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanModifyPlan.unnestLeftOuter",2,new Set(["inputColumn","valueColumn","ordinalColumn"]),r,e):c.makePositionalArgs("PlanModifyPlan.unnestLeftOuter",2,!1,r,e);return new ee(this,"op","unnest-left-outer",a)}};s(ee,"PlanModifyPlan");var ta=ee,kd=class kd extends ta{constructor(e,n,r,a){super(e,n,r,a)}col(...e){let n=["column",[i.XsString],!0,!1],r=c.makeSingleArgs("PlanAccessPlan.col",1,n,e);return new p("op","col",r)}sampleBy(...e){let n=["option",[qm],!1,!1],r=c.makeSingleArgs("PlanAccessPlan.sampleBy",0,n,e);return new ta(this,"op","sample-by",r)}};s(kd,"PlanAccessPlan");var kt=kd,Ed=class Ed{constructor(e){this.cts=e.cts!==void 0?e.cts:new Co,this.fn=e.fn!==void 0?e.fn:new _o,this.geo=e.geo!==void 0?e.geo:new Ro,this.json=e.json!==void 0?e.json:new Xo,this.map=e.map!==void 0?e.map:new Do,this.math=e.math!==void 0?e.math:new Io,this.rdf=e.rdf!==void 0?e.rdf:new Bo,this.sem=e.sem!==void 0?e.sem:new jo,this.spell=e.spell!==void 0?e.spell:new Lo,this.sql=e.sql!==void 0?e.sql:new Mo,this.xdmp=e.xdmp!==void 0?e.xdmp:new Fo,this.xs=e.xs!==void 0?e.xs:new $o}add(...e){let n=c.getNamer(e,"left"),r=[["left",[i.XsAnyAtomicType,p,m],!0,!1],["right",[i.XsAnyAtomicType,p,m],!0,!1]];if(n!==null){let a=new Set(["left","right"]);e=c.makeNamedArgs(n,"planBuilder.add",2,a,r,e)}else e=c.makePositionalArgs("planBuilder.add",2,!0,r,e);return new i.XsNumeric("op","add",e)}and(...e){let n=c.getNamer(e,"left"),r=[["left",[i.XsAnyAtomicType,p,m],!0,!1],["right",[i.XsAnyAtomicType,p,m],!0,!1]];if(n!==null){let a=new Set(["left","right"]);e=c.makeNamedArgs(n,"planBuilder.and",2,a,r,e)}else e=c.makePositionalArgs("planBuilder.and",2,!0,r,e);return new i.XsBoolean("op","and",e)}divide(...e){let n=c.getNamer(e,"left"),r=[["left",[i.XsAnyAtomicType,p,m],!0,!1],["right",[i.XsAnyAtomicType,p,m],!0,!1]];if(n!==null){let a=new Set(["left","right"]);e=c.makeNamedArgs(n,"planBuilder.divide",2,a,r,e)}else e=c.makePositionalArgs("planBuilder.divide",2,!1,r,e);return new i.XsNumeric("op","divide",e)}eq(...e){let n=c.getNamer(e,"left"),r=[["left",[i.XsAnyAtomicType,p,m],!0,!1],["right",[i.XsAnyAtomicType,p,m],!0,!1]];if(n!==null){let a=new Set(["left","right"]);e=c.makeNamedArgs(n,"planBuilder.eq",2,a,r,e)}else e=c.makePositionalArgs("planBuilder.eq",2,!0,r,e);return new i.XsBoolean("op","eq",e)}ge(...e){let n=c.getNamer(e,"left"),r=[["left",[i.XsAnyAtomicType,p,m],!0,!1],["right",[i.XsAnyAtomicType,p,m],!0,!1]];if(n!==null){let a=new Set(["left","right"]);e=c.makeNamedArgs(n,"planBuilder.ge",2,a,r,e)}else e=c.makePositionalArgs("planBuilder.ge",2,!1,r,e);return new i.XsBoolean("op","ge",e)}gt(...e){let n=c.getNamer(e,"left"),r=[["left",[i.XsAnyAtomicType,p,m],!0,!1],["right",[i.XsAnyAtomicType,p,m],!0,!1]];if(n!==null){let a=new Set(["left","right"]);e=c.makeNamedArgs(n,"planBuilder.gt",2,a,r,e)}else e=c.makePositionalArgs("planBuilder.gt",2,!1,r,e);return new i.XsBoolean("op","gt",e)}in(...e){let n=c.getNamer(e,"value"),r=[["value",[i.XsAnyAtomicType,p,m],!0,!1],["anyOf",[i.XsAnyAtomicType,p,m],!0,!0]];if(n!==null){let a=new Set(["value","anyOf"]);e=c.makeNamedArgs(n,"planBuilder.in",2,a,r,e)}else e=c.makePositionalArgs("planBuilder.in",2,!1,r,e);return new i.XsBoolean("op","in",e)}isDefined(...e){let n=["operand",[i.Item,p,m],!0,!1];return e=c.makeSingleArgs("planBuilder.isDefined",1,n,e),new i.XsBoolean("op","is-defined",e)}le(...e){let n=c.getNamer(e,"left"),r=[["left",[i.XsAnyAtomicType,p,m],!0,!1],["right",[i.XsAnyAtomicType,p,m],!0,!1]];if(n!==null){let a=new Set(["left","right"]);e=c.makeNamedArgs(n,"planBuilder.le",2,a,r,e)}else e=c.makePositionalArgs("planBuilder.le",2,!1,r,e);return new i.XsBoolean("op","le",e)}lt(...e){let n=c.getNamer(e,"left"),r=[["left",[i.XsAnyAtomicType,p,m],!0,!1],["right",[i.XsAnyAtomicType,p,m],!0,!1]];if(n!==null){let a=new Set(["left","right"]);e=c.makeNamedArgs(n,"planBuilder.lt",2,a,r,e)}else e=c.makePositionalArgs("planBuilder.lt",2,!1,r,e);return new i.XsBoolean("op","lt",e)}multiply(...e){let n=c.getNamer(e,"left"),r=[["left",[i.XsAnyAtomicType,p,m],!0,!1],["right",[i.XsAnyAtomicType,p,m],!0,!1]];if(n!==null){let a=new Set(["left","right"]);e=c.makeNamedArgs(n,"planBuilder.multiply",2,a,r,e)}else e=c.makePositionalArgs("planBuilder.multiply",2,!0,r,e);return new i.XsNumeric("op","multiply",e)}ne(...e){let n=c.getNamer(e,"left"),r=[["left",[i.XsAnyAtomicType,p,m],!0,!1],["right",[i.XsAnyAtomicType,p,m],!0,!1]];if(n!==null){let a=new Set(["left","right"]);e=c.makeNamedArgs(n,"planBuilder.ne",2,a,r,e)}else e=c.makePositionalArgs("planBuilder.ne",2,!1,r,e);return new i.XsBoolean("op","ne",e)}not(...e){let n=["operand",[i.XsAnyAtomicType,p,m],!0,!1];return e=c.makeSingleArgs("planBuilder.not",1,n,e),new i.XsBoolean("op","not",e)}or(...e){let n=c.getNamer(e,"left"),r=[["left",[i.XsAnyAtomicType,p,m],!0,!1],["right",[i.XsAnyAtomicType,p,m],!0,!1]];if(n!==null){let a=new Set(["left","right"]);e=c.makeNamedArgs(n,"planBuilder.or",2,a,r,e)}else e=c.makePositionalArgs("planBuilder.or",2,!0,r,e);return new i.XsBoolean("op","or",e)}subtract(...e){let n=c.getNamer(e,"left"),r=[["left",[i.XsAnyAtomicType,p,m],!0,!1],["right",[i.XsAnyAtomicType,p,m],!0,!1]];if(n!==null){let a=new Set(["left","right"]);e=c.makeNamedArgs(n,"planBuilder.subtract",2,a,r,e)}else e=c.makePositionalArgs("planBuilder.subtract",2,!1,r,e);return new i.XsNumeric("op","subtract",e)}patchBuilder(...e){let n=c.getNamer(e,"context-path"),r=[["context-path",[i.XsString],!0,!1],["namespaces",[xm],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.patchBuilder",1,new Set(["context-path","namespaces"]),r,e):c.makePositionalArgs("PlanBuilder.patchBuilder",1,!1,r,e);return hm=[],new Bt(new ni("op","patch-builder",a))}param(...e){let n=["name",[i.XsString],!0,!1],r=c.makeSingleArgs("PlanBuilder.param",1,n,e);return new m("op","param",r)}col(...e){let n=["column",[i.XsString],!0,!1],r=c.makeSingleArgs("PlanBuilder.col",1,n,e);return new p("op","col",r)}schemaCol(...e){let n=c.getNamer(e,"schema"),r=[["schema",[i.XsString],!0,!1],["view",[i.XsString],!0,!1],["column",[i.XsString],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.schemaCol",3,new Set(["schema","view","column"]),r,e):c.makePositionalArgs("PlanBuilder.schemaCol",3,!1,r,e);return new p("op","schema-col",a)}viewCol(...e){let n=c.getNamer(e,"view"),r=[["view",[i.XsString],!0,!1],["column",[i.XsString],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.viewCol",2,new Set(["view","column"]),r,e):c.makePositionalArgs("PlanBuilder.viewCol",2,!1,r,e);return new p("op","view-col",a)}fragmentIdCol(...e){let n=["column",[i.XsString],!0,!1],r=c.makeSingleArgs("PlanBuilder.fragmentIdCol",1,n,e);return new dr("op","fragment-id-col",r)}graphCol(...e){let n=["column",[i.XsString],!0,!1],r=c.makeSingleArgs("PlanBuilder.graphCol",1,n,e);return new dr("op","graph-col",r)}as(...e){let n=c.getNamer(e,"column"),r=[["column",[p,i.XsString],!0,!1],["expression",[i.Item,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.as",2,new Set(["column","expression"]),r,e):c.makePositionalArgs("PlanBuilder.as",2,!1,r,e);return new ae("op","as",a)}fromView(...e){let n=c.getNamer(e,"schema"),r=[["schema",[i.XsString],!1,!1],["view",[i.XsString],!0,!1],["qualifierName",[i.XsString],!1,!1],["sysCols",[dr],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.fromView",2,new Set(["schema","view","qualifierName","sysCols"]),r,e):c.makePositionalArgs("PlanBuilder.fromView",2,!1,r,e);return new kt(null,"op","from-view",a)}prefixer(...e){let n=["base",[i.XsString],!0,!1],r=c.makeSingleArgs("PlanBuilder.prefixer",1,n,e);return new Nm("op","prefixer",r)}fromTriples(...e){let n=c.getNamer(e,"patterns"),r=[["patterns",[zo],!0,!0],["qualifierName",[i.XsString],!1,!1],["graphIris",[i.XsString],!1,!0],["option",[ym],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.fromTriples",1,new Set(["patterns","qualifierName","graphIris","option"]),r,e):c.makePositionalArgs("PlanBuilder.fromTriples",1,!1,r,e);return new kt(null,"op","from-triples",a)}pattern(...e){let n=c.getNamer(e,"subjects"),r=[["subjects",[p,i.XsAnyAtomicType,m],!1,!0],["predicates",[p,i.XsAnyAtomicType,m],!1,!0],["objects",[p,i.XsAnyAtomicType,m],!1,!0],["sysCols",[dr],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.pattern",3,new Set(["subjects","predicates","objects","sysCols"]),r,e):c.makePositionalArgs("PlanBuilder.pattern",3,!1,r,e);return new zo("op","pattern",a)}fromLexicons(...e){let n=c.getNamer(e,"indexes"),r=[["indexes",[bm],!0,!1],["qualifierName",[i.XsString],!1,!1],["sysCols",[dr],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.fromLexicons",1,new Set(["indexes","qualifierName","sysCols"]),r,e):c.makePositionalArgs("PlanBuilder.fromLexicons",1,!1,r,e);return new kt(null,"op","from-lexicons",a)}fromLiterals(...e){let n=c.getNamer(e,"rows"),r=[["rows",[Em],!0,!0],["qualifierName",[i.XsString],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.fromLiterals",1,new Set(["rows","qualifierName"]),r,e):c.makePositionalArgs("PlanBuilder.fromLiterals",1,!1,r,e);return new kt(null,"op","from-literals",a)}fromSPARQL(...e){let n=c.getNamer(e,"select"),r=[["select",[i.XsString],!0,!1],["qualifierName",[i.XsString],!1,!1],["option",[Tm],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.fromSPARQL",1,new Set(["select","qualifierName","option"]),r,e):c.makePositionalArgs("PlanBuilder.fromSPARQL",1,!1,r,e);return new ta(null,"op","from-sparql",a)}fromSQL(...e){let n=c.getNamer(e,"select"),r=[["select",[i.XsString],!0,!1],["qualifierName",[i.XsString],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.fromSQL",1,new Set(["select","qualifierName"]),r,e):c.makePositionalArgs("PlanBuilder.fromSQL",1,!1,r,e);return new ta(null,"op","from-sql",a)}fromSearchDocs(...e){let n=c.getNamer(e,"query"),r=[["query",[i.XsString,i.CtsQuery],!0,!1],["qualifierName",[i.XsString],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.fromSearchDocs",1,new Set(["query","qualifierName"]),r,e):c.makePositionalArgs("PlanBuilder.fromSearchDocs",1,!1,r,e);return new kt(null,"op","from-search-docs",a)}fromSearch(...e){let n=c.getNamer(e,"query"),r=[["query",[i.XsString,i.CtsQuery],!0,!1],["columns",[ae,p,i.XsString],!1,!0],["qualifierName",[i.XsString],!1,!1],["option",[Sm],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.fromSearch",1,new Set(["query","columns","qualifierName","option"]),r,e):c.makePositionalArgs("PlanBuilder.fromSearch",1,!1,r,e);return new kt(null,"op","from-search",a)}fromParam(...e){let n=c.getNamer(e,"param-name"),r=[["param-name",[i.XsString],!0,!1],["qualifier",[i.XsString],!1,!1],["row-col-types",[Uo],!0,!0]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.fromParam",3,new Set(["param-name","qualifier","row-col-types"]),r,e):c.makePositionalArgs("PlanBuilder.fromParam",3,!1,r,e);return new kt(null,"op","from-param",a)}fromDocDescriptors(...e){let n=c.getNamer(e,"doc-descriptor"),r=[["doc-descriptor",[wm],!0,!0],["qualifier",[i.XsString],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.fromDocDescriptors",1,new Set(["doc-descriptor","qualifier"]),r,e):c.makePositionalArgs("PlanBuilder.fromDocDescriptors",1,!1,r,e);return new kt(null,"op","from-doc-descriptors",a)}fromDocUris(...e){let n=c.getNamer(e,"querydef"),r=[["querydef",[i.CtsQuery,i.XsString],!0,!1],["qualifier",[i.XsString],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.fromDocUris",1,new Set(["querydef","qualifier"]),r,e):c.makePositionalArgs("PlanBuilder.fromDocUris",1,!1,r,e);return new kt(null,"op","from-doc-uris",a)}sqlCondition(...e){let n=["expression",[i.XsString],!0,!1],r=c.makeSingleArgs("PlanBuilder.sqlCondition",1,n,e);return new Wo("op","sql-condition",r)}on(...e){let n=c.getNamer(e,"left"),r=[["left",[ae,p,i.XsString],!0,!1],["right",[ae,p,i.XsString],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.on",2,new Set(["left","right"]),r,e):c.makePositionalArgs("PlanBuilder.on",2,!1,r,e);return new jn("op","on",a)}group(...e){let n=["keys",[ae,p,i.XsString],!1,!0],r=c.makeSingleArgs("PlanBuilder.group",0,n,e);return new Mn("op","group",r)}rollup(...e){let n=["keys",[ae,p,i.XsString],!0,!0],r=c.makeSingleArgs("PlanBuilder.rollup",1,n,e);return new Mn("op","rollup",r)}cube(...e){let n=["keys",[ae,p,i.XsString],!0,!0],r=c.makeSingleArgs("PlanBuilder.cube",1,n,e);return new Mn("op","cube",r)}namedGroup(...e){let n=c.getNamer(e,"name"),r=[["name",[i.XsString],!0,!1],["keys",[ae,p,i.XsString],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.namedGroup",1,new Set(["name","keys"]),r,e):c.makePositionalArgs("PlanBuilder.namedGroup",1,!1,r,e);return new ea("op","named-group",a)}bucketGroup(...e){let n=c.getNamer(e,"name"),r=[["name",[i.XsString],!0,!1],["key",[ae,p,i.XsString],!0,!1],["boundaries",[i.XsAnyAtomicType],!0,!0],["collation",[i.XsString],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.bucketGroup",3,new Set(["name","key","boundaries","collation"]),r,e):c.makePositionalArgs("PlanBuilder.bucketGroup",3,!1,r,e);return new ea("op","bucket-group",a)}avg(...e){let n=c.getNamer(e,"name"),r=[["name",[p,i.XsString],!0,!1],["column",[ae,p,i.XsString],!0,!1],["option",[gn],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.avg",2,new Set(["name","column","option"]),r,e):c.makePositionalArgs("PlanBuilder.avg",2,!1,r,e);return new We("op","avg",a)}arrayAggregate(...e){let n=c.getNamer(e,"name"),r=[["name",[p,i.XsString],!0,!1],["column",[ae,p,i.XsString],!0,!1],["option",[gn],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.arrayAggregate",2,new Set(["name","column","option"]),r,e):c.makePositionalArgs("PlanBuilder.arrayAggregate",2,!1,r,e);return new We("op","array-aggregate",a)}count(...e){let n=c.getNamer(e,"name"),r=[["name",[p,i.XsString],!0,!1],["column",[ae,p,i.XsString],!1,!1],["option",[gn],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.count",1,new Set(["name","column","option"]),r,e):c.makePositionalArgs("PlanBuilder.count",1,!1,r,e);return new We("op","count",a)}groupConcat(...e){let n=c.getNamer(e,"name"),r=[["name",[p,i.XsString],!0,!1],["column",[ae,p,i.XsString],!0,!1],["options",[i.XsString,Om],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.groupConcat",2,new Set(["name","column","options"]),r,e):c.makePositionalArgs("PlanBuilder.groupConcat",2,!1,r,e);return new We("op","group-concat",a)}groupKey(...e){let n=c.getNamer(e,"name"),r=[["name",[p,i.XsString],!0,!1],["column",[ae,p,i.XsString],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.groupKey",2,new Set(["name","column"]),r,e):c.makePositionalArgs("PlanBuilder.groupKey",2,!1,r,e);return new We("op","group-key",a)}hasGroupKey(...e){let n=c.getNamer(e,"name"),r=[["name",[p,i.XsString],!0,!1],["column",[ae,p,i.XsString],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.hasGroupKey",2,new Set(["name","column"]),r,e):c.makePositionalArgs("PlanBuilder.hasGroupKey",2,!1,r,e);return new We("op","has-group-key",a)}max(...e){let n=c.getNamer(e,"name"),r=[["name",[p,i.XsString],!0,!1],["column",[ae,p,i.XsString],!0,!1],["option",[gn],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.max",2,new Set(["name","column","option"]),r,e):c.makePositionalArgs("PlanBuilder.max",2,!1,r,e);return new We("op","max",a)}min(...e){let n=c.getNamer(e,"name"),r=[["name",[p,i.XsString],!0,!1],["column",[ae,p,i.XsString],!0,!1],["option",[gn],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.min",2,new Set(["name","column","option"]),r,e):c.makePositionalArgs("PlanBuilder.min",2,!1,r,e);return new We("op","min",a)}sample(...e){let n=c.getNamer(e,"name"),r=[["name",[p,i.XsString],!0,!1],["column",[ae,p,i.XsString],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.sample",2,new Set(["name","column"]),r,e):c.makePositionalArgs("PlanBuilder.sample",2,!1,r,e);return new We("op","sample",a)}sequenceAggregate(...e){let n=c.getNamer(e,"name"),r=[["name",[p,i.XsString],!0,!1],["column",[ae,p,i.XsString],!0,!1],["option",[gn],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.sequenceAggregate",2,new Set(["name","column","option"]),r,e):c.makePositionalArgs("PlanBuilder.sequenceAggregate",2,!1,r,e);return new We("op","sequence-aggregate",a)}sum(...e){let n=c.getNamer(e,"name"),r=[["name",[p,i.XsString],!0,!1],["column",[ae,p,i.XsString],!0,!1],["option",[gn],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.sum",2,new Set(["name","column","option"]),r,e):c.makePositionalArgs("PlanBuilder.sum",2,!1,r,e);return new We("op","sum",a)}uda(...e){let n=c.getNamer(e,"name"),r=[["name",[p,i.XsString],!0,!1],["column",[ae,p,i.XsString],!0,!1],["module",[i.XsString],!0,!1],["function",[i.XsString],!0,!1],["arg",[i.XsAnyAtomicType],!1,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.uda",4,new Set(["name","column","module","function","arg"]),r,e):c.makePositionalArgs("PlanBuilder.uda",4,!1,r,e);return new We("op","uda",a)}asc(...e){let n=["column",[ae,p,i.XsString],!0,!1],r=c.makeSingleArgs("PlanBuilder.asc",1,n,e);return new ti("op","asc",r)}desc(...e){let n=["column",[ae,p,i.XsString],!0,!1],r=c.makeSingleArgs("PlanBuilder.desc",1,n,e);return new ti("op","desc",r)}modulo(...e){let n=c.getNamer(e,"left"),r=[["left",[i.XsNumeric,p,m],!0,!1],["right",[i.XsNumeric,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.modulo",2,new Set(["left","right"]),r,e):c.makePositionalArgs("PlanBuilder.modulo",2,!1,r,e);return new i.XsNumeric("op","modulo",a)}case(...e){let n=c.getNamer(e,"when"),r=[["when",[Qo],!0,!0],["otherwise",[i.Item,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.case",2,new Set(["when","otherwise"]),r,e):c.makePositionalArgs("PlanBuilder.case",2,!1,r,e);return new i.Item("op","case",a)}when(...e){let n=c.getNamer(e,"condition"),r=[["condition",[i.XsBoolean,p,m],!0,!1],["value",[i.Item,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.when",2,new Set(["condition","value"]),r,e):c.makePositionalArgs("PlanBuilder.when",2,!1,r,e);return new Qo("op","when",a)}xpath(...e){let n=c.getNamer(e,"column"),r=[["column",[p,i.XsString],!0,!1],["path",[i.XsString,p,m],!0,!1],["namespace-bindings",[Am],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.xpath",2,new Set(["column","path","namespace-bindings"]),r,e):c.makePositionalArgs("PlanBuilder.xpath",2,!1,r,e);return new i.Node("op","xpath",a)}jsonDocument(...e){let n=["root",[i.JsonRootNode,p,m],!0,!1],r=c.makeSingleArgs("PlanBuilder.jsonDocument",1,n,e);return new i.DocumentNode("op","json-document",r)}jsonObject(...e){let n=["property",[Go],!1,!0],r=c.makeSingleArgs("PlanBuilder.jsonObject",0,n,e);return new i.ObjectNode("op","json-object",r)}prop(...e){let n=c.getNamer(e,"key"),r=[["key",[i.XsString,p,m],!0,!1],["value",[i.JsonContentNode,i.XsAnyAtomicType,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.prop",2,new Set(["key","value"]),r,e):c.makePositionalArgs("PlanBuilder.prop",2,!1,r,e);return new Go("op","prop",a)}jsonArray(...e){let n=["property",[i.JsonContentNode,i.XsAnyAtomicType,p,m],!1,!0],r=c.makeSingleArgs("PlanBuilder.jsonArray",0,n,e);return new i.ArrayNode("op","json-array",r)}jsonString(...e){let n=["value",[i.XsAnyAtomicType,p,m],!0,!1],r=c.makeSingleArgs("PlanBuilder.jsonString",1,n,e);return new i.TextNode("op","json-string",r)}jsonNumber(...e){let n=["value",[i.XsNumeric,p,m],!0,!1],r=c.makeSingleArgs("PlanBuilder.jsonNumber",1,n,e);return new i.NumberNode("op","json-number",r)}jsonBoolean(...e){let n=["value",[i.XsBoolean,p,m],!0,!1],r=c.makeSingleArgs("PlanBuilder.jsonBoolean",1,n,e);return new i.BooleanNode("op","json-boolean",r)}jsonNull(...e){return c.checkMaxArity("PlanBuilder.jsonNull",e.length,0),new i.NullNode("op","json-null",e)}xmlDocument(...e){let n=["root",[i.XmlRootNode,p,m],!0,!1],r=c.makeSingleArgs("PlanBuilder.xmlDocument",1,n,e);return new i.DocumentNode("op","xml-document",r)}xmlElement(...e){let n=c.getNamer(e,"name"),r=[["name",[i.XsQName,i.XsString,p,m],!0,!1],["attributes",[i.AttributeNode,p,m],!1,!0],["content",[i.XmlContentNode,i.XsAnyAtomicType,p,m],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.xmlElement",1,new Set(["name","attributes","content"]),r,e):c.makePositionalArgs("PlanBuilder.xmlElement",1,!1,r,e);return new i.ElementNode("op","xml-element",a)}xmlAttribute(...e){let n=c.getNamer(e,"name"),r=[["name",[i.XsQName,i.XsString,p,m],!0,!1],["value",[i.XsAnyAtomicType,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.xmlAttribute",2,new Set(["name","value"]),r,e):c.makePositionalArgs("PlanBuilder.xmlAttribute",2,!1,r,e);return new i.AttributeNode("op","xml-attribute",a)}xmlText(...e){let n=["value",[i.XsAnyAtomicType,p,m],!0,!1],r=c.makeSingleArgs("PlanBuilder.xmlText",1,n,e);return new i.TextNode("op","xml-text",r)}xmlComment(...e){let n=["content",[i.XsAnyAtomicType,p,m],!0,!1],r=c.makeSingleArgs("PlanBuilder.xmlComment",1,n,e);return new i.CommentNode("op","xml-comment",r)}xmlPi(...e){let n=c.getNamer(e,"name"),r=[["name",[i.XsString,p,m],!0,!1],["value",[i.XsAnyAtomicType,p,m],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.xmlPi",2,new Set(["name","value"]),r,e):c.makePositionalArgs("PlanBuilder.xmlPi",2,!1,r,e);return new i.ProcessingInstructionNode("op","xml-pi",a)}resolveFunction(...e){let n=c.getNamer(e,"functionName"),r=[["functionName",[i.XsQName,i.XsString],!0,!1],["modulePath",[i.XsString],!0,!1]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.resolveFunction",2,new Set(["functionName","modulePath"]),r,e):c.makePositionalArgs("PlanBuilder.resolveFunction",2,!1,r,e);return new ei("op","resolve-function",a)}docCols(...e){let n=c.getNamer(e,"qualifier"),r=[["qualifier",[i.XsString],!1,!1],["names",[i.XsString],!1,!0]],a=n!==null?c.makeNamedArgs(n,"PlanBuilder.docCols",0,new Set(["qualifier","names"]),r,e):c.makePositionalArgs("PlanBuilder.docCols",0,!1,r,e);return new Ln("op","doc-cols",a)}docColTypes(...e){return c.checkMaxArity("PlanBuilder.docColTypes",e.length,0),new Uo("op","doc-col-types",e)}};s(Ed,"PlanBuilder");var Cm=Ed;Nx.exports={PlanBuilder:Cm,CtsExpr:Co,FnExpr:_o,GeoExpr:Ro,JsonExpr:Xo,MapExpr:Do,MathExpr:Io,RdfExpr:Bo,SemExpr:jo,SpellExpr:Lo,SqlExpr:Mo,XdmpExpr:Fo,XsExpr:$o,Plan:Ko,AccessPlan:kt,PlanColumn:p,PlanExprCol:ae}});var _d=D((uB,Ox)=>{"use strict";var Pd=La(),Jo=Ma(),yn=Td();function Px(t){return typeof t=="string"||t instanceof String?t.length>0:!1}s(Px,"isNonEmptyString");function dO(t,e,n){if(!Px(n))throw new Error("cannot define "+e+" iri without name: "+n);let r=e.substr(-1,1);if(n.substr(0,1)===r){if(n.length===1)throw new Error("cannot define "+e+" iri with name of "+n);n=n.substr(1)}else if(n.length===0)throw new Error("cannot define "+e+" iri with empty name");return t.sem.iri(e+n)}s(dO,"iriMaker");yn.AccessPlan.prototype.col=function(...t){let e=this,n=["column",[Pd.XsString],!0,!1],r=Jo.makeSingleArgs("PlanAccessPlan.col",1,n,t),a=r[0],o=e._args;switch(e._fn){case"from-lexicons":case"from-literals":case"from-triples":let l=o.length>1?o[1]:null;if(l!=null)return new yn.PlanColumn("op","view-col",[l,a]);break;case"from-view":let u=o.length>2?o[2]:null;if(u!=null)return new yn.PlanColumn("op","view-col",[u,a]);{let f=o[0],d=o[1];return new yn.PlanColumn("op","schema-col",[f===void 0?null:f,d,a])}break}return new yn.PlanColumn("op","col",r)};var Od=class Od extends yn.PlanBuilder{constructor(){super({}),this.rdt===void 0&&(this.rdt=new Nd)}prefixer(e){let n=this;if(!Px(e))throw new Error("cannot define prefixer without prefix: "+e);let r=e.substr(-1,1);r!=="/"&&r!=="#"&&r!=="?"&&(e+="/");let a=e;return function(o){return dO(n,a,o)}}resolveFunction(e,n){return super.resolveFunction(e instanceof Pd.XsQName?e:this.xs.QName(e),n)}};s(Od,"Builder");var qd=Od,Cd=class Cd{constructor(){}maskDeterministic(...e){return hn("maskDeterministic","mask-deterministic",1,e)}maskRandom(...e){return hn("maskRandom","mask-random",1,e)}redactDatetime(...e){return hn("redactDatetime","redact-datetime",2,e)}redactEmail(...e){return hn("redactEmail","redact-email",1,e)}redactIpv4(...e){return hn("redactIpv4","redact-ipv4",1,e)}redactNumber(...e){return hn("redactNumber","redact-number",1,e)}redactRegex(...e){return hn("redactRegex","redact-regex",2,e)}redactUsSsn(...e){return hn("redactUsSsn","redact-us-ssn",1,e)}redactUsPhone(...e){return hn("redactUsPhone","redact-us-phone",1,e)}};s(Cd,"RdtExpr");var Nd=Cd;function hn(t,e,n,r){let a=Jo.getNamer(r,"column"),o=[["column",[yn.PlanColumn,Pd.XsString],!0,!1],["option",[],!1,!1]],l=a!==null?Jo.makeNamedArgs(a,`PlanBuilder.${t}`,n,new Set(["column","options"]),o,r):Jo.makePositionalArgs(`PlanBuilder.${t}`,n,!1,o,r);return new yn.PlanExprCol("ordt",e,l)}s(hn,"redactimpl");var gO=new qd;Ox.exports={builder:gO,Plan:yn.Plan}});var Cx=D((fB,Yo)=>{var Fe=function(t){"use strict";var e=1e7,n=7,r=9007199254740992,a=w(r),o="0123456789abcdefghijklmnopqrstuvwxyz",l=typeof BigInt=="function";function u(h,x,T,C){return typeof h>"u"?u[0]:typeof x<"u"?+x==10&&!T?te(h):An(h,x,T,C):te(h)}s(u,"Integer");function f(h,x){this.value=h,this.sign=x,this.isSmall=!1}s(f,"BigInteger"),f.prototype=Object.create(u.prototype);function d(h){this.value=h,this.sign=h<0,this.isSmall=!0}s(d,"SmallInteger"),d.prototype=Object.create(u.prototype);function g(h){this.value=h}s(g,"NativeBigInt"),g.prototype=Object.create(u.prototype);function v(h){return-r<h&&h<r}s(v,"isPrecise");function w(h){return h<1e7?[h]:h<1e14?[h%1e7,Math.floor(h/1e7)]:[h%1e7,Math.floor(h/1e7)%1e7,Math.floor(h/1e14)]}s(w,"smallToArray");function b(h){S(h);var x=h.length;if(x<4&&Ne(h,a)<0)switch(x){case 0:return 0;case 1:return h[0];case 2:return h[0]+h[1]*e;default:return h[0]+(h[1]+h[2]*e)*e}return h}s(b,"arrayToSmall");function S(h){for(var x=h.length;h[--x]===0;);h.length=x+1}s(S,"trim");function E(h){for(var x=new Array(h),T=-1;++T<h;)x[T]=0;return x}s(E,"createArray");function q(h){return h>0?Math.floor(h):Math.ceil(h)}s(q,"truncate");function P(h,x){var T=h.length,C=x.length,B=new Array(T),X=0,$=e,F,z;for(z=0;z<C;z++)F=h[z]+x[z]+X,X=F>=$?1:0,B[z]=F-X*$;for(;z<T;)F=h[z]+X,X=F===$?1:0,B[z++]=F-X*$;return X>0&&B.push(X),B}s(P,"add");function R(h,x){return h.length>=x.length?P(h,x):P(x,h)}s(R,"addAny");function O(h,x){var T=h.length,C=new Array(T),B=e,X,$;for($=0;$<T;$++)X=h[$]-B+x,x=Math.floor(X/B),C[$]=X-x*B,x+=1;for(;x>0;)C[$++]=x%B,x=Math.floor(x/B);return C}s(O,"addSmall"),f.prototype.add=function(h){var x=te(h);if(this.sign!==x.sign)return this.subtract(x.negate());var T=this.value,C=x.value;return x.isSmall?new f(O(T,Math.abs(C)),this.sign):new f(R(T,C),this.sign)},f.prototype.plus=f.prototype.add,d.prototype.add=function(h){var x=te(h),T=this.value;if(T<0!==x.sign)return this.subtract(x.negate());var C=x.value;if(x.isSmall){if(v(T+C))return new d(T+C);C=w(Math.abs(C))}return new f(O(C,Math.abs(T)),T<0)},d.prototype.plus=d.prototype.add,g.prototype.add=function(h){return new g(this.value+te(h).value)},g.prototype.plus=g.prototype.add;function M(h,x){var T=h.length,C=x.length,B=new Array(T),X=0,$=e,F,z;for(F=0;F<C;F++)z=h[F]-X-x[F],z<0?(z+=$,X=1):X=0,B[F]=z;for(F=C;F<T;F++){if(z=h[F]-X,z<0)z+=$;else{B[F++]=z;break}B[F]=z}for(;F<T;F++)B[F]=h[F];return S(B),B}s(M,"subtract");function j(h,x,T){var C;return Ne(h,x)>=0?C=M(h,x):(C=M(x,h),T=!T),C=b(C),typeof C=="number"?(T&&(C=-C),new d(C)):new f(C,T)}s(j,"subtractAny");function U(h,x,T){var C=h.length,B=new Array(C),X=-x,$=e,F,z;for(F=0;F<C;F++)z=h[F]+X,X=Math.floor(z/$),z%=$,B[F]=z<0?z+$:z;return B=b(B),typeof B=="number"?(T&&(B=-B),new d(B)):new f(B,T)}s(U,"subtractSmall"),f.prototype.subtract=function(h){var x=te(h);if(this.sign!==x.sign)return this.add(x.negate());var T=this.value,C=x.value;return x.isSmall?U(T,Math.abs(C),this.sign):j(T,C,this.sign)},f.prototype.minus=f.prototype.subtract,d.prototype.subtract=function(h){var x=te(h),T=this.value;if(T<0!==x.sign)return this.add(x.negate());var C=x.value;return x.isSmall?new d(T-C):U(C,Math.abs(T),T>=0)},d.prototype.minus=d.prototype.subtract,g.prototype.subtract=function(h){return new g(this.value-te(h).value)},g.prototype.minus=g.prototype.subtract,f.prototype.negate=function(){return new f(this.value,!this.sign)},d.prototype.negate=function(){var h=this.sign,x=new d(-this.value);return x.sign=!h,x},g.prototype.negate=function(){return new g(-this.value)},f.prototype.abs=function(){return new f(this.value,!1)},d.prototype.abs=function(){return new d(Math.abs(this.value))},g.prototype.abs=function(){return new g(this.value>=0?this.value:-this.value)};function G(h,x){var T=h.length,C=x.length,B=T+C,X=E(B),$=e,F,z,re,me,ie;for(re=0;re<T;++re){me=h[re];for(var xe=0;xe<C;++xe)ie=x[xe],F=me*ie+X[re+xe],z=Math.floor(F/$),X[re+xe]=F-z*$,X[re+xe+1]+=z}return S(X),X}s(G,"multiplyLong");function k(h,x){var T=h.length,C=new Array(T),B=e,X=0,$,F;for(F=0;F<T;F++)$=h[F]*x+X,X=Math.floor($/B),C[F]=$-X*B;for(;X>0;)C[F++]=X%B,X=Math.floor(X/B);return C}s(k,"multiplySmall");function Y(h,x){for(var T=[];x-- >0;)T.push(0);return T.concat(h)}s(Y,"shiftLeft");function K(h,x){var T=Math.max(h.length,x.length);if(T<=30)return G(h,x);T=Math.ceil(T/2);var C=h.slice(T),B=h.slice(0,T),X=x.slice(T),$=x.slice(0,T),F=K(B,$),z=K(C,X),re=K(R(B,C),R($,X)),me=R(R(F,Y(M(M(re,F),z),T)),Y(z,2*T));return S(me),me}s(K,"multiplyKaratsuba");function H(h,x){return-.012*h-.012*x+15e-6*h*x>0}s(H,"useKaratsuba"),f.prototype.multiply=function(h){var x=te(h),T=this.value,C=x.value,B=this.sign!==x.sign,X;if(x.isSmall){if(C===0)return u[0];if(C===1)return this;if(C===-1)return this.negate();if(X=Math.abs(C),X<e)return new f(k(T,X),B);C=w(X)}return H(T.length,C.length)?new f(K(T,C),B):new f(G(T,C),B)},f.prototype.times=f.prototype.multiply;function pe(h,x,T){return h<e?new f(k(x,h),T):new f(G(x,w(h)),T)}s(pe,"multiplySmallAndArray"),d.prototype._multiplyBySmall=function(h){return v(h.value*this.value)?new d(h.value*this.value):pe(Math.abs(h.value),w(Math.abs(this.value)),this.sign!==h.sign)},f.prototype._multiplyBySmall=function(h){return h.value===0?u[0]:h.value===1?this:h.value===-1?this.negate():pe(Math.abs(h.value),this.value,this.sign!==h.sign)},d.prototype.multiply=function(h){return te(h)._multiplyBySmall(this)},d.prototype.times=d.prototype.multiply,g.prototype.multiply=function(h){return new g(this.value*te(h).value)},g.prototype.times=g.prototype.multiply;function ge(h){var x=h.length,T=E(x+x),C=e,B,X,$,F,z;for($=0;$<x;$++){F=h[$],X=0-F*F;for(var re=$;re<x;re++)z=h[re],B=2*(F*z)+T[$+re]+X,X=Math.floor(B/C),T[$+re]=B-X*C;T[$+x]=X}return S(T),T}s(ge,"square"),f.prototype.square=function(){return new f(ge(this.value),!1)},d.prototype.square=function(){var h=this.value*this.value;return v(h)?new d(h):new f(ge(w(Math.abs(this.value))),!1)},g.prototype.square=function(h){return new g(this.value*this.value)};function be(h,x){var T=h.length,C=x.length,B=e,X=E(x.length),$=x[C-1],F=Math.ceil(B/(2*$)),z=k(h,F),re=k(x,F),me,ie,xe,mt,ct,Bl,jl;for(z.length<=T&&z.push(0),re.push(0),$=re[C-1],ie=T-C;ie>=0;ie--){for(me=B-1,z[ie+C]!==$&&(me=Math.floor((z[ie+C]*B+z[ie+C-1])/$)),xe=0,mt=0,Bl=re.length,ct=0;ct<Bl;ct++)xe+=me*re[ct],jl=Math.floor(xe/B),mt+=z[ie+ct]-(xe-jl*B),xe=jl,mt<0?(z[ie+ct]=mt+B,mt=-1):(z[ie+ct]=mt,mt=0);for(;mt!==0;){for(me-=1,xe=0,ct=0;ct<Bl;ct++)xe+=z[ie+ct]-B+re[ct],xe<0?(z[ie+ct]=xe+B,xe=0):(z[ie+ct]=xe,xe=1);mt+=xe}X[ie]=me}return z=J(z,F)[0],[b(X),b(z)]}s(be,"divMod1");function Re(h,x){for(var T=h.length,C=x.length,B=[],X=[],$=e,F,z,re,me,ie;T;){if(X.unshift(h[--T]),S(X),Ne(X,x)<0){B.push(0);continue}z=X.length,re=X[z-1]*$+X[z-2],me=x[C-1]*$+x[C-2],z>C&&(re=(re+1)*$),F=Math.ceil(re/me);do{if(ie=k(x,F),Ne(ie,X)<=0)break;F--}while(F);B.push(F),X=M(X,ie)}return B.reverse(),[b(B),b(X)]}s(Re,"divMod2");function J(h,x){var T=h.length,C=E(T),B=e,X,$,F,z;for(F=0,X=T-1;X>=0;--X)z=F*B+h[X],$=q(z/x),F=z-$*x,C[X]=$|0;return[C,F|0]}s(J,"divModSmall");function Be(h,x){var T,C=te(x);if(l)return[new g(h.value/C.value),new g(h.value%C.value)];var B=h.value,X=C.value,$;if(X===0)throw new Error("Cannot divide by zero");if(h.isSmall)return C.isSmall?[new d(q(B/X)),new d(B%X)]:[u[0],h];if(C.isSmall){if(X===1)return[h,u[0]];if(X==-1)return[h.negate(),u[0]];var F=Math.abs(X);if(F<e){T=J(B,F),$=b(T[0]);var z=T[1];return h.sign&&(z=-z),typeof $=="number"?(h.sign!==C.sign&&($=-$),[new d($),new d(z)]):[new f($,h.sign!==C.sign),new d(z)]}X=w(F)}var re=Ne(B,X);if(re===-1)return[u[0],h];if(re===0)return[u[h.sign===C.sign?1:-1],u[0]];B.length+X.length<=200?T=be(B,X):T=Re(B,X),$=T[0];var me=h.sign!==C.sign,ie=T[1],xe=h.sign;return typeof $=="number"?(me&&($=-$),$=new d($)):$=new f($,me),typeof ie=="number"?(xe&&(ie=-ie),ie=new d(ie)):ie=new f(ie,xe),[$,ie]}s(Be,"divModAny"),f.prototype.divmod=function(h){var x=Be(this,h);return{quotient:x[0],remainder:x[1]}},g.prototype.divmod=d.prototype.divmod=f.prototype.divmod,f.prototype.divide=function(h){return Be(this,h)[0]},g.prototype.over=g.prototype.divide=function(h){return new g(this.value/te(h).value)},d.prototype.over=d.prototype.divide=f.prototype.over=f.prototype.divide,f.prototype.mod=function(h){return Be(this,h)[1]},g.prototype.mod=g.prototype.remainder=function(h){return new g(this.value%te(h).value)},d.prototype.remainder=d.prototype.mod=f.prototype.remainder=f.prototype.mod,f.prototype.pow=function(h){var x=te(h),T=this.value,C=x.value,B,X,$;if(C===0)return u[1];if(T===0)return u[0];if(T===1)return u[1];if(T===-1)return x.isEven()?u[1]:u[-1];if(x.sign)return u[0];if(!x.isSmall)throw new Error("The exponent "+x.toString()+" is too large.");if(this.isSmall&&v(B=Math.pow(T,C)))return new d(q(B));for(X=this,$=u[1];C&!0&&($=$.times(X),--C),C!==0;)C/=2,X=X.square();return $},d.prototype.pow=f.prototype.pow,g.prototype.pow=function(h){var x=te(h),T=this.value,C=x.value,B=BigInt(0),X=BigInt(1),$=BigInt(2);if(C===B)return u[1];if(T===B)return u[0];if(T===X)return u[1];if(T===BigInt(-1))return x.isEven()?u[1]:u[-1];if(x.isNegative())return new g(B);for(var F=this,z=u[1];(C&X)===X&&(z=z.times(F),--C),C!==B;)C/=$,F=F.square();return z},f.prototype.modPow=function(h,x){if(h=te(h),x=te(x),x.isZero())throw new Error("Cannot take modPow with modulus 0");var T=u[1],C=this.mod(x);for(h.isNegative()&&(h=h.multiply(u[-1]),C=C.modInv(x));h.isPositive();){if(C.isZero())return u[0];h.isOdd()&&(T=T.multiply(C).mod(x)),h=h.divide(2),C=C.square().mod(x)}return T},g.prototype.modPow=d.prototype.modPow=f.prototype.modPow;function Ne(h,x){if(h.length!==x.length)return h.length>x.length?1:-1;for(var T=h.length-1;T>=0;T--)if(h[T]!==x[T])return h[T]>x[T]?1:-1;return 0}s(Ne,"compareAbs"),f.prototype.compareAbs=function(h){var x=te(h),T=this.value,C=x.value;return x.isSmall?1:Ne(T,C)},d.prototype.compareAbs=function(h){var x=te(h),T=Math.abs(this.value),C=x.value;return x.isSmall?(C=Math.abs(C),T===C?0:T>C?1:-1):-1},g.prototype.compareAbs=function(h){var x=this.value,T=te(h).value;return x=x>=0?x:-x,T=T>=0?T:-T,x===T?0:x>T?1:-1},f.prototype.compare=function(h){if(h===1/0)return-1;if(h===-1/0)return 1;var x=te(h),T=this.value,C=x.value;return this.sign!==x.sign?x.sign?1:-1:x.isSmall?this.sign?-1:1:Ne(T,C)*(this.sign?-1:1)},f.prototype.compareTo=f.prototype.compare,d.prototype.compare=function(h){if(h===1/0)return-1;if(h===-1/0)return 1;var x=te(h),T=this.value,C=x.value;return x.isSmall?T==C?0:T>C?1:-1:T<0!==x.sign?T<0?-1:1:T<0?1:-1},d.prototype.compareTo=d.prototype.compare,g.prototype.compare=function(h){if(h===1/0)return-1;if(h===-1/0)return 1;var x=this.value,T=te(h).value;return x===T?0:x>T?1:-1},g.prototype.compareTo=g.prototype.compare,f.prototype.equals=function(h){return this.compare(h)===0},g.prototype.eq=g.prototype.equals=d.prototype.eq=d.prototype.equals=f.prototype.eq=f.prototype.equals,f.prototype.notEquals=function(h){return this.compare(h)!==0},g.prototype.neq=g.prototype.notEquals=d.prototype.neq=d.prototype.notEquals=f.prototype.neq=f.prototype.notEquals,f.prototype.greater=function(h){return this.compare(h)>0},g.prototype.gt=g.prototype.greater=d.prototype.gt=d.prototype.greater=f.prototype.gt=f.prototype.greater,f.prototype.lesser=function(h){return this.compare(h)<0},g.prototype.lt=g.prototype.lesser=d.prototype.lt=d.prototype.lesser=f.prototype.lt=f.prototype.lesser,f.prototype.greaterOrEquals=function(h){return this.compare(h)>=0},g.prototype.geq=g.prototype.greaterOrEquals=d.prototype.geq=d.prototype.greaterOrEquals=f.prototype.geq=f.prototype.greaterOrEquals,f.prototype.lesserOrEquals=function(h){return this.compare(h)<=0},g.prototype.leq=g.prototype.lesserOrEquals=d.prototype.leq=d.prototype.lesserOrEquals=f.prototype.leq=f.prototype.lesserOrEquals,f.prototype.isEven=function(){return(this.value[0]&1)===0},d.prototype.isEven=function(){return(this.value&1)===0},g.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},f.prototype.isOdd=function(){return(this.value[0]&1)===1},d.prototype.isOdd=function(){return(this.value&1)===1},g.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},f.prototype.isPositive=function(){return!this.sign},d.prototype.isPositive=function(){return this.value>0},g.prototype.isPositive=d.prototype.isPositive,f.prototype.isNegative=function(){return this.sign},d.prototype.isNegative=function(){return this.value<0},g.prototype.isNegative=d.prototype.isNegative,f.prototype.isUnit=function(){return!1},d.prototype.isUnit=function(){return Math.abs(this.value)===1},g.prototype.isUnit=function(){return this.abs().value===BigInt(1)},f.prototype.isZero=function(){return!1},d.prototype.isZero=function(){return this.value===0},g.prototype.isZero=function(){return this.value===BigInt(0)},f.prototype.isDivisibleBy=function(h){var x=te(h);return x.isZero()?!1:x.isUnit()?!0:x.compareAbs(2)===0?this.isEven():this.mod(x).isZero()},g.prototype.isDivisibleBy=d.prototype.isDivisibleBy=f.prototype.isDivisibleBy;function Ve(h){var x=h.abs();if(x.isUnit())return!1;if(x.equals(2)||x.equals(3)||x.equals(5))return!0;if(x.isEven()||x.isDivisibleBy(3)||x.isDivisibleBy(5))return!1;if(x.lesser(49))return!0}s(Ve,"isBasicPrime");function Ue(h,x){for(var T=h.prev(),C=T,B=0,X,$,F,z;C.isEven();)C=C.divide(2),B++;e:for(F=0;F<x.length;F++)if(!h.lesser(x[F])&&(z=Fe(x[F]).modPow(C,h),!(z.isUnit()||z.equals(T)))){for(X=B-1;X!=0;X--){if(z=z.square().mod(h),z.isUnit())return!1;if(z.equals(T))continue e}return!1}return!0}s(Ue,"millerRabinTest"),f.prototype.isPrime=function(h){var x=Ve(this);if(x!==t)return x;var T=this.abs(),C=T.bitLength();if(C<=64)return Ue(T,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var B=Math.log(2)*C.toJSNumber(),X=Math.ceil(h===!0?2*Math.pow(B,2):B),$=[],F=0;F<X;F++)$.push(Fe(F+2));return Ue(T,$)},g.prototype.isPrime=d.prototype.isPrime=f.prototype.isPrime,f.prototype.isProbablePrime=function(h,x){var T=Ve(this);if(T!==t)return T;for(var C=this.abs(),B=h===t?5:h,X=[],$=0;$<B;$++)X.push(Fe.randBetween(2,C.minus(2),x));return Ue(C,X)},g.prototype.isProbablePrime=d.prototype.isProbablePrime=f.prototype.isProbablePrime,f.prototype.modInv=function(h){for(var x=Fe.zero,T=Fe.one,C=te(h),B=this.abs(),X,$,F;!B.isZero();)X=C.divide(B),$=x,F=C,x=T,C=B,T=$.subtract(X.multiply(T)),B=F.subtract(X.multiply(B));if(!C.isUnit())throw new Error(this.toString()+" and "+h.toString()+" are not co-prime");return x.compare(0)===-1&&(x=x.add(h)),this.isNegative()?x.negate():x},g.prototype.modInv=d.prototype.modInv=f.prototype.modInv,f.prototype.next=function(){var h=this.value;return this.sign?U(h,1,this.sign):new f(O(h,1),this.sign)},d.prototype.next=function(){var h=this.value;return h+1<r?new d(h+1):new f(a,!1)},g.prototype.next=function(){return new g(this.value+BigInt(1))},f.prototype.prev=function(){var h=this.value;return this.sign?new f(O(h,1),!0):U(h,1,this.sign)},d.prototype.prev=function(){var h=this.value;return h-1>-r?new d(h-1):new f(a,!0)},g.prototype.prev=function(){return new g(this.value-BigInt(1))};for(var He=[1];2*He[He.length-1]<=e;)He.push(2*He[He.length-1]);var Lt=He.length,ft=He[Lt-1];function en(h){return Math.abs(h)<=e}s(en,"shift_isSmall"),f.prototype.shiftLeft=function(h){var x=te(h).toJSNumber();if(!en(x))throw new Error(String(x)+" is too large for shifting.");if(x<0)return this.shiftRight(-x);var T=this;if(T.isZero())return T;for(;x>=Lt;)T=T.multiply(ft),x-=Lt-1;return T.multiply(He[x])},g.prototype.shiftLeft=d.prototype.shiftLeft=f.prototype.shiftLeft,f.prototype.shiftRight=function(h){var x,T=te(h).toJSNumber();if(!en(T))throw new Error(String(T)+" is too large for shifting.");if(T<0)return this.shiftLeft(-T);for(var C=this;T>=Lt;){if(C.isZero()||C.isNegative()&&C.isUnit())return C;x=Be(C,ft),C=x[1].isNegative()?x[0].prev():x[0],T-=Lt-1}return x=Be(C,He[T]),x[1].isNegative()?x[0].prev():x[0]},g.prototype.shiftRight=d.prototype.shiftRight=f.prototype.shiftRight;function Kn(h,x,T){x=te(x);for(var C=h.isNegative(),B=x.isNegative(),X=C?h.not():h,$=B?x.not():x,F=0,z=0,re=null,me=null,ie=[];!X.isZero()||!$.isZero();)re=Be(X,ft),F=re[1].toJSNumber(),C&&(F=ft-1-F),me=Be($,ft),z=me[1].toJSNumber(),B&&(z=ft-1-z),X=re[0],$=me[0],ie.push(T(F,z));for(var xe=T(C?1:0,B?1:0)!==0?Fe(-1):Fe(0),mt=ie.length-1;mt>=0;mt-=1)xe=xe.multiply(ft).add(Fe(ie[mt]));return xe}s(Kn,"bitwise"),f.prototype.not=function(){return this.negate().prev()},g.prototype.not=d.prototype.not=f.prototype.not,f.prototype.and=function(h){return Kn(this,h,function(x,T){return x&T})},g.prototype.and=d.prototype.and=f.prototype.and,f.prototype.or=function(h){return Kn(this,h,function(x,T){return x|T})},g.prototype.or=d.prototype.or=f.prototype.or,f.prototype.xor=function(h){return Kn(this,h,function(x,T){return x^T})},g.prototype.xor=d.prototype.xor=f.prototype.xor;var A=1<<30,y=(e&-e)*(e&-e)|A;function L(h){var x=h.value,T=typeof x=="number"?x|A:typeof x=="bigint"?x|BigInt(A):x[0]+x[1]*e|y;return T&-T}s(L,"roughLOB");function _(h,x){if(x.compareTo(h)<=0){var T=_(h,x.square(x)),C=T.p,B=T.e,X=C.multiply(x);return X.compareTo(h)<=0?{p:X,e:B*2+1}:{p:C,e:B*2}}return{p:Fe(1),e:0}}s(_,"integerLogarithm"),f.prototype.bitLength=function(){var h=this;return h.compareTo(Fe(0))<0&&(h=h.negate().subtract(Fe(1))),h.compareTo(Fe(0))===0?Fe(0):Fe(_(h,Fe(2)).e).add(Fe(1))},g.prototype.bitLength=d.prototype.bitLength=f.prototype.bitLength;function le(h,x){return h=te(h),x=te(x),h.greater(x)?h:x}s(le,"max");function Ee(h,x){return h=te(h),x=te(x),h.lesser(x)?h:x}s(Ee,"min");function Pe(h,x){if(h=te(h).abs(),x=te(x).abs(),h.equals(x))return h;if(h.isZero())return x;if(x.isZero())return h;for(var T=u[1],C,B;h.isEven()&&x.isEven();)C=Ee(L(h),L(x)),h=h.divide(C),x=x.divide(C),T=T.multiply(C);for(;h.isEven();)h=h.divide(L(h));do{for(;x.isEven();)x=x.divide(L(x));h.greater(x)&&(B=x,x=h,h=B),x=x.subtract(h)}while(!x.isZero());return T.isUnit()?h:h.multiply(T)}s(Pe,"gcd");function Je(h,x){return h=te(h).abs(),x=te(x).abs(),h.divide(Pe(h,x)).multiply(x)}s(Je,"lcm");function Ye(h,x,T){h=te(h),x=te(x);var C=T||Math.random,B=Ee(h,x),X=le(h,x),$=X.subtract(B).add(1);if($.isSmall)return B.add(Math.floor(C()*$));for(var F=Vn($,e).value,z=[],re=!0,me=0;me<F.length;me++){var ie=re?F[me]+(me+1<F.length?F[me+1]/e:0):e,xe=q(C()*ie);z.push(xe),xe<F[me]&&(re=!1)}return B.add(u.fromArray(z,e,!1))}s(Ye,"randBetween");var An=s(function(h,x,T,C){T=T||o,h=String(h),C||(h=h.toLowerCase(),T=T.toLowerCase());var B=h.length,X,$=Math.abs(x),F={};for(X=0;X<T.length;X++)F[T[X]]=X;for(X=0;X<B;X++){var z=h[X];if(z!=="-"&&z in F&&F[z]>=$){if(z==="1"&&$===1)continue;throw new Error(z+" is not a valid digit in base "+x+".")}}x=te(x);var re=[],me=h[0]==="-";for(X=me?1:0;X<h.length;X++){var z=h[X];if(z in F)re.push(te(F[z]));else if(z==="<"){var ie=X;do X++;while(h[X]!==">"&&X<h.length);re.push(te(h.slice(ie+1,X)))}else throw new Error(z+" is not a valid character")}return je(re,x,me)},"parseBase");function je(h,x,T){var C=u[0],B=u[1],X;for(X=h.length-1;X>=0;X--)C=C.add(h[X].times(B)),B=B.times(x);return T?C.negate():C}s(je,"parseBaseFromArray");function Nt(h,x){return x=x||o,h<x.length?x[h]:"<"+h+">"}s(Nt,"stringify");function Vn(h,x){if(x=Fe(x),x.isZero()){if(h.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(x.equals(-1)){if(h.isZero())return{value:[0],isNegative:!1};if(h.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-h.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var T=Array.apply(null,Array(h.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return T.unshift([1]),{value:[].concat.apply([],T),isNegative:!1}}var C=!1;if(h.isNegative()&&x.isPositive()&&(C=!0,h=h.abs()),x.isUnit())return h.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(h.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:C};for(var B=[],X=h,$;X.isNegative()||X.compareAbs(x)>=0;){$=X.divmod(x),X=$.quotient;var F=$.remainder;F.isNegative()&&(F=x.minus(F).abs(),X=X.next()),B.push(F.toJSNumber())}return B.push(X.toJSNumber()),{value:B.reverse(),isNegative:C}}s(Vn,"toBase");function fa(h,x,T){var C=Vn(h,x);return(C.isNegative?"-":"")+C.value.map(function(B){return Nt(B,T)}).join("")}s(fa,"toBaseString"),f.prototype.toArray=function(h){return Vn(this,h)},d.prototype.toArray=function(h){return Vn(this,h)},g.prototype.toArray=function(h){return Vn(this,h)},f.prototype.toString=function(h,x){if(h===t&&(h=10),h!==10||x)return fa(this,h,x);for(var T=this.value,C=T.length,B=String(T[--C]),X="0000000",$;--C>=0;)$=String(T[C]),B+=X.slice($.length)+$;var F=this.sign?"-":"";return F+B},d.prototype.toString=function(h,x){return h===t&&(h=10),h!=10||x?fa(this,h,x):String(this.value)},g.prototype.toString=d.prototype.toString,g.prototype.toJSON=f.prototype.toJSON=d.prototype.toJSON=function(){return this.toString()},f.prototype.valueOf=function(){return parseInt(this.toString(),10)},f.prototype.toJSNumber=f.prototype.valueOf,d.prototype.valueOf=function(){return this.value},d.prototype.toJSNumber=d.prototype.valueOf,g.prototype.valueOf=g.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function Er(h){if(v(+h)){var x=+h;if(x===q(x))return l?new g(BigInt(x)):new d(x);throw new Error("Invalid integer: "+h)}var T=h[0]==="-";T&&(h=h.slice(1));var C=h.split(/e/i);if(C.length>2)throw new Error("Invalid integer: "+C.join("e"));if(C.length===2){var B=C[1];if(B[0]==="+"&&(B=B.slice(1)),B=+B,B!==q(B)||!v(B))throw new Error("Invalid integer: "+B+" is not a valid exponent.");var X=C[0],$=X.indexOf(".");if($>=0&&(B-=X.length-$-1,X=X.slice(0,$)+X.slice($+1)),B<0)throw new Error("Cannot include negative exponent part for integers");X+=new Array(B+1).join("0"),h=X}var F=/^([0-9][0-9]*)$/.test(h);if(!F)throw new Error("Invalid integer: "+h);if(l)return new g(BigInt(T?"-"+h:h));for(var z=[],re=h.length,me=n,ie=re-me;re>0;)z.push(+h.slice(ie,re)),ie-=me,ie<0&&(ie=0),re-=me;return S(z),new f(z,T)}s(Er,"parseStringValue");function Ai(h){if(l)return new g(BigInt(h));if(v(h)){if(h!==q(h))throw new Error(h+" is not an integer.");return new d(h)}return Er(h.toString())}s(Ai,"parseNumberValue");function te(h){return typeof h=="number"?Ai(h):typeof h=="string"?Er(h):typeof h=="bigint"?new g(h):h}s(te,"parseValue");for(var Hn=0;Hn<1e3;Hn++)u[Hn]=te(Hn),Hn>0&&(u[-Hn]=te(-Hn));return u.one=u[1],u.zero=u[0],u.minusOne=u[-1],u.max=le,u.min=Ee,u.gcd=Pe,u.lcm=Je,u.isInstance=function(h){return h instanceof f||h instanceof d||h instanceof g},u.randBetween=Ye,u.fromArray=function(h,x,T){return je(h.map(te),te(x||10),T)},u}();typeof Yo<"u"&&Yo.hasOwnProperty("exports")&&(Yo.exports=Fe);typeof define=="function"&&define.amd&&define(function(){return Fe})});var Ix=D((dB,Dx)=>{"use strict";var ai=et(),Ke=Oe(),ri=st(),Zo=_d(),hO=require("stream"),Xd=Cx();function Fn(t){this.client=t}s(Fn,"Rows");Fn.prototype.query=s(function(){let e=Ke.asArray.apply(null,arguments);if(e.length<1)throw new Error("built plan required");let n=e[0],r=e.length>=2?e[1]:null;return el(this,n,null,r,e[2])},"queryRows");function el(t,e,n,r,a,o){let l=Xx(t,e,n,r,a,o),u=ai.startRequest(l);return n!==null?u.stream(n):u.result()}s(el,"queryRowsImpl");function Xx(t,e,n,r,a,o){let l="?",u=["json","xml","csv"],f=["object","array"],d=["rows","header"],g=["inline","reference"],v=["chunked","object","sequence"],w="json",b="object",S="rows",E=null,q=null;if(r=r||{},n!==null&&v.indexOf(n)<0)throw new Error('invalid stream type "'+r.streamType+'"');if(r.format!==null&&r.format!==void 0)if(u.indexOf(r.format)>=0)w=r.format;else throw new Error('invalid row format "'+r.format+'"');if(r.structure!==null&&r.structure!==void 0)if(f.indexOf(r.structure)>=0)b=r.structure;else throw new Error('invalid row structure "'+r.structure+'"');if(r.columnTypes!==null&&r.columnTypes!==void 0)if(d.indexOf(r.columnTypes)>=0)S=r.columnTypes;else throw new Error('invalid column types "'+r.columnTypes+'"');if(r.complexValues!==null&&r.complexValues!==void 0){if(g.indexOf(r.complexValues)>=0)E=r.complexValues;else throw new Error('invalid node columns "'+r.complexValues+'"');if(E==="reference"&&n==="chunked")throw new Error("complexValue cannot be reference when streamType is chunked")}if(r.timestamp!==null&&r.timestamp!==void 0)if(!(q instanceof Ke.Timestamp))q=r.timestamp;else throw new Error("invalid timestamp");let P=o?"application/graphql":Id(e,r.queryType),R=_x(r,o,b);r.bindings&&(R+=Ke.makeBindingsParams(r.bindings,l),l==="?"&&(l="&"));let O=t.client.getConnectionParams();if(a){let k=Object.keys(a),Y=k[0],K=k[1],H=k[2],pe=JSON.stringify(e.export()),ge=Ke.multipartBoundary,be=_x(r,o,b),Re=Ke.newRequestOptions(O,be,"POST");Re.headers={"Content-Type":"multipart/form-data; boundary="+ge,Accept:"application/json"};let J=new ri("binding arguments "+be,t.client,Re,"multipart","single");return J.headers={"Content-Type":"multipart/form-data; boundary="+ge},J.bindingParam={[Y]:typeof a[Y]=="string"?JSON.parse(a[Y]):a[Y],query:pe,key:Y,attachments:a[K],metadata:a[H]},J}let M=null,j=null;switch(w){case"xml":M="application/xml",j="single",R+=Rd(r,b,"column-types="+S,l,R.includes("output="));break;case"csv":M="text/csv",j="single",R+=Rd(r,b,"column-types=header",l,R.includes("output=")),l==="?"&&(l="&");break;default:n!==null&&n==="sequence"?(M="application/json-seq",j="single"):n!==null&&n==="object"?E==="reference"?(M="multipart/mixed; boundary="+Ke.multipartBoundary,j="multipart"):(M="application/json-seq",j="single"):(M="application/json",j="single"),R+=Rd(r,b,"column-types="+S,l,R.includes("output=")),l==="?"&&(l="&"),R+=E==="reference"?l+"node-columns=reference":"";break}q!==null&&q.value!==null&&(R+=l+"timestamp="+q.value,l==="?"&&(l="&"));let U=Ke.newRequestOptions(O,R,"POST");U.headers={"Content-Type":P,Accept:M};let G=new ri("query rows",t.client,U,"single",j);return G.validStatusCodes=[200,404],G.complexValues=E,o?G.requestBody=o:e instanceof Zo.Plan?G.requestBody=JSON.stringify(e.export()):G.requestBody=e,G.timestamp=q!==null?q:null,G}s(Xx,"queryRowsOperationImpl");function _x(t,e,n){let r=e?"/v1/rows/graphql":"/v1/rows";return t&&t.update?r=t.opticExecute?"/v1/rows/update":"/v1/rows/update?output="+n:n&&n!=="object"&&(r+="?output="+n),r}s(_x,"createRowsEndpoint");function Rd(t,e,n,r,a){return t&&t.update?(t.opticExecute?"?":"&")+n:a?"&"+n:r+"output="+e+"&"+n}s(Rd,"addOutputAndColumnTypes");function Id(t,e){let n="application/json";if(e==null)return n;if(["json","sparql","sql","dsl"].indexOf(e)<0)throw new Error('invalid queryType "'+e+'"');if(e!="json"&&typeof t!="string"&&!(t instanceof String))throw new Error('queryType "'+e+'" must be provided as string');switch(e){case"json":return n;case"sql":return"application/sql";case"sparql":return"application/sparql-query";case"dsl":return"application/vnd.marklogic.querydsl+javascript";default:throw new Error('unknown queryType "'+e+'"')}}s(Id,"queryContentType");Fn.prototype.queryAsStream=s(function(){let e=Ke.asArray.apply(null,arguments),n="chunked",r=null;if(e.length<1)throw new Error("built plan required");let a=e[0];return e.length===2?typeof e[1]=="string"||e[1]instanceof String?n=e[1]:r=e[1]:e.length>2&&(n=e[1],r=e[2]),el(this,a,n,r)},"queryAsStreamRows");Fn.prototype.explain=s(function(e,n,r){let a=this.client.getConnectionParams(),o=Ke.copyProperties(a);o.method="POST";let l=["json","xml"],u="application/json";if(n!=null)if(l.indexOf(n)>=0)u="application/"+n;else throw new Error('invalid explain format "'+n+'"');let f=Id(e,r);o.headers={"Content-Type":f,Accept:u},o.path="/v1/rows?output=explain";let d=new ri("explain rows",this.client,o,"single","single");return d.validStatusCodes=[200],e instanceof Zo.Plan?d.requestBody=JSON.stringify(e.export()):d.requestBody=e,ai.startRequest(d).result()},"explainRows");Fn.prototype.generateView=s(function(e,n,r,a){if(n==null||n.length===0)throw new Error("schema cannot be null or empty");if(r==null||r.length===0)throw new Error("view cannot be null or empty");let o="application/xml",l=Id(e,a),u="/v1/rows?output=generateView&schemaName="+n+"&viewName="+r,f=Ke.newRequestOptions(this.client.getConnectionParams(),u,"POST");f.headers={"Content-Type":l,Accept:o};let d=new ri("generate view",this.client,f,"single","single");return d.validStatusCodes=[200],e instanceof Zo.Plan?d.requestBody=JSON.stringify(e.export()):d.requestBody=e,ai.startRequest(d).result()},"generateViewRows");Fn.prototype.queryAll=s(function(e,n){let a=Ke.newRequestOptions(this.client.getConnectionParams(),"/v1/internal/viewinfo","POST");a.headers={Accept:"application/json","Content-Type":"application/json"};let o=new ri("read viewInfo",this.client,a,"single","single");e instanceof Zo.Plan?o.requestBody=JSON.stringify(e.export()):o.requestBody=e;let l={docInstance:this,requesterCount:0,rowsReadSuccessfully:0,rowsFailedToBeRead:0,jobOptions:n?Ke.copyProperties(n):{}};if(l.stream=new hO.PassThrough({objectMode:!0}),l.jobOptions.consistentSnapshot&&typeof l.jobOptions.consistentSnapshot!="boolean"&&!(l.jobOptions.consistentSnapshot instanceof Boolean)&&!(l.jobOptions.consistentSnapshot instanceof Ke.Timestamp))throw new Error("consistentSnapshot needs to be a boolean or DatabaseClient.Timestamp object.");if(l.jobOptions.onInitialTimestamp&&l.jobOptions.consistentSnapshot!==!0)throw new Error("consistentSnapshot needs to be true when onInitialTimestamp is provided.");if(!l.jobOptions.batchSize)l.jobOptions.batchSize=100;else if(l.jobOptions.batchSize>1e5||l.jobOptions.batchSize<1)throw new Error("batchSize cannot be greater than 100000 or less than 1");if(l.jobOptions.concurrentRequests){let u=l.jobOptions.concurrentRequests;if(u.multipleOf){if(!new Set(["forests","hosts"]).has(String(u.multipleOf.toString().toLowerCase())))throw new Error("Invalid value for multipleOf. Value must be forests or hosts.")}else u.multipleOf="forests";if(u.multiplier&&u.multiplier<=0)throw new Error("concurrentRequests.multiplier cannot be less than one");u.multiplier=4,l.jobOptions.concurrentRequests=u}else l.jobOptions.concurrentRequests={multipleOf:"forests",multiplier:4};if(l.jobOptions.outputStreamType){let u=l.jobOptions.outputStreamType.toString().toLowerCase();if(!new Set(["chunked","object","sequence"]).has(String(u)))throw new Error("Invalid value for outputStreamType. Value must be chunked, object or sequence.");l.jobOptions.outputStreamType=u}else l.jobOptions.outputStreamType="object";if(l.jobOptions.columnTypes){let u=l.jobOptions.columnTypes.toString().toLowerCase();if(!new Set(["rows","header"]).has(String(u)))throw new Error("Invalid value for columnTypes. Value must be rows or header.");l.jobOptions.columnTypes=u}else l.jobOptions.columnTypes="rows";if(l.jobOptions.rowStructure){let u=l.jobOptions.rowStructure.toString().toLowerCase();if(!new Set(["object","array"]).has(String(u)))throw new Error("Invalid value for rowStructure. Value must be object or array.");l.jobOptions.rowStructure=u}else l.jobOptions.rowStructure="object";if(l.jobOptions.rowFormat){let u=l.jobOptions.rowFormat.toString().toLowerCase();if(!new Set(["json","xml","csv"]).has(String(u)))throw new Error("Invalid value for rowFormat. Value must be json, xml or csv.");l.jobOptions.rowFormat=u}else l.jobOptions.rowFormat="json";if(l.jobOptions.queryType){if(!(e instanceof String))throw new Error("queryType should be set only when batchView is String.");let u=l.jobOptions.queryType.toString().toLowerCase();if(!new Set(["json","dsl"]).has(String(u)))throw new Error("Invalid value for rowFormat. Value must be json, xml or csv.");l.jobOptions.queryType=u}else e instanceof String&&(l.jobOptions.queryType="dsl");return ai.startRequest(o).result(Ke.callbackOn(l,yO)).catch(u=>{l.stream.emit("error",u),l.requesterCount=0,l.error=u,gr(l)}),l.stream},"queryAllDocumentsImpl");Fn.prototype.execute=s(function(){let e=Ke.asArray.apply(null,arguments);if(e.length<1)throw new Error("built plan required");let n=e[0],r=e.length>=2&&e[1]?e[1]:{};r.opticExecute=!0,el(this,n,null,r,e[2])},"executeRows");Fn.prototype.graphQL=s(function(){let e=Ke.asArray.apply(null,arguments);if(e.length<1)throw new Error("graphql query required");let n=e.length>=2?e[1]:null;return el(this,null,null,n,null,e[0])},"graphqlRows");function yO(t){let e=0,n=this;if(n.viewInfo=t,(!n.viewInfo.rowCount||n.viewInfo.rowCount===0)&&gr(n),t.forests)switch(n.jobOptions.concurrentRequests.multipleOf){case"hosts":e=n.jobOptions.concurrentRequests.multiplier*new Set(t.map(r=>r.host)).size;break;default:e=n.jobOptions.concurrentRequests.multiplier*t.length;break}else e=1;n.startTime=Date.now(),n.requesterCount=0,n.batchNum=0,n.numberOfBatches=n.viewInfo.rowCount/n.jobOptions.batchSize>1?n.viewInfo.rowCount/n.jobOptions.batchSize+1:1,n.requestBatchSize=Xd(18446744073709552e3/n.numberOfBatches),n.maxRequesters=e&&n.numberOfBatches>e?e:n.numberOfBatches,n.jobOptions.consistentSnapshot&&!n.consistentSnapshotTimestamp?(n.requesterCount++,vn(n,0,null)):Dd(n,0,null)}s(yO,"onQueryAllInit");function Dd(t,e){for(let n=e;n<t.maxRequesters;n++)t.requesterCount++,vn(t,t.requesterCount,null)}s(Dd,"spinReaderThreads");function vn(t,e,n){let r=n||++t.batchNum;if(t.error||t.batchNum>t.numberOfBatches){gr(t);return}let a=Xd((r-1)*t.requestBatchSize),o=r===t.numberOfBatches?"-1":Xd(a+t.requestBatchSize-1),l={bindings:{ML_LOWER_BOUND:a,ML_UPPER_BOUND:o},format:t.jobOptions.rowFormat,structure:t.jobOptions.rowStructure,columnTypes:t.jobOptions.columnTypes,queryType:t.jobOptions.queryType,queryAll:!0};t.jobOptions.consistentSnapshot&&(l.timestamp=t.consistentSnapshotTimestamp?t.consistentSnapshotTimestamp:new Ke.Timestamp(null));let u=Xx(t.docInstance,t.viewInfo.modifiedPlan,t.jobOptions.outputStreamType,l),f=ai.startRequest(u);t.jobOptions.outputStreamType==="chunked"?f.stream("chunked").on("error",function(d){Rx(t,e,d,r)}).on("data",function(d){d&&(t.stream.write(d.toString()),t.rowsReadSuccessfully+=JSON.parse(d.toString()).rows.length,t.jobOptions.consistentSnapshot&&!t.consistentSnapshotTimestamp?(t.consistentSnapshotTimestamp=u.timestamp,t.jobOptions.onInitialTimestamp&&t.jobOptions.onInitialTimestamp(t.consistentSnapshotTimestamp),e+1<t.maxRequesters?Dd(t,e+1):vn(t,e,null)):vn(t,e,null))}):f.result(d=>{if(d instanceof Error)throw new Error(d);t.stream.write(d),t.rowsReadSuccessfully+=d.length-1,t.jobOptions.consistentSnapshot&&!t.consistentSnapshotTimestamp?(t.consistentSnapshotTimestamp=u.timestamp,t.jobOptions.onInitialTimestamp&&t.jobOptions.onInitialTimestamp(t.consistentSnapshotTimestamp),t.maxRequesters>1?Dd(t,1):vn(t,e,null)):vn(t,e,null)}).catch(d=>{Rx(t,e,d,r)})}s(vn,"onQueryAllRows");function Rx(t,e,n,r){if(t.error){gr(t);return}let a=n;if(t.jobOptions.onBatchError){let o={rowsReadSuccessfully:t.rowsReadSuccessfully,timeElapsed:Date.now()-t.startTime};try{a=t.jobOptions.onBatchError(o,n)}catch(l){a=l}if(a instanceof Error)t.error=a,t.stream.emit("error",a),gr(t);else if(a)vn(t,e,r);else if(!a)vn(t,e,null);else{let l=new Error("onBatchError should return true or false or an error");t.error=l,t.stream.emit("error",l),gr(t)}}switch(t.retryCount){case 0:{t.error=new Error(n),t.stream.emit("error",t.error),gr(t);break}default:{t.retryCount--,vn(t,e,r);break}}}s(Rx,"readAllDocumentsErrorHandle");function gr(t){if(t.requesterCount--,t.requesterCount<=0&&(t.stream.end(),t.jobOptions.onCompletion)){let e={rowsReadSuccessfully:t.rowsReadSuccessfully,rowsFailedToBeRead:t.viewInfo.rowCount-t.rowsReadSuccessfully,timeElapsed:Date.now()-t.startTime};if(t.error&&(e.error=t.error.toString()),t.consistentSnapshotTimestamp){let n=t.consistentSnapshotTimestamp.value.length>13?+t.consistentSnapshotTimestamp.value.substr(0,13):t.consistentSnapshotTimestamp.value;e.consistentSnapshotTimestamp=new Date(n)}t.jobOptions.onCompletion(e)}}s(gr,"finishOnQueryAllRows");Dx.exports=Fn});var jx=D((hB,Bx)=>{"use strict";var vO=et(),Bd=Oe(),wO=st();function tl(t){if(!(this instanceof tl))return new tl(t);this.client=t}s(tl,"Values");tl.prototype.read=s(function(){if(arguments.length===0||arguments.length>2)throw new Error("incorrect number of arguments to read values");var e=arguments[0],n=null;if(arguments.length===2)if(arguments[1]instanceof Bd.Timestamp)n=arguments[1];else throw new Error("invalid timestamp argument");var r={name:"structuredef",style:"consistent"},a=e.fromIndexesClause,o=Array.isArray(a)?a.length:0;if(o<1)throw new Error("must specify indexes to read values");var l=o===1,u=l?"values":"tuples";if(l){var f=a[0],d=Object.keys(f)[0];r[d]=f[d]}else r.indexes=a;var g=e.aggregatesClause;g!==void 0&&(r.aggregate=g.aggregates);var v={};v[u]=[r];var w=e.withOptionsClause;if(w!==void 0)for(var b={values:"values-option",forestNames:"forest-names"},S=Object.keys(w),E=null,q=null,P=null,R=0;R<S.length;R++)E=S[R],q=b[E],q!==void 0&&(P=w[E],P!==void 0&&(q==="values-option"?r[q]=P:v[q]=P));var O={options:v},M=e.whereClause;if(M!=null){var j=M.query,U=M.parsedQuery,G=M["fragment-scope"];if(j!=null&&(O.query=j),U!=null){O.qtext=U.qtext;var k=U.constraint,Y=U.term;k!=null&&(v.constraint=k),Y!=null&&(v.term=Y)}G!=null&&(v["fragment-scope"]=G)}var K=null,H=null,pe=null,ge=e.sliceClause;if(ge!==void 0){var be=ge["page-start"];be!==void 0&&(K=be);var Re=ge["page-length"];Re!==void 0&&(H=Re),pe=ge["document-transform"]}var J="/v1/values/structuredef?format=json";K!==null&&(J+="&start="+K),H!==null&&(J+="&pageLength="+H),pe!=null&&(J+="&"+Bd.endpointTransform(pe)),n!=null&&n.value!==null&&(J+="&timestamp="+n.value);let Be=Bd.newRequestOptions(this.client.getConnectionParams(),J,"POST");Be.headers={"Content-Type":"application/json",Accept:"application/json"};var Ne=new wO("query values",this.client,Be,"single","single");return Ne.validStatusCodes=[200,204],Ne.requestBody={search:O},Ne.timestamp=n!==null?n:null,vO.startRequest(Ne)},"readValues");Bx.exports=tl});var Fx=D((vB,Mx)=>{"use strict";var nl=et(),ii=Oe(),rl=st();function jd(t){var e=this,n=e.path;return n==null?t:t+" (on "+n+" extension library)"}s(jd,"pathErrorTransform");function Lx(){var t=this;return{path:t.path}}s(Lx,"emptyOutputTransform");function hr(t){if(!(this instanceof hr))return new hr(t);this.client=t}s(hr,"ExtLibs");hr.prototype.read=s(function(e){if(e==null)throw new Error("must specify path when reading the extension library resource");var n=ii.copyProperties(this.client.getConnectionParams());n.method="GET",n.path=encodeURI(e.substr(0,5)==="/ext/"?"/v1"+e:e.substr(0,1)==="/"?"/v1/ext"+e:"/v1/ext/"+e);var r=new rl("read extension library",this.client,n,"empty","single");return r.path=e,r.errorTransform=jd,nl.startRequest(r)},"readExtensionLibrary");hr.prototype.write=s(function(){var e=ii.asArray.apply(null,arguments),n=e.length;if(n===0)throw new Error("no arguments for writing an extension library");var r=null,a=null,o=null,l=null,u=0,f=null,d=null;if(n===1)d=e[0],r=d.path,a=d.permissions,o=d.contentType,l=d.source;else for(var g=Math.min(n,4);u<g;u++)f=e[u],typeof f=="string"||f instanceof String?r===null?r=f:o===null&&(o=f):Array.isArray(f)?a=f:f["role-name"]!==void 0?a=[f]:l=f;if(r==null||o==null||l==null)throw new Error("must specify the path, content type, and source when writing a extension library");var v=r.substr(0,5)==="/ext/"?"/v1"+r:r.substr(0,1)==="/"?"/v1/ext"+r:"/v1/ext/"+r;if(Array.isArray(a)){var w=null,b=null,S=null;for(u=0;u<a.length;u++){if(f=a[u],w=f["role-name"],b=f.capabilities,w===void 0||!Array.isArray(b)||b.length<1)throw new Error("cannot set permissions from "+JSON.stringify(f));for(S=0;S<b.length;S++)v+=(u===0&&S===0?"?":"&")+"perm:"+w+"="+b[S]}}var E=ii.copyProperties(this.client.getConnectionParams());E.method="PUT",E.headers={"Content-Type":o},E.path=encodeURI(v);var q=new rl("write extension library",this.client,E,"single","empty");return q.path=r,q.requestBody=l,q.outputTransform=Lx,q.errorTransform=jd,nl.startRequest(q)},"writeExtensionLibrary");hr.prototype.remove=s(function(e){if(e==null)throw new Error("must specify path when deleting the extension library resource");var n=ii.copyProperties(this.client.getConnectionParams());n.method="DELETE",n.path=encodeURI(e.substr(0,5)==="/ext/"?"/v1"+e:e.substr(0,1)==="/"?"/v1/ext"+e:"/v1/ext/"+e);var r=new rl("remove extension library",this.client,n,"empty","empty");return r.path=e,r.outputTransform=Lx,r.errorTransform=jd,nl.startRequest(r)},"removeExtensionLibrary");hr.prototype.list=s(function(e){var n=ii.copyProperties(this.client.getConnectionParams());if(n.method="GET",n.headers={Accept:"application/json"},typeof e!="string"&&!(e instanceof String))n.path="/v1/ext";else if(e.substr(0,5)==="/ext/")e.substr(-1,1)==="/"?n.path=encodeURI(e):n.path=encodeURI(e+"/");else{var r=e.substr(0,1)==="/",a=e.substr(-1,1)==="/";r&&a?n.path=encodeURI("/v1/ext"+e):a?n.path=encodeURI("/v1/ext/"+e):r?n.path=encodeURI("/v1/ext"+e+"/"):n.path=encodeURI("/v1/ext/"+e+"/")}var o=new rl("list extension libraries",this.client,n,"empty","single");return nl.startRequest(o)},"listExtensionLibraries");Mx.exports=hr});var Gx=D((xB,Qx)=>{"use strict";var $x=et(),Ux=Oe(),zx=st();function si(t){if(!(this instanceof si))return new si(t);this.client=t}s(si,"RESTServerProperties");si.prototype.read=s(function(){var e=Ux.copyProperties(this.client.getConnectionParams());e.method="GET",e.headers={Accept:"application/json"},e.path="/v1/config/properties";var n=new zx("read REST server properties",this.client,e,"empty","single");return $x.startRequest(n)},"readRESTServerProperties");function xO(){var t=this,e=t.responseStatusCode;return e===204||e===200}s(xO,"RESTServerPropertiesOutputTransform");si.prototype.write=s(function(e){if(typeof e!="object"||e===null)throw new Error("cannot write with missing properties object");var n=Ux.copyProperties(this.client.getConnectionParams());n.method="PUT",n.headers={"Content-Type":"application/json"},n.path="/v1/config/properties";var r=new zx("write REST server properties",this.client,n,"single","empty");return r.outputTransform=xO,r.requestBody=e,$x.startRequest(r)},"writeRESTServerProperties");Qx.exports=si});var Vx=D((AB,Kx)=>{"use strict";var Ld=et(),jt=Oe(),Md=st();function bO(t){var e=this,n=t.location.substring(17);return e.withState===!0?new jt.Transaction(n,e.rawHeaders["set-cookie"]):{txid:n}}s(bO,"openOutputTransform");function oi(t){this.client=t}s(oi,"Transactions");oi.prototype.open=s(function(){var e=jt.asArray.apply(null,arguments),n=e.length,r=null,a=null,o=null,l=n>0?e[0]:null;if(n>1||typeof l=="string"||l instanceof String||typeof l=="number"||l instanceof Number||typeof l=="boolean")for(var u=0;u<n;u++){if(l=e[u],r===null&&(typeof l=="string"||l instanceof String)){r=l;continue}else if(a===null&&(typeof l=="number"||l instanceof Number)){a=l;continue}else if(o===null&&typeof l=="boolean"){o=l;continue}throw new Error("unknown parameter for transaction open: "+l)}else n===1&&(r=l.transactionName,a=l.timeLimit,o=l.withState);var f="/v1/transactions",d="?";r!=null&&(f+=d+"name="+encodeURIComponent(r),d="&"),a!=null&&(f+=d+"timeLimit="+a);let g=jt.newRequestOptions(this.client.getConnectionParams(),f,"POST");var v=new Md("open transaction",this.client,g,"empty","empty");return v.validStatusCodes=[303],v.outputTransform=bO,v.withState=o||!0,Ld.startRequest(v)},"openTransaction");oi.prototype.read=s(function(e){var n=jt.convertTransaction(e),r="/v1/transactions/"+jt.getTxidParam(n,"read")+"?format=json";let a=jt.newRequestOptions(this.client.getConnectionParams(),r,"GET");a.headers={Accept:"application/json"},jt.addTxidHeaders(a,n);var o=new Md("read transaction",this.client,a,"empty","single");return o.txid=n,Ld.startRequest(o)},"readTransaction");oi.prototype.commit=s(function(e){return Wx(this.client,"commit",e)},"commitTransaction");oi.prototype.rollback=s(function(e){return Wx(this.client,"rollback",e)},"rollbackTransaction");function AO(){var t=this;return{txid:t.txid,finished:t.finish}}s(AO,"finishOutputTransform");function Wx(t,e,n){var r=jt.convertTransaction(n),a="/v1/transactions/"+jt.getTxidParam(r,e)+"?result="+e;let o=jt.newRequestOptions(t.getConnectionParams(),a,"POST");jt.addTxidHeaders(o,r);var l=new Md(e+" transaction",t,o,"empty","empty");return l.txid=r,l.finish=e,l.outputTransform=AO,Ld.startRequest(l)}s(Wx,"finishTransaction");Kx.exports=oi});var Yx=D((kB,Jx)=>{"use strict";var al=et(),li=Oe(),il=st();function Fd(t){var e=this,n=e.name;return n==null?t:t+" (on "+n+" transform)"}s(Fd,"nameErrorTransform");function Hx(){var t=this;return{name:t.name}}s(Hx,"emptyOutputTransform");function SO(t,e){return e.toString("utf8")}s(SO,"readOutputTransform");function yr(t){if(!(this instanceof yr))return new yr(t);this.client=t}s(yr,"Transforms");yr.prototype.read=s(function(e){if(e==null)throw new Error("must specify name when reading the transform source");var n=li.copyProperties(this.client.getConnectionParams());n.method="GET",n.path="/v1/config/transforms/"+encodeURIComponent(e);var r=new il("read transform",this.client,n,"empty","single");return r.name=e,r.errorTransform=Fd,r.outputTransform=SO,al.startRequest(r)},"readTransform");yr.prototype.write=s(function(){var e=li.asArray.apply(null,arguments),n=e.length;if(n===0)throw new Error("no arguments for writing an extension library");var r=null,a=null,o=null,l=null,u=null,f=null,d=null,g=null;if(n===1?(g=e[0],r=g.name,a=g.title,o=g.description,l=g.provider,u=g.version,f=g.format,d=g.source):n>2&&(r=e[0],f=e[1],d=e[2]),r==null||f==null||d==null)throw new Error("must specify name, format, and source when writing a transform");var v=null;switch(f){case"javascript":v="application/javascript";break;case"xquery":v="application/xquery";break;case"xslt":v="application/xslt+xml";break;default:throw new Error("unsupported transform format "+f)}var w="/v1/config/transforms/"+encodeURIComponent(r),b="?";a!=null&&(w+=b+"title="+encodeURIComponent(a),b==="?"&&(b="&")),o!=null&&(w+=b+"description="+encodeURIComponent(o),b==="?"&&(b="&")),l!=null&&(w+=b+"provider="+encodeURIComponent(l),b==="?"&&(b="&")),u!=null&&(w+=b+"version="+encodeURIComponent(u),b==="?"&&(b="&"));var S=li.copyProperties(this.client.getConnectionParams());S.method="PUT",S.headers={"Content-Type":v},S.path=w;var E=new il("write transform",this.client,S,"single","empty");return E.name=r,E.requestBody=d,E.outputTransform=Hx,E.errorTransform=Fd,al.startRequest(E)},"writeTransform");yr.prototype.remove=s(function(e){if(e==null)throw new Error("must specify name when deleting the transform source");var n=li.copyProperties(this.client.getConnectionParams());n.method="DELETE",n.path="/v1/config/transforms/"+encodeURIComponent(e);var r=new il("remove transform",this.client,n,"empty","empty");return r.name=e,r.outputTransform=Hx,r.errorTransform=Fd,al.startRequest(r)},"removeTransform");yr.prototype.list=s(function(){var e=li.copyProperties(this.client.getConnectionParams());e.method="GET",e.headers={Accept:"application/json"},e.path="/v1/config/transforms";var n=new il("list transforms",this.client,e,"empty","single");return al.startRequest(n)},"listTransforms");Jx.exports=yr});var tb=D((TB,eb)=>{"use strict";var sl=et(),ci=Oe(),ol=st();function $d(t){var e=this,n=e.name;return n==null?t:t+" (on "+n+" resource service)"}s($d,"nameErrorTransform");function Zx(){var t=this;return{name:t.name}}s(Zx,"emptyOutputTransform");function kO(t,e){return e.toString("utf8")}s(kO,"readOutputTransform");function vr(t){if(!(this instanceof vr))return new vr(t);this.client=t}s(vr,"Resources");vr.prototype.read=s(function(e){if(e==null)throw new Error("must specify name when reading the resource service source");var n=ci.copyProperties(this.client.getConnectionParams());n.method="GET",n.path="/v1/config/resources/"+encodeURIComponent(e);var r=new ol("read resource service",this.client,n,"empty","single");return r.name=e,r.errorTransform=$d,r.outputTransform=kO,sl.startRequest(r)},"readResourceConfig");vr.prototype.write=s(function(){var e=ci.asArray.apply(null,arguments),n=e.length;if(n===0)throw new Error("no arguments for writing an extension library");var r=null,a=null,o=null,l=null,u=null,f=null,d=null,g=null;if(n===1?(g=e[0],r=g.name,a=g.title,o=g.description,l=g.provider,u=g.version,f=g.format,d=g.source):n>2&&(r=e[0],f=e[1],d=e[2]),r==null||f==null||d==null)throw new Error("must specify name, format, and source when writing a resource service");var v=null;switch(f){case"javascript":v="application/javascript";break;case"xquery":v="application/xquery";break;default:throw new Error("unsupported resource service format "+f)}var w="/v1/config/resources/"+encodeURIComponent(r),b="?";a!=null&&(w+=b+"title="+encodeURIComponent(a),b==="?"&&(b="&")),o!=null&&(w+=b+"description="+encodeURIComponent(o),b==="?"&&(b="&")),l!=null&&(w+=b+"provider="+encodeURIComponent(l),b==="?"&&(b="&")),u!=null&&(w+=b+"version="+encodeURIComponent(u),b==="?"&&(b="&"));var S=ci.copyProperties(this.client.getConnectionParams());S.method="PUT",S.headers={"Content-Type":v},S.path=w;var E=new ol("write resource service",this.client,S,"single","empty");return E.name=r,E.requestBody=d,E.outputTransform=Zx,E.errorTransform=$d,sl.startRequest(E)},"writeResourceConfig");vr.prototype.remove=s(function(e){if(e==null)throw new Error("must specify name when deleting the resource service source");var n=ci.copyProperties(this.client.getConnectionParams());n.method="DELETE",n.path="/v1/config/resources/"+encodeURIComponent(e);var r=new ol("remove resource service",this.client,n,"empty","empty");return r.name=e,r.outputTransform=Zx,r.errorTransform=$d,sl.startRequest(r)},"removeResourceConfig");vr.prototype.list=s(function(){var e=ci.copyProperties(this.client.getConnectionParams());e.method="GET",e.headers={Accept:"application/json"},e.path="/v1/config/resources";var n=new ol("list resource services",this.client,e,"empty","single");return sl.startRequest(n)},"listResourceConfig");eb.exports=vr});var sb=D((NB,ib)=>{"use strict";var ll=et(),wr=Oe(),cl=st();function xr(){if(arguments.length===0)throw new Error("no argument for executing resource service");var t=arguments[0];if(t.name===void 0)throw new Error("no name for executing resource service");return t}s(xr,"checkArgs");function ul(t,e){for(var n="/v1/resources/"+e.name,r="?",a=e.params,o=a===void 0?null:Object.keys(a),l=o===null?0:o.length,u=null,f=null,d=0,g=null,v=0;d<l;d++)if(u=o[d],g=a[u],Array.isArray(g))for(f=r+encodeURIComponent("rs:"+u)+"=",v=0;v<g.length;v++)n+=f+encodeURIComponent(g[v]),d===0&&v===0&&(r="&",f=r+encodeURIComponent("rs:"+u)+"=");else n+=r+"rs:"+u+"="+encodeURIComponent(g),d===0&&(r="&");var w=wr.convertTransaction(e.txid);w!==void 0&&w!=null&&(n+=r+"txid="+wr.getTxidParam(w),r==="?"&&(r="&"));let b=wr.newRequestOptions(t.getConnectionParams(),n);return wr.addTxidHeaders(b,w),b}s(ul,"makeRequestOptions");function pl(t){return t<400?null:"response with invalid "+t+" status"}s(pl,"validateStatusCode");function Gt(t){if(!(this instanceof Gt))return new Gt(t);this.client=t}s(Gt,"Resources");Gt.prototype.get=s(function(){return nb(this,"multipart","multipart/mixed; boundary="+wr.multipartBoundary,xr.apply(null,arguments))},"getResourceExec");Gt.prototype.getReadStream=s(function(){var e=xr.apply(null,arguments),n=e.contentType;if(n==null)throw new Error("no content type for reading stream from resource service");return nb(this,"chunked",n,e)},"getResourceExecStream");function nb(t,e,n,r){var a=ul(t.client,r);a.method="GET",a.headers={Accept:n};var o=new cl("execute remove service",t.client,a,"empty",e);return o.name=r.name,o.statusCodeValidator=pl,ll.startRequest(o)}s(nb,"readResourceExec");Gt.prototype.post=s(function(){return ab(this,"POST","multipart",xr.apply(null,arguments))},"postResourceExec");Gt.prototype.put=s(function(){return ab(this,"PUT","single",xr.apply(null,arguments))},"putResourceExec");Gt.prototype.postWriteStream=s(function(){return rb(this,"POST","multipart",xr.apply(null,arguments))},"postResourceExecStream");Gt.prototype.putWriteStream=s(function(){return rb(this,"PUT","single",xr.apply(null,arguments))},"putResourceExecStream");function rb(t,e,n,r){var a=r.contentType;if(a==null)throw new Error("no content type for writing stream to resource service");var o=ul(t.client,r);o.headers={"Content-Type":a,Accept:"application/json"},o.method=e;var l=new cl("execute "+e+" service stream",t.client,o,"chunked",n);return l.name=r.name,l.isReplayable=!1,l.statusCodeValidator=pl,ll.startRequest(l)}s(rb,"writeResourceStream");function ab(t,e,n,r){var a=r.documents,o=a==null;!o&&!Array.isArray(a)&&(a=[a]);var l=wr.multipartBoundary,u=ul(t.client,r);u.method=e,u.headers=o?{Accept:"application/json"}:{"Content-Type":"multipart/mixed; boundary="+l,Accept:"application/json"};var f=new cl("execute "+e+" service",t.client,u,o?"empty":"multipart",n);if(f.name=r.name,o||(f.multipartBoundary=l),f.requestPartList=[],typeof a<"u")for(var d=0;d<a.length;d++)EO(f,a[d]);return f.statusCodeValidator=pl,ll.startRequest(f)}s(ab,"writeResources");function EO(t,e){var n={},r={headers:n},a=e.content,o=a!=null,l=o?e.contentType:null;if(o&&l!=null){var u=wr.marshal(a,t);n["Content-Type"]=l,r.content=u}else typeof e=="string"||e instanceof String?(r.content=e,n["Content-Type"]="text/plain"):Buffer.isBuffer(e)?(r.content=e,n["Content-Type"]="application/x-unknown-content-type"):(r.content=JSON.stringify(e),n["Content-Type"]="application/json");t.requestPartList.push(r)}s(EO,"addPart");Gt.prototype.remove=s(function(){var e=xr.apply(null,arguments),n=ul(this.client,e);n.headers={Accept:"application/json"},n.method="DELETE";var r=new cl("execute remove service",this.client,n,"empty","single");return r.name=e.name,r.statusCodeValidator=pl,ll.startRequest(r)},"removeResourceExec");ib.exports=Gt});var lb=D((OB,ob)=>{"use strict";ob.exports=Error});var ub=D((CB,cb)=>{"use strict";cb.exports=EvalError});var fb=D((_B,pb)=>{"use strict";pb.exports=RangeError});var db=D((RB,mb)=>{"use strict";mb.exports=ReferenceError});var Ud=D((XB,gb)=>{"use strict";gb.exports=SyntaxError});var na=D((DB,hb)=>{"use strict";hb.exports=TypeError});var vb=D((IB,yb)=>{"use strict";yb.exports=URIError});var xb=D((BB,wb)=>{"use strict";wb.exports=s(function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var a=42;e[n]=a;for(n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,n);if(l.value!==a||l.enumerable!==!0)return!1}return!0},"hasSymbols")});var Sb=D((LB,Ab)=>{"use strict";var bb=typeof Symbol<"u"&&Symbol,TO=xb();Ab.exports=s(function(){return typeof bb!="function"||typeof Symbol!="function"||typeof bb("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:TO()},"hasNativeSymbols")});var Eb=D((FB,kb)=>{"use strict";var zd={__proto__:null,foo:{}},qO=Object;kb.exports=s(function(){return{__proto__:zd}.foo===zd.foo&&!(zd instanceof qO)},"hasProto")});var Nb=D((UB,qb)=>{"use strict";var NO="Function.prototype.bind called on incompatible ",PO=Object.prototype.toString,OO=Math.max,CO="[object Function]",Tb=s(function(e,n){for(var r=[],a=0;a<e.length;a+=1)r[a]=e[a];for(var o=0;o<n.length;o+=1)r[o+e.length]=n[o];return r},"concatty"),_O=s(function(e,n){for(var r=[],a=n||0,o=0;a<e.length;a+=1,o+=1)r[o]=e[a];return r},"slicy"),RO=s(function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n},"joiny");qb.exports=s(function(e){var n=this;if(typeof n!="function"||PO.apply(n)!==CO)throw new TypeError(NO+n);for(var r=_O(arguments,1),a,o=s(function(){if(this instanceof a){var g=n.apply(this,Tb(r,arguments));return Object(g)===g?g:this}return n.apply(e,Tb(r,arguments))},"binder"),l=OO(0,n.length-r.length),u=[],f=0;f<l;f++)u[f]="$"+f;if(a=Function("binder","return function ("+RO(u,",")+"){ return binder.apply(this,arguments); }")(o),n.prototype){var d=s(function(){},"Empty");d.prototype=n.prototype,a.prototype=new d,d.prototype=null}return a},"bind")});var fl=D((QB,Pb)=>{"use strict";var XO=Nb();Pb.exports=Function.prototype.bind||XO});var Cb=D((GB,Ob)=>{"use strict";var DO=Function.prototype.call,IO=Object.prototype.hasOwnProperty,BO=fl();Ob.exports=BO.call(DO,IO)});var Sr=D((WB,Ib)=>{"use strict";var fe,jO=lb(),LO=ub(),MO=fb(),FO=db(),sa=Ud(),ia=na(),$O=vb(),Db=Function,Qd=s(function(t){try{return Db('"use strict"; return ('+t+").constructor;")()}catch{}},"getEvalledConstructor"),br=Object.getOwnPropertyDescriptor;if(br)try{br({},"")}catch{br=null}var Gd=s(function(){throw new ia},"throwTypeError"),UO=br?function(){try{return arguments.callee,Gd}catch{try{return br(arguments,"callee").get}catch{return Gd}}}():Gd,ra=Sb()(),zO=Eb()(),Qe=Object.getPrototypeOf||(zO?function(t){return t.__proto__}:null),aa={},QO=typeof Uint8Array>"u"||!Qe?fe:Qe(Uint8Array),Ar={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?fe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?fe:ArrayBuffer,"%ArrayIteratorPrototype%":ra&&Qe?Qe([][Symbol.iterator]()):fe,"%AsyncFromSyncIteratorPrototype%":fe,"%AsyncFunction%":aa,"%AsyncGenerator%":aa,"%AsyncGeneratorFunction%":aa,"%AsyncIteratorPrototype%":aa,"%Atomics%":typeof Atomics>"u"?fe:Atomics,"%BigInt%":typeof BigInt>"u"?fe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?fe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?fe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?fe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":jO,"%eval%":eval,"%EvalError%":LO,"%Float32Array%":typeof Float32Array>"u"?fe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?fe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?fe:FinalizationRegistry,"%Function%":Db,"%GeneratorFunction%":aa,"%Int8Array%":typeof Int8Array>"u"?fe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?fe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?fe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ra&&Qe?Qe(Qe([][Symbol.iterator]())):fe,"%JSON%":typeof JSON=="object"?JSON:fe,"%Map%":typeof Map>"u"?fe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ra||!Qe?fe:Qe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?fe:Promise,"%Proxy%":typeof Proxy>"u"?fe:Proxy,"%RangeError%":MO,"%ReferenceError%":FO,"%Reflect%":typeof Reflect>"u"?fe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?fe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ra||!Qe?fe:Qe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?fe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ra&&Qe?Qe(""[Symbol.iterator]()):fe,"%Symbol%":ra?Symbol:fe,"%SyntaxError%":sa,"%ThrowTypeError%":UO,"%TypedArray%":QO,"%TypeError%":ia,"%Uint8Array%":typeof Uint8Array>"u"?fe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?fe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?fe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?fe:Uint32Array,"%URIError%":$O,"%WeakMap%":typeof WeakMap>"u"?fe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?fe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?fe:WeakSet};if(Qe)try{null.error}catch(t){_b=Qe(Qe(t)),Ar["%Error.prototype%"]=_b}var _b,GO=s(function t(e){var n;if(e==="%AsyncFunction%")n=Qd("async function () {}");else if(e==="%GeneratorFunction%")n=Qd("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=Qd("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var a=t("%AsyncGenerator%");a&&Qe&&(n=Qe(a.prototype))}return Ar[e]=n,n},"doEval"),Rb={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ui=fl(),ml=Cb(),WO=ui.call(Function.call,Array.prototype.concat),KO=ui.call(Function.apply,Array.prototype.splice),Xb=ui.call(Function.call,String.prototype.replace),dl=ui.call(Function.call,String.prototype.slice),VO=ui.call(Function.call,RegExp.prototype.exec),HO=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,JO=/\\(\\)?/g,YO=s(function(e){var n=dl(e,0,1),r=dl(e,-1);if(n==="%"&&r!=="%")throw new sa("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&n!=="%")throw new sa("invalid intrinsic syntax, expected opening `%`");var a=[];return Xb(e,HO,function(o,l,u,f){a[a.length]=u?Xb(f,JO,"$1"):l||o}),a},"stringToPath"),ZO=s(function(e,n){var r=e,a;if(ml(Rb,r)&&(a=Rb[r],r="%"+a[0]+"%"),ml(Ar,r)){var o=Ar[r];if(o===aa&&(o=GO(r)),typeof o>"u"&&!n)throw new ia("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:a,name:r,value:o}}throw new sa("intrinsic "+e+" does not exist!")},"getBaseIntrinsic");Ib.exports=s(function(e,n){if(typeof e!="string"||e.length===0)throw new ia("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof n!="boolean")throw new ia('"allowMissing" argument must be a boolean');if(VO(/^%?[^%]*%?$/,e)===null)throw new sa("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=YO(e),a=r.length>0?r[0]:"",o=ZO("%"+a+"%",n),l=o.name,u=o.value,f=!1,d=o.alias;d&&(a=d[0],KO(r,WO([0,1],d)));for(var g=1,v=!0;g<r.length;g+=1){var w=r[g],b=dl(w,0,1),S=dl(w,-1);if((b==='"'||b==="'"||b==="`"||S==='"'||S==="'"||S==="`")&&b!==S)throw new sa("property names with quotes must have matching quotes");if((w==="constructor"||!v)&&(f=!0),a+="."+w,l="%"+a+"%",ml(Ar,l))u=Ar[l];else if(u!=null){if(!(w in u)){if(!n)throw new ia("base intrinsic for "+e+" exists, but the property is not available.");return}if(br&&g+1>=r.length){var E=br(u,w);v=!!E,v&&"get"in E&&!("originalValue"in E.get)?u=E.get:u=u[w]}else v=ml(u,w),u=u[w];v&&!f&&(Ar[l]=u)}}return u},"GetIntrinsic")});var hl=D((VB,Bb)=>{"use strict";var eC=Sr(),gl=eC("%Object.defineProperty%",!0)||!1;if(gl)try{gl({},"a",{value:1})}catch{gl=!1}Bb.exports=gl});var Wd=D((HB,jb)=>{"use strict";var tC=Sr(),yl=tC("%Object.getOwnPropertyDescriptor%",!0);if(yl)try{yl([],"length")}catch{yl=null}jb.exports=yl});var $b=D((JB,Fb)=>{"use strict";var Lb=hl(),nC=Ud(),oa=na(),Mb=Wd();Fb.exports=s(function(e,n,r){if(!e||typeof e!="object"&&typeof e!="function")throw new oa("`obj` must be an object or a function`");if(typeof n!="string"&&typeof n!="symbol")throw new oa("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new oa("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new oa("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new oa("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new oa("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,l=arguments.length>5?arguments[5]:null,u=arguments.length>6?arguments[6]:!1,f=!!Mb&&Mb(e,n);if(Lb)Lb(e,n,{configurable:l===null&&f?f.configurable:!l,enumerable:a===null&&f?f.enumerable:!a,value:r,writable:o===null&&f?f.writable:!o});else if(u||!a&&!o&&!l)e[n]=r;else throw new nC("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},"defineDataProperty")});var Qb=D((ZB,zb)=>{"use strict";var Kd=hl(),Ub=s(function(){return!!Kd},"hasPropertyDescriptors");Ub.hasArrayLengthDefineBug=s(function(){if(!Kd)return null;try{return Kd([],"length",{value:1}).length!==1}catch{return!0}},"hasArrayLengthDefineBug");zb.exports=Ub});var Hb=D((tj,Vb)=>{"use strict";var rC=Sr(),Gb=$b(),aC=Qb()(),Wb=Wd(),Kb=na(),iC=rC("%Math.floor%");Vb.exports=s(function(e,n){if(typeof e!="function")throw new Kb("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||iC(n)!==n)throw new Kb("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],a=!0,o=!0;if("length"in e&&Wb){var l=Wb(e,"length");l&&!l.configurable&&(a=!1),l&&!l.writable&&(o=!1)}return(a||o||!r)&&(aC?Gb(e,"length",n,!0,!0):Gb(e,"length",n)),e},"setFunctionLength")});var nA=D((rj,vl)=>{"use strict";var Vd=fl(),wl=Sr(),sC=Hb(),oC=na(),Zb=wl("%Function.prototype.apply%"),eA=wl("%Function.prototype.call%"),tA=wl("%Reflect.apply%",!0)||Vd.call(eA,Zb),Jb=hl(),lC=wl("%Math.max%");vl.exports=s(function(e){if(typeof e!="function")throw new oC("a function is required");var n=tA(Vd,eA,arguments);return sC(n,1+lC(0,e.length-(arguments.length-1)),!0)},"callBind");var Yb=s(function(){return tA(Vd,Zb,arguments)},"applyBind");Jb?Jb(vl.exports,"apply",{value:Yb}):vl.exports.apply=Yb});var sA=D((ij,iA)=>{"use strict";var rA=Sr(),aA=nA(),cC=aA(rA("String.prototype.indexOf"));iA.exports=s(function(e,n){var r=rA(e,!!n);return typeof r=="function"&&cC(e,".prototype.")>-1?aA(r):r},"callBoundIntrinsic")});var lA=D((oj,oA)=>{oA.exports=require("util").inspect});var NA=D((lj,qA)=>{var ig=typeof Map=="function"&&Map.prototype,Hd=Object.getOwnPropertyDescriptor&&ig?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,bl=ig&&Hd&&typeof Hd.get=="function"?Hd.get:null,cA=ig&&Map.prototype.forEach,sg=typeof Set=="function"&&Set.prototype,Jd=Object.getOwnPropertyDescriptor&&sg?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Al=sg&&Jd&&typeof Jd.get=="function"?Jd.get:null,uA=sg&&Set.prototype.forEach,uC=typeof WeakMap=="function"&&WeakMap.prototype,fi=uC?WeakMap.prototype.has:null,pC=typeof WeakSet=="function"&&WeakSet.prototype,mi=pC?WeakSet.prototype.has:null,fC=typeof WeakRef=="function"&&WeakRef.prototype,pA=fC?WeakRef.prototype.deref:null,mC=Boolean.prototype.valueOf,dC=Object.prototype.toString,gC=Function.prototype.toString,hC=String.prototype.match,og=String.prototype.slice,Un=String.prototype.replace,yC=String.prototype.toUpperCase,fA=String.prototype.toLowerCase,bA=RegExp.prototype.test,mA=Array.prototype.concat,Wt=Array.prototype.join,vC=Array.prototype.slice,dA=Math.floor,eg=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Yd=Object.getOwnPropertySymbols,tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,la=typeof Symbol=="function"&&typeof Symbol.iterator=="object",nt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===la||!0)?Symbol.toStringTag:null,AA=Object.prototype.propertyIsEnumerable,gA=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function hA(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||bA.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-dA(-t):dA(t);if(r!==t){var a=String(r),o=og.call(e,a.length+1);return Un.call(a,n,"$&_")+"."+Un.call(Un.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Un.call(e,n,"$&_")}s(hA,"addNumericSeparator");var ng=lA(),yA=ng.custom,vA=kA(yA)?yA:null;qA.exports=s(function t(e,n,r,a){var o=n||{};if($n(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if($n(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=$n(o,"customInspect")?o.customInspect:!0;if(typeof l!="boolean"&&l!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($n(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($n(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var u=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return TA(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var f=String(e);return u?hA(e,f):f}if(typeof e=="bigint"){var d=String(e)+"n";return u?hA(e,d):d}var g=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=g&&g>0&&typeof e=="object")return rg(e)?"[Array]":"[Object]";var v=IC(o,r);if(typeof a>"u")a=[];else if(EA(a,e)>=0)return"[Circular]";function w(ge,be,Re){if(be&&(a=vC.call(a),a.push(be)),Re){var J={depth:o.depth};return $n(o,"quoteStyle")&&(J.quoteStyle=o.quoteStyle),t(ge,J,r+1,a)}return t(ge,o,r+1,a)}if(s(w,"inspect"),typeof e=="function"&&!wA(e)){var b=qC(e),S=xl(e,w);return"[Function"+(b?": "+b:" (anonymous)")+"]"+(S.length>0?" { "+Wt.call(S,", ")+" }":"")}if(kA(e)){var E=la?Un.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):tg.call(e);return typeof e=="object"&&!la?pi(E):E}if(RC(e)){for(var q="<"+fA.call(String(e.nodeName)),P=e.attributes||[],R=0;R<P.length;R++)q+=" "+P[R].name+"="+SA(wC(P[R].value),"double",o);return q+=">",e.childNodes&&e.childNodes.length&&(q+="..."),q+="</"+fA.call(String(e.nodeName))+">",q}if(rg(e)){if(e.length===0)return"[]";var O=xl(e,w);return v&&!DC(O)?"["+ag(O,v)+"]":"[ "+Wt.call(O,", ")+" ]"}if(bC(e)){var M=xl(e,w);return!("cause"in Error.prototype)&&"cause"in e&&!AA.call(e,"cause")?"{ ["+String(e)+"] "+Wt.call(mA.call("[cause]: "+w(e.cause),M),", ")+" }":M.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Wt.call(M,", ")+" }"}if(typeof e=="object"&&l){if(vA&&typeof e[vA]=="function"&&ng)return ng(e,{depth:g-r});if(l!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(NC(e)){var j=[];return cA&&cA.call(e,function(ge,be){j.push(w(be,e,!0)+" => "+w(ge,e))}),xA("Map",bl.call(e),j,v)}if(CC(e)){var U=[];return uA&&uA.call(e,function(ge){U.push(w(ge,e))}),xA("Set",Al.call(e),U,v)}if(PC(e))return Zd("WeakMap");if(_C(e))return Zd("WeakSet");if(OC(e))return Zd("WeakRef");if(SC(e))return pi(w(Number(e)));if(EC(e))return pi(w(eg.call(e)));if(kC(e))return pi(mC.call(e));if(AC(e))return pi(w(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===global)return"{ [object globalThis] }";if(!xC(e)&&!wA(e)){var G=xl(e,w),k=gA?gA(e)===Object.prototype:e instanceof Object||e.constructor===Object,Y=e instanceof Object?"":"null prototype",K=!k&&nt&&Object(e)===e&&nt in e?og.call(zn(e),8,-1):Y?"Object":"",H=k||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",pe=H+(K||Y?"["+Wt.call(mA.call([],K||[],Y||[]),": ")+"] ":"");return G.length===0?pe+"{}":v?pe+"{"+ag(G,v)+"}":pe+"{ "+Wt.call(G,", ")+" }"}return String(e)},"inspect_");function SA(t,e,n){var r=(n.quoteStyle||e)==="double"?'"':"'";return r+t+r}s(SA,"wrapQuotes");function wC(t){return Un.call(String(t),/"/g,"&quot;")}s(wC,"quote");function rg(t){return zn(t)==="[object Array]"&&(!nt||!(typeof t=="object"&&nt in t))}s(rg,"isArray");function xC(t){return zn(t)==="[object Date]"&&(!nt||!(typeof t=="object"&&nt in t))}s(xC,"isDate");function wA(t){return zn(t)==="[object RegExp]"&&(!nt||!(typeof t=="object"&&nt in t))}s(wA,"isRegExp");function bC(t){return zn(t)==="[object Error]"&&(!nt||!(typeof t=="object"&&nt in t))}s(bC,"isError");function AC(t){return zn(t)==="[object String]"&&(!nt||!(typeof t=="object"&&nt in t))}s(AC,"isString");function SC(t){return zn(t)==="[object Number]"&&(!nt||!(typeof t=="object"&&nt in t))}s(SC,"isNumber");function kC(t){return zn(t)==="[object Boolean]"&&(!nt||!(typeof t=="object"&&nt in t))}s(kC,"isBoolean");function kA(t){if(la)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!tg)return!1;try{return tg.call(t),!0}catch{}return!1}s(kA,"isSymbol");function EC(t){if(!t||typeof t!="object"||!eg)return!1;try{return eg.call(t),!0}catch{}return!1}s(EC,"isBigInt");var TC=Object.prototype.hasOwnProperty||function(t){return t in this};function $n(t,e){return TC.call(t,e)}s($n,"has");function zn(t){return dC.call(t)}s(zn,"toStr");function qC(t){if(t.name)return t.name;var e=hC.call(gC.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}s(qC,"nameOf");function EA(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}s(EA,"indexOf");function NC(t){if(!bl||!t||typeof t!="object")return!1;try{bl.call(t);try{Al.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}s(NC,"isMap");function PC(t){if(!fi||!t||typeof t!="object")return!1;try{fi.call(t,fi);try{mi.call(t,mi)}catch{return!0}return t instanceof WeakMap}catch{}return!1}s(PC,"isWeakMap");function OC(t){if(!pA||!t||typeof t!="object")return!1;try{return pA.call(t),!0}catch{}return!1}s(OC,"isWeakRef");function CC(t){if(!Al||!t||typeof t!="object")return!1;try{Al.call(t);try{bl.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}s(CC,"isSet");function _C(t){if(!mi||!t||typeof t!="object")return!1;try{mi.call(t,mi);try{fi.call(t,fi)}catch{return!0}return t instanceof WeakSet}catch{}return!1}s(_C,"isWeakSet");function RC(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}s(RC,"isElement");function TA(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return TA(og.call(t,0,e.maxStringLength),e)+r}var a=Un.call(Un.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,XC);return SA(a,"single",e)}s(TA,"inspectString");function XC(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+yC.call(e.toString(16))}s(XC,"lowbyte");function pi(t){return"Object("+t+")"}s(pi,"markBoxed");function Zd(t){return t+" { ? }"}s(Zd,"weakCollectionOf");function xA(t,e,n,r){var a=r?ag(n,r):Wt.call(n,", ");return t+" ("+e+") {"+a+"}"}s(xA,"collectionOf");function DC(t){for(var e=0;e<t.length;e++)if(EA(t[e],`
`)>=0)return!1;return!0}s(DC,"singleLineValues");function IC(t,e){var n;if(t.indent==="	")n="	";else if(typeof t.indent=="number"&&t.indent>0)n=Wt.call(Array(t.indent+1)," ");else return null;return{base:n,prev:Wt.call(Array(e+1),n)}}s(IC,"getIndent");function ag(t,e){if(t.length===0)return"";var n=`
`+e.prev+e.base;return n+Wt.call(t,","+n)+`
`+e.prev}s(ag,"indentedJoin");function xl(t,e){var n=rg(t),r=[];if(n){r.length=t.length;for(var a=0;a<t.length;a++)r[a]=$n(t,a)?e(t[a],t):""}var o=typeof Yd=="function"?Yd(t):[],l;if(la){l={};for(var u=0;u<o.length;u++)l["$"+o[u]]=o[u]}for(var f in t)$n(t,f)&&(n&&String(Number(f))===f&&f<t.length||la&&l["$"+f]instanceof Symbol||(bA.call(/[^\w$]/,f)?r.push(e(f,t)+": "+e(t[f],t)):r.push(f+": "+e(t[f],t))));if(typeof Yd=="function")for(var d=0;d<o.length;d++)AA.call(t,o[d])&&r.push("["+e(o[d])+"]: "+e(t[o[d]],t));return r}s(xl,"arrObjKeys")});var CA=D((uj,OA)=>{"use strict";var PA=Sr(),ca=sA(),BC=NA(),jC=na(),Sl=PA("%WeakMap%",!0),kl=PA("%Map%",!0),LC=ca("WeakMap.prototype.get",!0),MC=ca("WeakMap.prototype.set",!0),FC=ca("WeakMap.prototype.has",!0),$C=ca("Map.prototype.get",!0),UC=ca("Map.prototype.set",!0),zC=ca("Map.prototype.has",!0),lg=s(function(t,e){for(var n=t,r;(r=n.next)!==null;n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},"listGetNode"),QC=s(function(t,e){var n=lg(t,e);return n&&n.value},"listGet"),GC=s(function(t,e,n){var r=lg(t,e);r?r.value=n:t.next={key:e,next:t.next,value:n}},"listSet"),WC=s(function(t,e){return!!lg(t,e)},"listHas");OA.exports=s(function(){var e,n,r,a={assert:function(o){if(!a.has(o))throw new jC("Side channel does not contain "+BC(o))},get:function(o){if(Sl&&o&&(typeof o=="object"||typeof o=="function")){if(e)return LC(e,o)}else if(kl){if(n)return $C(n,o)}else if(r)return QC(r,o)},has:function(o){if(Sl&&o&&(typeof o=="object"||typeof o=="function")){if(e)return FC(e,o)}else if(kl){if(n)return zC(n,o)}else if(r)return WC(r,o);return!1},set:function(o,l){Sl&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Sl),MC(e,o,l)):kl?(n||(n=new kl),UC(n,o,l)):(r||(r={key:{},next:null}),GC(r,o,l))}};return a},"getSideChannel")});var El=D((fj,_A)=>{"use strict";var KC=String.prototype.replace,VC=/%20/g,cg={RFC1738:"RFC1738",RFC3986:"RFC3986"};_A.exports={default:cg.RFC3986,formatters:{RFC1738:function(t){return KC.call(t,VC,"+")},RFC3986:function(t){return String(t)}},RFC1738:cg.RFC1738,RFC3986:cg.RFC3986}});var fg=D((mj,XA)=>{"use strict";var HC=El(),ug=Object.prototype.hasOwnProperty,kr=Array.isArray,Kt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),JC=s(function(e){for(;e.length>1;){var n=e.pop(),r=n.obj[n.prop];if(kr(r)){for(var a=[],o=0;o<r.length;++o)typeof r[o]<"u"&&a.push(r[o]);n.obj[n.prop]=a}}},"compactQueue"),RA=s(function(e,n){for(var r=n&&n.plainObjects?Object.create(null):{},a=0;a<e.length;++a)typeof e[a]<"u"&&(r[a]=e[a]);return r},"arrayToObject"),YC=s(function t(e,n,r){if(!n)return e;if(typeof n!="object"){if(kr(e))e.push(n);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!ug.call(Object.prototype,n))&&(e[n]=!0);else return[e,n];return e}if(!e||typeof e!="object")return[e].concat(n);var a=e;return kr(e)&&!kr(n)&&(a=RA(e,r)),kr(e)&&kr(n)?(n.forEach(function(o,l){if(ug.call(e,l)){var u=e[l];u&&typeof u=="object"&&o&&typeof o=="object"?e[l]=t(u,o,r):e.push(o)}else e[l]=o}),e):Object.keys(n).reduce(function(o,l){var u=n[l];return ug.call(o,l)?o[l]=t(o[l],u,r):o[l]=u,o},a)},"merge"),ZC=s(function(e,n){return Object.keys(n).reduce(function(r,a){return r[a]=n[a],r},e)},"assignSingleSource"),e_=s(function(t,e,n){var r=t.replace(/\+/g," ");if(n==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},"decode"),pg=1024,t_=s(function(e,n,r,a,o){if(e.length===0)return e;var l=e;if(typeof e=="symbol"?l=Symbol.prototype.toString.call(e):typeof e!="string"&&(l=String(e)),r==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(b){return"%26%23"+parseInt(b.slice(2),16)+"%3B"});for(var u="",f=0;f<l.length;f+=pg){for(var d=l.length>=pg?l.slice(f,f+pg):l,g=[],v=0;v<d.length;++v){var w=d.charCodeAt(v);if(w===45||w===46||w===95||w===126||w>=48&&w<=57||w>=65&&w<=90||w>=97&&w<=122||o===HC.RFC1738&&(w===40||w===41)){g[g.length]=d.charAt(v);continue}if(w<128){g[g.length]=Kt[w];continue}if(w<2048){g[g.length]=Kt[192|w>>6]+Kt[128|w&63];continue}if(w<55296||w>=57344){g[g.length]=Kt[224|w>>12]+Kt[128|w>>6&63]+Kt[128|w&63];continue}v+=1,w=65536+((w&1023)<<10|d.charCodeAt(v)&1023),g[g.length]=Kt[240|w>>18]+Kt[128|w>>12&63]+Kt[128|w>>6&63]+Kt[128|w&63]}u+=g.join("")}return u},"encode"),n_=s(function(e){for(var n=[{obj:{o:e},prop:"o"}],r=[],a=0;a<n.length;++a)for(var o=n[a],l=o.obj[o.prop],u=Object.keys(l),f=0;f<u.length;++f){var d=u[f],g=l[d];typeof g=="object"&&g!==null&&r.indexOf(g)===-1&&(n.push({obj:l,prop:d}),r.push(g))}return JC(n),e},"compact"),r_=s(function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},"isRegExp"),a_=s(function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},"isBuffer"),i_=s(function(e,n){return[].concat(e,n)},"combine"),s_=s(function(e,n){if(kr(e)){for(var r=[],a=0;a<e.length;a+=1)r.push(n(e[a]));return r}return n(e)},"maybeMap");XA.exports={arrayToObject:RA,assign:ZC,combine:i_,compact:n_,decode:e_,encode:t_,isBuffer:a_,isRegExp:r_,maybeMap:s_,merge:YC}});var MA=D((gj,LA)=>{"use strict";var IA=CA(),Tl=fg(),di=El(),o_=Object.prototype.hasOwnProperty,BA={brackets:s(function(e){return e+"[]"},"brackets"),comma:"comma",indices:s(function(e,n){return e+"["+n+"]"},"indices"),repeat:s(function(e){return e},"repeat")},Vt=Array.isArray,l_=Array.prototype.push,jA=s(function(t,e){l_.apply(t,Vt(e)?e:[e])},"pushToArray"),c_=Date.prototype.toISOString,DA=di.default,$e={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Tl.encode,encodeValuesOnly:!1,format:DA,formatter:di.formatters[DA],indices:!1,serializeDate:s(function(e){return c_.call(e)},"serializeDate"),skipNulls:!1,strictNullHandling:!1},u_=s(function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},"isNonNullishPrimitive"),mg={},p_=s(function t(e,n,r,a,o,l,u,f,d,g,v,w,b,S,E,q,P,R){for(var O=e,M=R,j=0,U=!1;(M=M.get(mg))!==void 0&&!U;){var G=M.get(e);if(j+=1,typeof G<"u"){if(G===j)throw new RangeError("Cyclic object value");U=!0}typeof M.get(mg)>"u"&&(j=0)}if(typeof g=="function"?O=g(n,O):O instanceof Date?O=b(O):r==="comma"&&Vt(O)&&(O=Tl.maybeMap(O,function(Ue){return Ue instanceof Date?b(Ue):Ue})),O===null){if(l)return d&&!q?d(n,$e.encoder,P,"key",S):n;O=""}if(u_(O)||Tl.isBuffer(O)){if(d){var k=q?n:d(n,$e.encoder,P,"key",S);return[E(k)+"="+E(d(O,$e.encoder,P,"value",S))]}return[E(n)+"="+E(String(O))]}var Y=[];if(typeof O>"u")return Y;var K;if(r==="comma"&&Vt(O))q&&d&&(O=Tl.maybeMap(O,d)),K=[{value:O.length>0?O.join(",")||null:void 0}];else if(Vt(g))K=g;else{var H=Object.keys(O);K=v?H.sort(v):H}var pe=f?n.replace(/\./g,"%2E"):n,ge=a&&Vt(O)&&O.length===1?pe+"[]":pe;if(o&&Vt(O)&&O.length===0)return ge+"[]";for(var be=0;be<K.length;++be){var Re=K[be],J=typeof Re=="object"&&typeof Re.value<"u"?Re.value:O[Re];if(!(u&&J===null)){var Be=w&&f?Re.replace(/\./g,"%2E"):Re,Ne=Vt(O)?typeof r=="function"?r(ge,Be):ge:ge+(w?"."+Be:"["+Be+"]");R.set(e,j);var Ve=IA();Ve.set(mg,R),jA(Y,t(J,Ne,r,a,o,l,u,f,r==="comma"&&q&&Vt(O)?null:d,g,v,w,b,S,E,q,P,Ve))}}return Y},"stringify"),f_=s(function(e){if(!e)return $e;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var n=e.charset||$e.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=di.default;if(typeof e.format<"u"){if(!o_.call(di.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var a=di.formatters[r],o=$e.filter;(typeof e.filter=="function"||Vt(e.filter))&&(o=e.filter);var l;if(e.arrayFormat in BA?l=e.arrayFormat:"indices"in e?l=e.indices?"indices":"repeat":l=$e.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:$e.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:$e.addQueryPrefix,allowDots:u,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:$e.allowEmptyArrays,arrayFormat:l,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:$e.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?$e.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:$e.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:$e.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:$e.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:$e.encodeValuesOnly,filter:o,format:r,formatter:a,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:$e.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:$e.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:$e.strictNullHandling}},"normalizeStringifyOptions");LA.exports=function(t,e){var n=t,r=f_(e),a,o;typeof r.filter=="function"?(o=r.filter,n=o("",n)):Vt(r.filter)&&(o=r.filter,a=o);var l=[];if(typeof n!="object"||n===null)return"";var u=BA[r.arrayFormat],f=u==="comma"&&r.commaRoundTrip;a||(a=Object.keys(n)),r.sort&&a.sort(r.sort);for(var d=IA(),g=0;g<a.length;++g){var v=a[g];r.skipNulls&&n[v]===null||jA(l,p_(n[v],v,u,f,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,d))}var w=l.join(r.delimiter),b=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),w.length>0?b+w:""}});var UA=D((yj,$A)=>{"use strict";var ua=fg(),dg=Object.prototype.hasOwnProperty,m_=Array.isArray,Ie={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:ua.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},d_=s(function(t){return t.replace(/&#(\d+);/g,function(e,n){return String.fromCharCode(parseInt(n,10))})},"interpretNumericEntities"),FA=s(function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},"parseArrayValue"),g_="utf8=%26%2310003%3B",h_="utf8=%E2%9C%93",y_=s(function(e,n){var r={__proto__:null},a=n.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=n.parameterLimit===1/0?void 0:n.parameterLimit,l=a.split(n.delimiter,o),u=-1,f,d=n.charset;if(n.charsetSentinel)for(f=0;f<l.length;++f)l[f].indexOf("utf8=")===0&&(l[f]===h_?d="utf-8":l[f]===g_&&(d="iso-8859-1"),u=f,f=l.length);for(f=0;f<l.length;++f)if(f!==u){var g=l[f],v=g.indexOf("]="),w=v===-1?g.indexOf("="):v+1,b,S;w===-1?(b=n.decoder(g,Ie.decoder,d,"key"),S=n.strictNullHandling?null:""):(b=n.decoder(g.slice(0,w),Ie.decoder,d,"key"),S=ua.maybeMap(FA(g.slice(w+1),n),function(q){return n.decoder(q,Ie.decoder,d,"value")})),S&&n.interpretNumericEntities&&d==="iso-8859-1"&&(S=d_(S)),g.indexOf("[]=")>-1&&(S=m_(S)?[S]:S);var E=dg.call(r,b);E&&n.duplicates==="combine"?r[b]=ua.combine(r[b],S):(!E||n.duplicates==="last")&&(r[b]=S)}return r},"parseQueryStringValues"),v_=s(function(t,e,n,r){for(var a=r?e:FA(e,n),o=t.length-1;o>=0;--o){var l,u=t[o];if(u==="[]"&&n.parseArrays)l=n.allowEmptyArrays&&a===""?[]:[].concat(a);else{l=n.plainObjects?Object.create(null):{};var f=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,d=n.decodeDotInKeys?f.replace(/%2E/g,"."):f,g=parseInt(d,10);!n.parseArrays&&d===""?l={0:a}:!isNaN(g)&&u!==d&&String(g)===d&&g>=0&&n.parseArrays&&g<=n.arrayLimit?(l=[],l[g]=a):d!=="__proto__"&&(l[d]=a)}a=l}return a},"parseObject"),w_=s(function(e,n,r,a){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,f=r.depth>0&&l.exec(o),d=f?o.slice(0,f.index):o,g=[];if(d){if(!r.plainObjects&&dg.call(Object.prototype,d)&&!r.allowPrototypes)return;g.push(d)}for(var v=0;r.depth>0&&(f=u.exec(o))!==null&&v<r.depth;){if(v+=1,!r.plainObjects&&dg.call(Object.prototype,f[1].slice(1,-1))&&!r.allowPrototypes)return;g.push(f[1])}return f&&g.push("["+o.slice(f.index)+"]"),v_(g,n,r,a)}},"parseQueryStringKeys"),x_=s(function(e){if(!e)return Ie;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=typeof e.charset>"u"?Ie.charset:e.charset,r=typeof e.duplicates>"u"?Ie.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var a=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Ie.allowDots:!!e.allowDots;return{allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ie.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ie.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ie.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ie.arrayLimit,charset:n,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ie.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ie.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Ie.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Ie.decoder,delimiter:typeof e.delimiter=="string"||ua.isRegExp(e.delimiter)?e.delimiter:Ie.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ie.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ie.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ie.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ie.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ie.strictNullHandling}},"normalizeParseOptions");$A.exports=function(t,e){var n=x_(e);if(t===""||t===null||typeof t>"u")return n.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?y_(t,n):t,a=n.plainObjects?Object.create(null):{},o=Object.keys(r),l=0;l<o.length;++l){var u=o[l],f=w_(u,r[u],n,typeof t=="string");a=ua.merge(a,f,n)}return n.allowSparse===!0?a:ua.compact(a)}});var QA=D((wj,zA)=>{"use strict";var b_=MA(),A_=UA(),S_=El();zA.exports={formats:S_,parse:A_,stringify:b_}});var WA=D((xj,GA)=>{"use strict";var k_=QA(),E_=et(),Qn=Oe(),T_=st();function q_(t,e){if(t==null||e==null)return[];var n=t["content-type"][0];switch((typeof n=="string"||n instanceof String)&&(n=n.replace(/;.*$/,"")),n){case"application/x-unknown-content-type":return{format:"binary",datatype:"node()",value:e.content};case"application/json":return{format:"json",datatype:"node()",value:e.content};case"application/xml":return{format:"xml",datatype:"node()",value:e.content}}var r=t["x-primitive"][0],a=null;switch(r){case"node()":return{format:"text",datatype:"node()",value:e.content};case"text()":return{format:"text",datatype:"node()",value:e.content};case"attribute()":return{format:"text",datatype:"attribute()",value:e.content};case"boolean":return{format:"text",datatype:r,value:!!e.content};case"dateTime":return{format:"text",datatype:r,value:new Date(e.content)};case"byte":case"int":case"short":case"unsignedByte":case"unsignedInt":case"unsignedShort":return{format:"text",datatype:r,value:Number(e.content)};case"decimal":case"double":case"float":return a=e.content,{format:"text",datatype:r,value:isFinite(a)?Number(a):a};case"integer":case"long":case"negativeInteger":case"nonNegativeInteger":case"nonPositiveInteger":case"positiveInteger":case"unsignedLong":if(a=e.content,isFinite(a)){var o=Number(a);Math.abs(o)<9007199254740992&&(a=o)}return{format:"text",datatype:r,value:a};case"base64Binary":case"date":case"duration":case"gDay":case"gMonth":case"gMonthDay":case"gYear":case"gYearMonth":case"hexBinary":case"language":case"Name":case"NCName":case"QName":case"time":case"token":return{format:"text",datatype:r,value:e.content};case"anyAtomicType":case"anyURI":case"normalizedString":case"string":case"untypedAtomic":return{format:"text",datatype:"string",value:e.content}}return{format:"text",datatype:"other",value:e.content}}s(q_,"execOutputTransform");function N_(){return gg.call(this,"JavaScript",Qn.asArray.apply(null,arguments))}s(N_,"serverJavaScriptEval");function P_(){return gg.call(this,"XQuery",Qn.asArray.apply(null,arguments))}s(P_,"serverXQueryEval");function O_(){return gg.call(this,"invoke",Qn.asArray.apply(null,arguments))}s(O_,"serverInvoke");function gg(t,e){var n=this,r=null,a=null;if(t==="invoke"?(r="invoke code on server",a=t):(r="eval "+t+" on server",a=t.toLowerCase()),e.length===0)throw new Error("must specify the source to "+r);var o=a==="invoke",l=e[0],u=o?l.path:l.source,f=null,d=null;u!==void 0?(f=l.variables,d=Qn.convertTransaction(l.txid)):(u=l,e.length>1&&(f=e[1]));var g={};o?g.module=u:g[a]=u,f!=null&&(g.vars=JSON.stringify(f));var v=o?"/v1/invoke":"/v1/eval",w="?";d!=null&&(v+=w+"txid="+Qn.getTxidParam(d),w="&");let b=Qn.newRequestOptions(n.getConnectionParams(),v,"POST");b.headers={"Content-Type":"application/x-www-form-urlencoded",Accept:"multipart/mixed; boundary="+Qn.multipartBoundary},Qn.addTxidHeaders(b,d);var S=new T_(r,n,b,"single","multipart");return S.requestBody=k_.stringify(g),S.outputTransform=q_,E_.startRequest(S)}s(gg,"serverExec");GA.exports={serverJavaScriptEval:N_,serverXQueryEval:P_,serverInvoke:O_}});var JA=D((Aj,HA)=>{"use strict";var ql=Oe(),KA=Hr();function gi(){for(var t=null,e=null,n=arguments.length,r=0;r<n;r++){var a=arguments[r];if(r===0){t=a;continue}if(e===null&&/^[?.*+]$/.test(a)){e=a;continue}break}if(t===null)throw new Error("remove takes select and optional cardinality");var o={select:t};return e!==null&&(o.cardinality=e),{delete:o}}s(gi,"remove");function hi(){for(var t=null,e=null,n=void 0,r=null,a=arguments.length,o=0;o<a;o++){var l=arguments[o];if(o===0){t=l;continue}if(l===null&&n===void 0){n=l;continue}var u=typeof l=="string"||l instanceof String;if(u){if(e===null&&/^(before|after|last-child)$/.test(l)){e=l;continue}if(r===null&&/^[?.*+]$/.test(l)){r=l;continue}}if(n===void 0){n=l;continue}break}if(t===null||e===null||n===void 0)throw new Error("insert takes context, position, content, and optional cardinality");var f={context:t,position:e,content:n};return r!==null&&(f.cardinality=r),{insert:f}}s(hi,"insert");function C_(t){if(t==null)throw new Error("library must name the module that defines the apply functions");var e=ql.rootname(t);if(e===null)throw new Error("library must have an extension of .sjs or .xqy");var n=t.substring(t.lastIndexOf(".")+1,t.length);return n==="sjs"?{"replace-library":{at:"/ext/marklogic/patch/apply/"+t}}:{"replace-library":{ns:"http://marklogic.com/patch/apply/"+e,at:"/ext/marklogic/patch/apply/"+t}}}s(C_,"library");function Et(){var t=ql.asArray.apply(null,arguments),e=t.length;switch(e){case 0:throw new Error("no name for function to apply");case 1:return{apply:t[0]};default:for(var n=KA.lib.DatatypeDef,r=t[0],a=[],o=null,l=null,u=1;u<e;u++){if(l=t[u],l instanceof n){if(o!==null)throw new Error(o+" datatype without following value for "+r);o=l.datatype;continue}o!==null?(a.push({$value:l,$datatype:o}),o=null):Object.prototype.toString.call(l)==="[object Date]"?a.push({$value:l.toISOString(),$datatype:"xs:datetime"}):a.push({$value:l})}if(o!==null)throw new Error(o+" datatype without last value for "+r);return{apply:r,content:a}}}s(Et,"apply");function __(t){if(arguments.length<1)throw new Error("no number to add");return Et("ml.add",t)}s(__,"add");function R_(t){if(arguments.length<1)throw new Error("no number to subtract");return Et("ml.subtract",t)}s(R_,"subtract");function X_(t){if(arguments.length<1)throw new Error("no number to multiply by");return Et("ml.multiply",t)}s(X_,"multiplyBy");function D_(t){if(arguments.length<1)throw new Error("no number to divide by");return Et("ml.divide",t)}s(D_,"divideBy");function I_(t){if(arguments.length<1)throw new Error("no string to concat before");return Et("ml.concat-before",t)}s(I_,"concatBefore");function B_(t){if(arguments.length<1)throw new Error("no string to concat after");return Et("ml.concat-after",t)}s(B_,"concatAfter");function j_(t,e){if(arguments.length<2)throw new Error("no strings to concat before and after");return Et("ml.concat-between",t,e)}s(j_,"concatBetween");function L_(t){if(arguments.length<1)throw new Error("no substring for after");return Et("ml.substring-after",t)}s(L_,"substringAfter");function M_(t){if(arguments.length<1)throw new Error("no substring for before");return Et("ml.substring-before",t)}s(M_,"substringBefore");function F_(t,e,n){if(arguments.length<2)throw new Error("no match and replace for replace regex");return n===void 0?Et("ml.replace-regex",t,e):Et("ml.replace-regex",t,e,n)}s(F_,"replaceRegex");function yi(){for(var t=null,e=void 0,n=null,r=null,a=arguments.length,o=0;o<a;o++){var l=arguments[o];if(o===0){t=l;continue}if(l===null&&e===void 0){e=l;continue}var u=typeof l=="string"||l instanceof String;if(u&&n===null&&/^[?.*+]$/.test(l)){n=l;continue}if(r==null&&(r=l.apply,r!=null)){e=l.content;continue}if(e===void 0){e=l;continue}break}if(t===null)throw new Error("replace takes a select path, content or an apply function, and optional cardinality");var f={select:t,content:e};return n!=null&&(f.cardinality=n),r!=null&&(f.apply=r),{replace:f}}s(yi,"replace");function $_(){for(var t=null,e=null,n=null,r=void 0,a=null,o=null,l=arguments.length,u=0;u<l;u++){var f=arguments[u];if(u===0){t=f;continue}if(u===1){e=f;continue}if(f===null&&r===void 0){r=f;continue}var d=typeof f=="string"||f instanceof String;if(d){if(n===null&&/^(before|after|last-child)$/.test(f)){n=f;continue}if(a===null&&/^[?.*+]$/.test(f)){a=f;continue}}if(o==null&&(o=f.apply,o!=null)){r=f.content;continue}if(r===void 0){r=f;continue}break}if(t===null||e===null||n===null)throw new Error("replaceInsert takes select, context, position, content or an apply function, and optional cardinality");var g={select:t,context:e,position:n,content:r};return a!=null&&(g.cardinality=a),o!=null&&(g.apply=o),{"replace-insert":g}}s($_,"replaceInsert");function U_(){var t=arguments.length<1?null:arguments[0];if(t!=="jsonpath"&&t!=="xpath")throw new Error("pathLanguage takes a path language of xpath or jsonpath");return{pathlang:t}}s(U_,"pathLanguage");function z_(t){if(typeof t!="string")throw new Error("collections.add() takes a string name");return hi('/array-node("collections")',"last-child",t)}s(z_,"addCollection");function Q_(t){if(typeof t!="string")throw new Error("collections.remove() takes a string name");return gi('/collections[. eq "'+t+'"]')}s(Q_,"removeCollection");function G_(){var t=VA(ql.asArray.apply(null,arguments));if(t===null)throw new Error("permissions.add() takes the role name and one or more insert|update|read|execute capabilities");return hi('/array-node("permissions")',"last-child",t)}s(G_,"addPermission");function W_(){var t=VA(ql.asArray.apply(null,arguments));if(t===null)throw new Error("permissions.replace() takes the role name and one or more insert|update|read|execute capabilities");return yi('/permissions[node("role-name") eq "'+t["role-name"]+'"]',t)}s(W_,"replacePermission");function K_(t){if(typeof t!="string")throw new Error("permissions.remove() takes a string role name");return gi('/permissions[node("role-name") eq "'+t+'"]')}s(K_,"removePermission");function VA(t){var e=t.length,n=null,r=null,a=!1,o=e===0?null:t[0];if(o!==null)if(t.length>1&&typeof o=="string")n=o,r=t[1];else{if(n=o["role-name"],typeof n!="string")return null;r=o.capabilities,a=!0}if(r==null)return null;var l={execute:!0,insert:!0,read:!0,update:!0};if(Array.isArray(r)){for(var u=r.length,f=0;f<u;f++)if(!l[r[f]])return null}else{if(!l[r])return null;r=[r],a&&(a=!1)}return a?o:{"role-name":n,capabilities:r}}s(VA,"getPermission");function V_(t,e){if(typeof t!="string"||e==null)throw new Error("properties.add() takes a string name and a value");var n={};return n[t]=e,hi('/object-node("properties")',"last-child",n)}s(V_,"addProperty");function H_(t,e){if(typeof t!="string"||e==null)throw new Error("properties.replace() takes a string name and a value");return yi('/properties/node("'+t+'")',e)}s(H_,"replaceProperty");function J_(t){if(typeof t!="string")throw new Error("properties.remove() takes a string property name");return gi('/properties/node("'+t+'")')}s(J_,"removeProperty");function Y_(t){if(typeof t!="number")throw new Error("quality.set() takes a number");return yi("/quality",t)}s(Y_,"setQuality");function Z_(t,e){if(typeof t!="string"||typeof e!="string")throw new Error("metadataValues.add() takes a string name and string value");var n={};return n[t]=e,hi('/object-node("metadataValues")',"last-child",n)}s(Z_,"addMetadataValue");function eR(t,e){if(typeof t!="string"||typeof e!="string")throw new Error("metadataValues.replace() takes a string name and a string value");return yi('/metadataValues/node("'+t+'")',e)}s(eR,"replaceMetadataValue");function tR(t){if(typeof t!="string")throw new Error("metadataValues.remove() takes a string name");return gi('/metadataValues/node("'+t+'")')}s(tR,"removeMetadataValue");HA.exports={collections:{add:z_,remove:Q_},permissions:{add:G_,replace:W_,remove:K_},properties:{add:V_,replace:H_,remove:J_},quality:{set:Y_},metadataValues:{add:Z_,replace:eR,remove:tR},add:__,apply:Et,concatAfter:B_,concatBefore:I_,concatBetween:j_,datatype:KA.builder.datatype,divideBy:D_,insert:hi,library:C_,multiplyBy:X_,pathLanguage:U_,remove:gi,replace:yi,replaceInsert:$_,replaceRegex:F_,substringAfter:L_,substringBefore:M_,subtract:R_}});var eS=D((kj,ZA)=>{"use strict";var nR=iu(),vi=Oe(),V=Hr().builder;function Ht(){if(!(this instanceof Ht))return new Ht}s(Ht,"ValueBuilder");function YA(){for(var t=this instanceof Ht?this:new Ht,e=vi.asArray.apply(null,arguments),n=e.length,r={element:!0,field:!0,"json-property":!0,"path-index":!0},a={"geo-attr-pair":!0,"geo-elem":!0,"geo-elem-pair":!0,"geo-json-property":!0,"geo-json-property-pair":!0,"geo-path":!0},o=null,l=null,u=null,f=0;f<n;f++){if(o=e[f],typeof o=="string"||o instanceof String){e[f]={range:V.property(o)};continue}if(l=Object.keys(o)[0],r[l]){e[f]={range:o};continue}if(u=o.range,u!=null&&(e[f]={range:u}),a[l]){e[f]=o;continue}}return t.fromIndexesClause=e,t}s(YA,"valuesFromIndexes");Ht.prototype.fromIndexes=YA;Ht.prototype.where=s(function(){var e=this,n=vi.asArray.apply(null,arguments),r=n.length,a=null,o=null,l=null;switch(r){case 0:e.whereClause={query:{queries:[V.and()]}};break;default:for(var u=0;u<r;u++){var f=n[u];a==null&&(a=f.parsedQuery,a!=null)||o==null&&(o=f["fragment-scope"],o!=null)||(l===null?l=[f]:l.push(f))}var d={};l!==null&&(d.query={queries:l}),a!=null&&(d.parsedQuery=a),o!=null&&(d["fragment-scope"]=o),e.whereClause=d;break}return e},"valuesWhere");Ht.prototype.aggregates=s(function(){var e=this,n=vi.asArray.apply(null,arguments),r=n.length;if(r<1)throw new Error("aggregates must specify at least one built-in function or UDF");for(var a=[],o=0;o<r;o++){var l=n[o];typeof l=="string"||l instanceof String?a.push({apply:l}):l.udf!==void 0?a.push(l):Array.isArray(l)&&l.length>1&&a.push({udf:l[0],apply:l[1]})}return e.aggregatesClause={aggregates:a},e},"valuesAggregates");function rR(){if(arguments.length<1)throw new Error("UDF calls must specify the plugin and function");return{udf:arguments[0],apply:arguments[1]}}s(rR,"udf");Ht.prototype.slice=s(function(){var e=this,n=vi.asArray.apply(null,arguments);return e.sliceClause=vi.makeSliceClause("values",n),e},"valuesSlice");Ht.prototype.withOptions=s(function(){var e=this,n={values:"values-option",forestNames:"forest-names"},r={};if(0<arguments.length)for(var a=arguments[0],o=Object.keys(a),l=0;l<o.length;l++){var u=o[l];if(n[u]!==void 0){var f=a[u];f!==void 0&&(r[u]=f)}}return e.withOptionsClause=r,e},"valuesWithOptions");function aR(){return{uri:null}}s(aR,"valuesUri");function iR(t){var e=new Ht;if(t!=null)for(var n=["fromIndexesClause","whereClause","aggregatesClause","sliceClause","withOptionsClause"],r=typeof t=="string"||t instanceof String,a=r?JSON.parse(t):t,o=0;o<n.length;o++){var l=n[o],u=a[l];u!=null&&(e[l]=r?u:nR(u))}return e}s(iR,"copyFromValueBuilder");ZA.exports={builder:{and:V.and,andNot:V.andNot,attribute:V.attribute,bind:V.bind,bindDefault:V.bindDefault,bindEmptyAs:V.bindEmptyAs,boost:V.boost,box:V.box,circle:V.circle,collection:V.collection,copyFrom:iR,datatype:V.datatype,directory:V.directory,document:V.document,documentFragment:V.documentFragment,element:V.element,falseQuery:V.falseQuery,field:V.field,fragmentScope:V.fragmentScope,fromIndexes:YA,geoAttributePair:V.geoAttributePair,geoElement:V.geoElement,geoElementPair:V.geoElementPair,geoPath:V.geoPath,geoProperty:V.geoProperty,geoPropertyPair:V.geoPropertyPair,geoOptions:V.geoOptions,geospatial:V.geospatial,heatmap:V.heatmap,jsontype:V.jsontype,latlon:V.latlon,locksFragment:V.locksFragment,lsqtQuery:V.lsqtQuery,near:V.near,not:V.not,notIn:V.notIn,parseBindings:V.parseBindings,parsedFrom:V.parsedFrom,parseFunction:V.parseFunction,pathIndex:V.pathIndex,period:V.period,periodCompare:V.periodCompare,periodRange:V.periodRange,point:V.point,polygon:V.polygon,propertiesFragment:V.propertiesFragment,property:V.property,qname:V.qname,or:V.or,ordered:V.ordered,range:V.range,rangeOptions:V.rangeOptions,scope:V.scope,southWestNorthEast:V.southWestNorthEast,temporalOptions:V.temporalOptions,term:V.term,termOptions:V.termOptions,transform:V.transform,trueQuery:V.trueQuery,udf:rR,uri:aR,value:V.value,weight:V.weight,word:V.word}}});var nS=D((Tj,tS)=>{"use strict";var Tt=Td(),yg=class yg{constructor(){this.cts=new Tt.CtsExpr,this.fn=new Tt.FnExpr,this.geo=new Tt.GeoExpr,this.json=new Tt.JsonExpr,this.map=new Tt.MapExpr,this.math=new Tt.MathExpr,this.rdf=new Tt.RdfExpr,this.sem=new Tt.SemExpr,this.spell=new Tt.SpellExpr,this.sql=new Tt.SqlExpr,this.xdmp=new Tt.XdmpExpr,this.xs=new Tt.XsExpr}};s(yg,"CtsQueryBuilder");var hg=yg,sR=new hg;tS.exports={builder:sR}});var aS=D((Nj,rS)=>{"use strict";var oR=st(),lR=et(),cR=Oe(),wg=class wg{constructor(e){this.clientObject=e}sendRequest(e,n,r){if(!e)throw new Error("Path is needed to send request.");let a=cR.newRequestOptions(this.clientObject.getConnectionParams(),e);n&&n(a);let o=new oR("",this.clientObject,a,"single","single");return r&&r(o),o.validStatusCodes||(o.validStatusCodes=[200,201,204,404]),lR.startRequest(o)}};s(wg,"InternalClass");var vg=wg;rS.exports={InternalClass:vg}});var sS=D((Oj,iS)=>{"use strict";var bg=class bg{constructor(){this._sessionId=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)}sessionId(){return this._sessionId}};s(bg,"SessionState");var xg=bg;iS.exports=xg});var yS=D((_j,hS)=>{"use strict";var qg=st(),Jt=Oe(),oS=et(),cS=sS();function uR(t,e,n){let r=e.endpoint(),a={},o=pS(e,n,a),l=Object.keys(n);if(l.length>1||l.length===1&&l[0]!==o)throw new Error("function does not take arguments: "+e.name());let u=Og(e,a),f=Jt.newRequestOptions(t.getConnectionParams(),r,"POST");f.headers=a;let d=new qg("call to "+r,t,f,"empty",e.returnKind());return Pg(e,d,u),Ng(e,d)}s(uR,"emptyRequest");function pR(t,e,n){let r=e.endpoint(),a={"Content-Type":'application/x-www-form-urlencoded;charset="utf-8"'};uS(e,n,a);let o=Jt.newRequestOptions(t.getConnectionParams(),r,"POST");o.headers=a;let l=new qg("call to "+r,t,o,"single",e.returnKind()),u=[];for(let[d,g]of e.paramdefs()){let v=n[d];if(!fS(d,g,v))if(Array.isArray(v))for(let w of v)u.push(d+"="+encodeURIComponent(Jt.marshal(w,l)));else u.push(d+"="+encodeURIComponent(Jt.marshal(v,l)))}l.requestBody=u.join("&");let f=Og(e,a);return Pg(e,l,f),Ng(e,l)}s(pR,"multiAtomicRequest");function fR(t,e,n){let r=e.endpoint(),a=Jt.multipartBoundary,o={"Content-Type":"multipart/form-data; boundary="+a};uS(e,n,o);let l=Jt.newRequestOptions(t.getConnectionParams(),r,"POST");l.headers=o;let u=new qg("call to "+r,t,l,"multipart",e.returnKind());u.multipartBoundary=a;let f=[];for(let[g,v]of e.paramdefs()){let w=n[g];if(fS(g,v,w))continue;let b={"Content-Type":v.mimeType(),"Content-Disposition":'form-data; name="'+g+'"'};if(v.multiple())for(let S of w)f.push({headers:b,content:Jt.marshal(S,u)});else f.push({headers:b,content:Jt.marshal(w,u)})}u.requestPartList=f;let d=Og(e,o);return Pg(e,u,d),Ng(e,u)}s(fR,"multiNodeRequest");function Ng(t,e){switch(t.outputMode()){case"promise":return oS.startRequest(e).result("promise");case"stream":return oS.startRequest(e).stream("object");default:throw new Error("unknown output mode: "+t.outputMode())}}s(Ng,"startRequest");function mR(t,e,n){if(e!=null){if(!(e instanceof cS))throw new Error("unknown value for "+t+" session parameter: "+e);n.Cookie="SessionID="+e.sessionId()}}s(mR,"addSessionParam");function Pg(t,e,n){n!==null&&(e.outputTransform=n,e.inlineAsDocument=!1,e.returndef=t.returndef())}s(Pg,"addOutputTransform");function uS(t,e,n){if(typeof e!="object"||e===null)throw new Error("argument not an object for: "+t.name());let r=pS(t,e,n),a=t.paramdefs();Object.keys(e).forEach(o=>{if(!a.has(o)&&(r===null||o!==r))throw new Error("argument for unknown parameter: "+o)})}s(uS,"checkArgNames");function pS(t,e,n){let r=t.sessionParam();if(r===null)return null;let a=r.name(),o=e[a];if(o!=null)mR(a,o,n);else if(!r.nullable())throw new Error("missing required session parameter: "+a);return a}s(pS,"checkSessionParam");function fS(t,e,n){if(n==null){if(!e.nullable())throw new Error("null value not allowed for parameter: "+t);return!0}if(Array.isArray(n))if(e.multiple()){if(n.length===0){if(!e.nullable())throw new Error("empty value list not allowed for parameter: "+t);return!0}}else{let r=e.datatype();if(r!=="array"&&r!=="jsonDocument")throw new Error("multiples values not allowed for parameter: "+t)}return!1}s(fS,"isArgNull");function Og(t,e){switch(t.returnKind()){case"empty":return null;case"single":let n=t.returndef();switch(e.Accept=n.mimeType(),n.dataKind()){case"atomic":return dR;case"node":return gR;default:throw new Error("unknown kind of data for single return value: "+n.dataKind())}break;case"multipart":return e.Accept="multipart/mixed; boundary="+Jt.multipartBoundary,hR;default:throw new Error("unknown kind of return: "+t.returnKind())}}s(Og,"specifyOutputTransform");function dR(t,e){let n=this,r=n.returndef;return Cg(n,r,e)?null:mS(n,r,e)?(n.errorListener("multiple values returned for single atomic response"),null):dS(n,r,e)}s(dR,"singleAtomicOutputTransform");function gR(t,e){let n=this,r=n.returndef;return Cg(n,r,e)?null:mS(n,r,e)?(n.errorListener("multiple values returned for single node response"),null):e}s(gR,"singleNodeOutputTransform");function hR(t,e){let n=this,r=n.returndef;return Cg(n,r,e)?null:Array.isArray(e)?e.map(a=>lS(n,r,a)):lS(n,r,e)}s(hR,"multiOutputTransform");function Cg(t,e,n){return n==null?(e!==null&&!e.nullable()&&t.errorListener("invalid null response"),!0):e===null?(t.errorListener("invalid value response"),!0):!1}s(Cg,"isNullValue");function mS(t,e,n){return Array.isArray(n)?e.datatype()==="array"?!1:(e.multiple()||t.errorListener("invalid multiple response"),!0):!1}s(mS,"isMultipleValue");function lS(t,e,n){if(n===null)return n;let r=e.dataKind();switch(r){case"atomic":return dS(t,e,n);case"node":return n;default:throw new Error(`unknown return kind ${r}`)}}s(lS,"convertValue");function dS(t,e,n){if(n===null)return n;switch(e.getJsType()){case"boolean":return n==="true";case"number":let r=Number(n);return Number.isNaN(r)?(t.errorListener("response not numeric: "+n),null):r;case"string":return n;case"Date":return new Date(n);default:throw new Error(`unknown JavaScript type ${e.getJsType()} for atomic datatype ${e.datatype()}`)}}s(dS,"convertAtomicValue");function yR(t){let e=new Pl(t);return[e.name(),e]}s(yR,"paramMapEntry");function gS(t,e){let n=e.datatype;if(n==null)throw new Error(`missing datatype for ${t}`);switch(n){case"boolean":case"date":case"dateTime":case"dayTimeDuration":case"decimal":case"double":case"float":case"int":case"long":case"string":case"time":case"unsignedInt":case"unsignedLong":e.dataKind="atomic",e.mimeType="text/plain";break;case"binaryDocument":e.dataKind="node",e.mimeType="application/x-unknown-content-type";break;case"array":case"jsonDocument":case"object":e.dataKind="node",e.mimeType="application/json";break;case"textDocument":e.dataKind="node",e.mimeType="text/plain";break;case"xmlDocument":e.dataKind="node",e.mimeType="application/xml";break;default:throw new Error(`invalid datatype configuration ${n} for ${t}`)}let r=e.multiple;if(r==null)e.multiple=!1;else{if(typeof r!="boolean"&&!(r instanceof Boolean))throw new Error(`invalid multiple configuration ${r} for ${t}`);if(r===!0&&n==="session")throw new Error(`session cannot be multiple for ${t}`)}let a=e.nullable;if(a==null)e.nullable=!1;else if(typeof a!="boolean"&&!(a instanceof Boolean))throw new Error(`invalid nullable configuration ${a} for ${t}`)}s(gS,"expandDataDeclaration");function vR(t){let e=t.name;if(e==null)throw new Error("missing parameter name");gS("${paramName} parameter",t)}s(vR,"expandParamDeclaration");function wR(t){gS("return value",t);let e=t.$jsType;e===void 0&&(e=null);let n=t.datatype;switch(n){case"boolean":if(e===null)t.$jsType="boolean";else if(e!=="boolean"&&e!=="string")throw new Error(`optional $jsType ${e} can only be "boolean" or "string" for datatype ${n} return value`);break;case"date":case"dayTimeDuration":case"decimal":case"double":case"long":case"string":case"time":case"unsignedLong":if(e===null)t.$jsType="string";else if(e!=="string")throw new Error(`optional $jsType ${e} can only be "string" for datatype ${n} return value`);break;case"dateTime":if(e===null)t.$jsType="string";else if(e!=="Date"&&e!=="string")throw new Error(`optional $jsType ${e} can only be "Date" or "string" for datatype ${n} return value`);break;case"float":case"int":case"unsignedInt":if(e===null)t.$jsType="number";else if(e!=="number"&&e!=="string")throw new Error(`optional $jsType ${e} can only be "number" or "string" for datatype ${n} return value`);break;case"array":case"binaryDocument":case"jsonDocument":case"object":case"textDocument":case"xmlDocument":if(e!==null)throw new Error(`cannot specify a $jsType for datatype ${n} for return value`);break;default:throw new Error(`unknown datatype ${n} for return value`)}}s(wR,"expandReturnDeclaration");function _g(t){let e=t.functionName;if(e==null)throw new Error("missing function name");let n="empty",r=null,a=t.params;if(a==null)t.params=[],t.maxArgs=0;else if(a.length>0){let u=a.filter(f=>{if(f==null)return!1;if(f.datatype==="session"){if(r!==null)throw new Error(`${e} function with multiple session parameters: ${r.name} and ${f.name}`);return r=f,!1}switch(vR(f),n){case"empty":let d=f.dataKind;switch(d){case"atomic":n="multiAtomic";break;case"node":n="multiNode";break;default:throw new Error(`invalid kind of param data ${d} for ${f.name} parameter`)}break;case"multiAtomic":f.dataKind==="node"&&(n="multiNode");break;case"multiNode":break;default:throw new Error(`invalid kind of parameter list ${n} for ${f.name} parameter`)}return!0});u.length<a.length?(t.params=u,t.maxArgs=r!==null?u.length+1:u.length):t.maxArgs=a.length}t.paramsKind=n,r!==null&&(r.dataKind="session",r.mimeType=null),t.sessionParam=r;let o=t.return;o===void 0?(t.return=null,t.returnKind="empty"):o===null?t.returnKind="empty":(wR(o),t.returnKind=o.multiple?"multipart":"single");let l=t.$jsOutputMode;if(l==null)t.$jsOutputMode="promise";else if(l!=="promise"&&l!=="stream")throw new Error(`${e} must have $jsOutputMode of "promise" or "stream" instead of ${l}`)}s(_g,"expandFunctionDeclaration");function xR(t){let e=t.moduleExtension;if(typeof e!="string"||e.length===0)throw new Error("invalid module extension configuration: "+e);e.startsWith(".")||(t.moduleExtension="."+e),_g(t.declaration)}s(xR,"expandEndpointDeclaration");var Rg=class Rg{constructor(e){this._dataKind=e.dataKind,this._datatype=e.datatype,this._mimeType=e.mimeType,this._multiple=e.multiple,this._nullable=e.nullable}dataKind(){return this._dataKind}mimeType(){return this._mimeType}datatype(){return this._datatype}multiple(){return this._multiple}nullable(){return this._nullable}};s(Rg,"Datadef");var Nl=Rg,Xg=class Xg extends Nl{constructor(e){super(e),this._name=e.name}name(){return this._name}};s(Xg,"Paramdef");var Pl=Xg,Dg=class Dg extends Nl{constructor(e){super(e),this._jstype=e.$jsType}getJsType(){return this._jstype}};s(Dg,"Returndef");var Ag=Dg,Ig=class Ig{constructor(e,n,r){let a=e.functionName;this._name=a,this._endpoint=n+a+r;let o=e.params;this._maxArgs=e.maxArgs,this._paramdefs=o!==null?new Map(o.map(yR)):new Map,this._paramsKind=e.paramsKind;let l=e.sessionParam;this._sessionParam=l!==null?new Pl(l):null;let u=e.return;this._returndef=u!==null?new Ag(u):null,this._returnKind=e.returnKind,this._outputMode=e.$jsOutputMode}name(){return this._name}endpoint(){return this._endpoint}maxArgs(){return this._maxArgs}paramdefs(){return this._paramdefs}paramsKind(){return this._paramsKind}sessionParam(){return this._sessionParam}returndef(){return this._returndef}returnKind(){return this._returnKind}outputMode(){return this._outputMode}};s(Ig,"Functiondef");var Sg=Ig,Bg=class Bg{constructor(e,n){if(e==null)throw new Error("no database client provided");if(n==null)throw new Error("no service declaration provided");let r=e.getConnectionParams().database;if(r!=null)throw new Error("connection for client cannot specify database");this._client=e;let a=n.endpointDirectory;if(!(typeof a=="string"||a instanceof String))throw new Error("service declaration must specify endpoint directory");this._endpointDirectory=a.endsWith("/")?a:a+"/";let o=n.endpointExtension;typeof o=="string"||o instanceof String?this._moduleExtension=a.length===0?null:o.startsWith(".")?o:"."+o:this._moduleExtension=null,this._functiondefs=new Map}withFunction(e,n){let r=this._moduleExtension,a=new Sg(e,this._endpointDirectory,r!==null?r:n);return this._functiondefs.set(a.name(),a),this}createSession(){return new cS}execute(e,n,r){if(!(typeof e=="string"||e instanceof String))throw new Error("call without function name");let a=this._functiondefs.get(e);if(a===void 0)throw new Error("no function definition for function: "+e);if(n==null)n={};else if(typeof n!="object")throw new Error("call without arguments object: "+n);if(r>a.maxArgs())throw new Error("call with more arguments than parameters: "+r);switch(a.paramsKind()){case"empty":return uR(this._client,a,n);case"multiAtomic":return pR(this._client,a,n);case"multiNode":return fR(this._client,a,n);default:throw new Error("unknown kind of parameter list for function: "+e)}}};s(Bg,"EndpointProxy");var kg=Bg,jg=class jg{constructor(e,n,r){if(e==null)throw new Error("no database client provided");if(n==null)throw new Error("no service declaration provided");if(!(typeof n.endpointExtension=="string"||n.endpointExtension instanceof String))throw new Error("serviceDeclaration.endpointExtension must be a String");if(r===null||!Array.isArray(r)||r.length===0)throw new Error("endpointDeclarations needs to be a non-empty array.");this.$mlProxy=r.reduce((a,o)=>(_g(o),a.withFunction(o,n.endpointExtension)),e.createProxy(n))}call(e,n){return this.$mlProxy.execute(e,n,0)}};s(jg,"ServiceCaller");var Eg=jg,Lg=class Lg{constructor(e,n){if(e==null)throw new Error("no database client provided");if(n==null)throw new Error("endpointDeclaration cannot be null.");let r=n.endpoint;if(!(typeof r=="string"||r instanceof String)||r.length===0)throw new Error("endpointDeclaration endpoint needs to be a non empty string.");let a=/^(.*[/])([^/]+)(\.[^/.]+)$/,o=r.match(a);if(!Array.isArray(o)||o.length!==4)throw new Error("endpointDeclaration endpoint must contain endpointDirectory, functionName and extension.");let l=o[1],u=o[2],f=o[3];if(!(typeof l=="string"||l instanceof String)||l.length===0)throw new Error("endpointDirectory needs to be a non empty string");if(!(typeof u=="string"||u instanceof String)||u.length===0)throw new Error("endpointFunctionName needs to be a non empty string");if(!(typeof f=="string"||f instanceof String)||f.length===0)throw new Error("endpointExtension needs to be a non empty string");this.functionName=u;let d={endpointDirectory:l,endpointExtension:f},g=Jt.copyProperties(n);g.functionName=u,_g(g),this.$mlProxy=e.createProxy(d).withFunction(g,f)}call(e){return this.$mlProxy.execute(this.functionName,e,0)}};s(Lg,"EndpointCaller");var Tg=Lg;function bR(t,e){return new kg(t,e)}s(bR,"makeEndpointProxy");function AR(t,e,n){return new Eg(t,e,n)}s(AR,"initService");function SR(t,e){return new Tg(t,e)}s(SR,"initEndpoint");hS.exports={init:bR,expandEndpointDeclaration:xR,initService:AR,initEndpoint:SR}});var zg=D((Xj,AS)=>{"use strict";var vS=require("http"),wS=require("https"),qt=Oe(),Mg=sh(),Gn=bx(),kR=qx(),ER=Ix(),TR=jx(),qR=Fx(),NR=Gx(),PR=Vx(),OR=Yx(),CR=tb(),_R=sb(),Fg=WA(),xS=Hr(),RR=JA(),XR=eS(),DR=_d(),IR=nS(),BR=st(),jR=et(),LR=aS(),$g=yS(),MR=require("dns");function wn(t,e,n){if(!(this instanceof wn))return new wn(t,e,n);this.extlibs=t,this.name=e,this.dir=n}s(wn,"ExtlibsWrapper");wn.prototype.list=s(function(){return this.extlibs.list.call(this.extlibs,this.dir)},"listExtlibsWrapper");wn.prototype.read=s(function(){return this.extlibs.read.apply(this.extlibs,Ug.call(this,"reading",qt.asArray.apply(null,arguments)))},"readExtlibsWrapper");wn.prototype.remove=s(function(){return this.extlibs.remove.apply(this.extlibs,Ug.call(this,"removing",qt.asArray.apply(null,arguments)))},"removeExtlibsWrapper");wn.prototype.write=s(function(){var e=Ug.call(this,"writing",qt.asArray.apply(null,arguments)),n=e[0],r=qt.extension(n);if(r===null)throw new Error(n+" module for "+this.name+" library must have an extension of .mjs, .sjs, or .xqy");switch(r){case"sjs":e[0]="application/javascript";break;case"mjs":e[0]="application/vnd.marklogic-js-module";break;case"xqy":e[0]="application/xquery";break;default:throw new Error(n+" module for "+this.name+" library does not have an .mjs, .sjs, or .xqy extension")}return e.unshift(n),this.extlibs.write.apply(this.extlibs,e)},"writeExtlibsWrapper");function Ug(t,e){var n=e.length>0?e[0]:null;if(typeof n!="string"&&!(n instanceof String))throw new Error("no module name for "+t+" "+this.name+" library");return e[0]=this.dir+n,e}s(Ug,"expandExtlibsWrapper");function qe(t){if(!(this instanceof qe))return new qe(t);if(t==null)throw new Error("no connection parameters");FR(this,t),this.documents=Gn.create(this),this.rows=new ER(this),this.transactions=new PR(this),this.graphs=new kR(this),this.resources=new _R(this),this.values=new TR(this);var e=new qR(this);this.config={extlibs:e,patch:{replace:new wn(e,"patch replace","/marklogic/patch/apply/")},query:{custom:new wn(e,"custom query","/marklogic/query/custom/"),snippet:new wn(e,"query snippet","/marklogic/snippet/custom/")},resources:new CR(this),serverprops:new NR(this),transforms:new OR(this)},this.logger=null}s(qe,"MarkLogicClient");qe.prototype.getConnectionParams=s(function(){if(this.connectionParams===null)throw new Error("Connection has been closed.");return this.connectionParams},"getConnectionParams");qe.prototype.checkConnection=s(function(){let e=qt.newRequestOptions(this.connectionParams,"/v1/ping","HEAD");var n=new BR("test operation",this,e,"empty","empty");return n.statusCodeValidator=s(function(a,o){return a>=300&&(this.responseStatusMessage=o.statusMessage),null},"testStatusCodes"),n.outputTransform=s(function(){var a=null;return this.responseStatusCode<300?a={connected:!0}:a={connected:!1,httpStatusCode:this.responseStatusCode,httpStatusMessage:this.responseStatusMessage},a},"addOutputTransform"),jR.startRequest(n)},"checkConnection");qe.prototype["Eval".toLowerCase()]=Fg.serverJavaScriptEval;qe.prototype.xqueryEval=Fg.serverXQueryEval;qe.prototype.invoke=Fg.serverInvoke;qe.prototype.createCollection=s(function(){var e=arguments.length;if(e<2)throw new Error("must specify both a collection and content objects for document create");var n=arguments[0];if(typeof n!="string"&&!(n instanceof String))throw new Error("must specify at least one collection for document create");var r=arguments[1],a=0;Array.isArray(r)||(a=1,r=arguments);for(var o=[];a<r.length;a++)o.push({collections:n,contentType:"application/json",directory:"/",extension:".json",content:r[a]});return Gn.writeImpl.call(this.documents,!0,o)},"createCollection");qe.prototype.probe=s(function(){return Gn.probeImpl.call(this.documents,!0,qt.asArray.apply(null,arguments))},"probeClient");qe.prototype.queryCollection=s(function(e,n){if(typeof e!="string"&&!(e instanceof String))throw new Error("must specify at least one collection for quick document queries");return n==null&&(n=xS.builder.where()),Gn.queryImpl.call(this.documents,e,!0,n)},"queryClient");qe.prototype.read=s(function(){return Gn.readImpl.call(this.documents,!0,qt.asArray.apply(null,arguments))},"readClient");qe.prototype.remove=s(function(){return Gn.removeImpl.call(this.documents,!0,qt.asArray.apply(null,arguments))},"removeClient");qe.prototype.removeCollection=s(function(e){if(typeof e!="string"&&!(e instanceof String))throw new Error("must specify at least one collection for quick document remove");return Gn.removeCollectionImpl.call(this.documents,!0,{collection:e})},"removeCollectionClient");qe.prototype.writeCollection=s(function(){var e=arguments.length;if(e<2)throw new Error("must specify both a collection and mapping object for quick document write");var n=arguments[0];if(typeof n!="string"&&!(n instanceof String))throw new Error("must specify at least one collection for quick document write");var r=arguments[1],a=Object.keys(r);if(a.length===0)throw new Error("must map at least one document uri to content for quick document write");for(var o=[],l=null,u=0;u<a.length;u++)l=a[u],o.push({uri:l,collections:n,content:r[l]});return Gn.writeImpl.call(this.documents,!0,o)},"writeClient");qe.prototype.release=s(function(){bS(this)},"releaseMarkLogicClient");qe.prototype.setLogger=s(function(){var e=arguments.length;if(e<1)throw new Error("must provide a logger as the first argument");var n=arguments[0];if(typeof n=="string"||n instanceof String){var r=e===1?this.getLogger():null;if(r instanceof Mg.ConsoleLogger)r.setLevel(n);else throw new Error("first argument is not a logger")}else this.logger=new Mg.DelegatingLogger(n),e>1&&typeof arguments[1]=="boolean"&&(this.logger.isErrorFirst=arguments[1])},"setClientLogger");qe.prototype.getLogger=s(function(){var e=this.logger;return e==null&&(e=new Mg.ConsoleLogger,this.logger=e),e},"getClientLogger");qe.prototype.createTimestamp=s(function(e){return new qt.Timestamp(e||null)},"databaseCreateTimestamp");qe.prototype.setAuthToken=s(function(){if(arguments.length<1)throw new Error("must provide a token as the first argument");let n=arguments[0],r=this.connectionParams;if(r.authType.toUpperCase()!=="SAML")throw new Error("assigning new token only supported for SAML client");if(typeof n!="string"&&!(n instanceof String))throw new Error("token assigned to SAML client must be string");r.auth="SAML token="+n},"setAuthToken");qe.prototype.createProxy=s(function(e){return $g.init(this,e)},"createProxy");qe.prototype.serviceCaller=s(function(e,n){return $g.initService(this,e,n)},"serviceCaller");qe.prototype.endpointCaller=s(function(e){return $g.initEndpoint(this,e)},"endpointCaller");function FR(t,e){var n={},r=e.ssl==null?!1:e.ssl;e.authType&&e.authType.toString().toLowerCase()==="cloud"&&!r&&(r=!0);var a=["host","port","database","user","password","authType","token","basePath","apiKey","accessTokenDuration","enableGzippedResponses","oauthToken"];r&&a.push("ca","cert","ciphers","clientCertEngine","crl","dhparam","ecdhCurve","honorCipherOrder","key","passphrase","pfx","rejectUnauthorized","secureOptions","secureProtocol","servername","sessionIdContext","highWaterMark");for(var o=0;o<a.length;o++){var l=a[o],u=e[l];u!=null?n[l]=u:l==="host"?n.host="localhost":l==="port"?n.port=8e3:l==="authType"&&(n.authType="DIGEST")}n.lookup=UR;let f=n.authType.toUpperCase();if((f==="DIGEST"||f==="BASIC")&&(n.user==null||n.password==null))throw new Error("cannot create client without user or password for "+n.host+" host and "+n.port+" port with authType "+f);if(t.connectionParams=n,f==="SAML"){let v=n.token;if(typeof v!="string"&&!(v instanceof String))throw new Error("cannot create SAML client without valid token string for "+n.host+" host and "+n.port+" port");n.auth="SAML token="+v}else if(f==="CLOUD"){if(!n.apiKey)throw new Error("apiKey needed for MarkLogic cloud authentication.");n.port=443}else{if(f==="OAUTH"&&!n.oauthToken)throw new Error("oauthToken required for OAuth authentication. ");f!=="DIGEST"&&f!=="CERTIFICATE"&&(n.auth=n.user+":"+n.password)}var d=e.agent==null,g=d?{keepAlive:!0}:null;r?(t.request=wS.request,d?(qt.copyProperties(e,g,["keepAliveMsecs","maxCachedSessions","maxFreeSockets","maxSockets","maxTotalSockets","scheduling","timeout"]),n.agent=new wS.Agent(g)):n.agent=e.agent):(t.request=vS.request,d?(qt.copyProperties(e,g,["keepAliveMsecs","maxFreeSockets","maxSockets","maxTotalSockets","scheduling","timeout"]),n.agent=new vS.Agent(g)):n.agent=e.agent),t.internal=new LR.InternalClass(t)}s(FR,"initClient");function bS(t){var e=t.connectionParams.agent;e!=null&&(e.destroy(),t.connectionParams=null)}s(bS,"releaseClient");function $R(t){if(t!=="array"&&t!=="legacy")throw new Error('can only set slice mode to "array" or "legacy", not'+t);qt.setSliceMode(t)}s($R,"setSliceMode");function UR(t,e,n){let r=!1;e instanceof Function?n=e:e instanceof Object&&e.all===!0&&(r=!0);let a=r?n:(o,l)=>{if(o)n.call(null,o);else{let u=null;for(let f=0;f<l.length;f++){let d=l[f];if(d.family===4){u=d;break}}u===null&&(u=l[0]),n.call(null,null,u.address,u.family)}};MR.lookup(t,{all:!0,verbatim:!1},a)}s(UR,"prefLookup");AS.exports={createDatabaseClient:qe,queryBuilder:xS.builder,ctsQueryBuilder:IR.builder,patchBuilder:RR,valuesBuilder:XR.builder,planBuilder:DR.builder,setSliceMode:$R,releaseClient:bS}});var wi=D((Ij,SS)=>{"use strict";var Qg={},zR=s(t=>{Qg.lodash=t.require("lodash"),Qg.async=t.require("async")},"setDependencies");SS.exports={setDependencies:zR,dependencies:Qg}});var ES=D((jj,kS)=>{"use strict";var Gg,{dependencies:QR}=wi(),GR=s(({lodash:t})=>Gg=t,"setDependencies"),Wn="../snippets/",WR={box:require(Wn+"geoSpatial-box.json"),circle:require(Wn+"geoSpatial-circle.json"),linestring:require(Wn+"geoSpatial-linestring.json"),multilinestring:require(Wn+"geoSpatial-multilinestring.json"),multipoint:require(Wn+"geoSpatial-multipoint.json"),multipolygon:require(Wn+"geoSpatial-multipolygon.json"),point:require(Wn+"geoSpatial-point.json"),polygon:require(Wn+"geoSpatial-polygon.json")};kS.exports={getSchemaTemplate(t){return{$schema:"http://json-schema.org/draft-04/schema#",type:"object",additionalProperties:!1,properties:{}}},getSchema(t,e){GR(QR);let n={...this.getSchemaTemplate(),...this.getType(t)};return e&&(n.parentCollection=e),n},getObjectSchema(t){let e=Object.entries(t).reduce((r,[a,o])=>(r[a]=this.getType(o),r),{}),n=this.getSnippetType(t);if(n){let r=WR[n.subType];if(r){let a=this.getSchemaFromSnippet(r);return{type:n.childType,subType:n.subType,properties:{...e,...a}}}}return{type:"object",properties:e}},getArraySchema(t){if(t.length===0)return{type:"array"};let e=t.map(r=>this.getType(r)),n=Gg.uniqWith(e,Gg.isEqual);return n.length===1?{type:"array",items:n[0]}:{type:"array",items:e}},getSnippetType(t){let e=["box","circle","linestring","multilinestring","multipoint","multipolygon","point","polygon"];return typeof t.type=="string"&&e.includes(t.type.toLowerCase())&&Array.isArray(t.coordinates)?{childType:"geoSpatial",subType:t.type}:null},getType(t){switch(this.getValueType(t)){case"scalar":return{};case"array":return this.getArraySchema(t);case"object":return this.getObjectSchema(t);default:return{}}},getValueType(t){return Array.isArray(t)?"array":typeof t=="object"&&t!==null?"object":"scalar"},getSchemaFromSnippet(t){let e=t.type==="array"||t.parentType==="array",n=e?[]:{};for(let r in t.properties){let a=t.properties[r],o={type:a.type};if(a.properties){let l=this.getSchemaFromSnippet(a);o.type==="array"?o.items=l:o.properties=l}a.sample&&(o.sample=a.sample),e?n.push(o):n[a.name]=o}return n}}});var qS=D((Mj,TS)=>{"use strict";var KR=s(t=>{let e='import module namespace admin = "http://marklogic.com/xdmp/admin" at "/MarkLogic/admin.xqy";',n="let $config := admin:get-configuration()";return[{keyword:"securityDB",query:`${e} ${n} let $schemaDBId := admin:database-get-security-database($config, xdmp:database("${t}")) return admin:database-get-name($config, $schemaDBId)`},{keyword:"schemaDB",query:`${e} ${n} let $schemaDBId := admin:database-get-schema-database($config, xdmp:database("${t}")) return admin:database-get-name($config, $schemaDBId)`},{keyword:"triggersDB",query:`${e} ${n} let $schemaDBId := admin:database-get-triggers-database($config, xdmp:database("${t}")) return admin:database-get-name($config, $schemaDBId)`},{keyword:"dataEncryption",query:`${e} ${n} return admin:database-get-data-encryption($config, xdmp:database("${t}"))`},{keyword:"language",query:`${e} ${n} return admin:database-get-language($config, xdmp:database("${t}"))`},{keyword:"stemmedSearches",query:`${e} ${n} return admin:database-get-stemmed-searches($config, xdmp:database("${t}"))`},{keyword:"wordSearches",query:`${e} ${n} return admin:database-get-word-searches($config, xdmp:database("${t}"))`},{keyword:"wordPositions",query:`${e} ${n} return admin:database-get-word-positions($config, xdmp:database("${t}"))`},{keyword:"fastPhraseSearches",query:`${e} ${n} return admin:database-get-fast-phrase-searches($config, xdmp:database("${t}"))`},{keyword:"fastReverseSearches",query:`${e} ${n} return admin:database-get-fast-reverse-searches($config, xdmp:database("${t}"))`},{keyword:"tripleIndex",query:`${e} ${n} return admin:database-get-triple-index($config, xdmp:database("${t}"))`},{keyword:"triplePositions",query:`${e} ${n} return admin:database-get-triple-positions($config, xdmp:database("${t}"))`},{keyword:"fastCaseSensitiveSearches",query:`${e} ${n} return admin:database-get-fast-case-sensitive-searches($config, xdmp:database("${t}"))`},{keyword:"fastdiacriticSensitiveSearches",query:`${e} ${n} return admin:database-get-fast-diacritic-sensitive-searches($config, xdmp:database("${t}"))`},{keyword:"fastElementWordSearches",query:`${e} ${n} return admin:database-get-fast-element-word-searches($config, xdmp:database("${t}"))`},{keyword:"elementWordPositions",query:`${e} ${n} return admin:database-get-element-word-positions($config, xdmp:database("${t}"))`},{keyword:"fastElementPhraseSearches",query:`${e} ${n} return admin:database-get-fast-element-phrase-searches($config, xdmp:database("${t}"))`},{keyword:"elementValuePositions",query:`${e} ${n} return admin:database-get-element-value-positions($config, xdmp:database("${t}"))`},{keyword:"attributeValuePositions",query:`${e} ${n} return admin:database-get-attribute-value-positions($config, xdmp:database("${t}"))`},{keyword:"threeCharacterSearches",query:`${e} ${n} return admin:database-get-three-character-searches($config, xdmp:database("${t}"))`},{keyword:"threeCharacterWordPositions",query:`${e} ${n} return admin:database-get-three-character-word-positions($config, xdmp:database("${t}"))`},{keyword:"fastElementCharacterSearches",query:`${e} ${n} return admin:database-get-fast-element-character-searches($config, xdmp:database("${t}"))`},{keyword:"trailingWildcardSearches",query:`${e} ${n} return admin:database-get-trailing-wildcard-searches($config, xdmp:database("${t}"))`},{keyword:"trailingWildcardWordPositions",query:`${e} ${n} return admin:database-get-trailing-wildcard-word-positions($config, xdmp:database("${t}"))`},{keyword:"fastElementTrailingWildcardSearches",query:`${e} ${n} return admin:database-get-fast-element-trailing-wildcard-searches($config, xdmp:database("${t}"))`},{keyword:"twoCharacterSearches",query:`${e} ${n} return admin:database-get-two-character-searches($config, xdmp:database("${t}"))`},{keyword:"oneCharacterSearches",query:`${e} ${n} return admin:database-get-one-character-searches($config, xdmp:database("${t}"))`},{keyword:"uriLexicon",query:`${e} ${n} return admin:database-get-uri-lexicon($config, xdmp:database("${t}"))`},{keyword:"collectionLexicon",query:`${e} ${n} return admin:database-get-collection-lexicon($config, xdmp:database("${t}"))`},{keyword:"reindexerEnable",query:`${e} ${n} return admin:database-get-reindexer-enable($config, xdmp:database("${t}"))`},{keyword:"reindexerThrottle",query:`${e} ${n} return admin:database-get-reindexer-throttle($config, xdmp:database("${t}"))`},{keyword:"reindexerTimestamp",query:`${e} ${n} return admin:database-get-reindexer-timestamp($config, xdmp:database("${t}"))`},{keyword:"directoryCreation",query:`${e} ${n} return admin:database-get-directory-creation($config, xdmp:database("${t}"))`},{keyword:"maintainLastModified",query:`${e} ${n} return admin:database-get-maintain-last-modified($config, xdmp:database("${t}"))`},{keyword:"maintainDirectoryLastModified",query:`${e} ${n} return admin:database-get-maintain-directory-last-modified($config, xdmp:database("${t}"))`},{keyword:"inheritPermissions",query:`${e} ${n} return admin:database-get-inherit-permissions($config, xdmp:database("${t}"))`},{keyword:"inheritCollections",query:`${e} ${n} return admin:database-get-inherit-collections($config, xdmp:database("${t}"))`},{keyword:"inheritQuality",query:`${e} ${n} return admin:database-get-inherit-quality($config, xdmp:database("${t}"))`},{keyword:"inMemoryLimit",query:`${e} ${n} return admin:database-get-in-memory-limit($config, xdmp:database("${t}"))`},{keyword:"inMemoryListSize",query:`${e} ${n} return admin:database-get-in-memory-list-size($config, xdmp:database("${t}"))`},{keyword:"inMemoryTreeSize",query:`${e} ${n} return admin:database-get-in-memory-tree-size($config, xdmp:database("${t}"))`},{keyword:"inMemoryRangeIndexSize",query:`${e} ${n} return admin:database-get-in-memory-range-index-size($config, xdmp:database("${t}"))`},{keyword:"inMemoryReverseIndexSize",query:`${e} ${n} return admin:database-get-in-memory-reverse-index-size($config, xdmp:database("${t}"))`},{keyword:"inMemoryTripleIndexSize",query:`${e} ${n} return admin:database-get-in-memory-triple-index-size($config, xdmp:database("${t}"))`},{keyword:"inMemoryGeospatialRegionIndexSize",query:`${e} ${n} return admin:database-get-in-memory-geospatial-region-index-size($config, xdmp:database("${t}"))`},{keyword:"largeSizeThreshold",query:`${e} ${n} return admin:database-get-large-size-threshold($config, xdmp:database("${t}"))`},{keyword:"locking",query:`${e} ${n} return admin:database-get-locking($config, xdmp:database("${t}"))`},{keyword:"journaling",query:`${e} ${n} return admin:database-get-journaling($config, xdmp:database("${t}"))`},{keyword:"journalSize",query:`${e} ${n} return admin:database-get-journal-size($config, xdmp:database("${t}"))`},{keyword:"preallocateJournals",query:`${e} ${n} return admin:database-get-preallocate-journals($config, xdmp:database("${t}"))`},{keyword:"preloadMappedData",query:`${e} ${n} return admin:database-get-preload-mapped-data($config, xdmp:database("${t}"))`},{keyword:"preloadReplicaMappedData",query:`${e} ${n} return admin:database-get-preload-replica-mapped-data($config, xdmp:database("${t}"))`},{keyword:"rangeIndexOptimize",query:`${e} ${n} return admin:database-get-range-index-optimize($config, xdmp:database("${t}"))`},{keyword:"positionsListMaxSize",query:`${e} ${n} return admin:database-get-positions-list-max-size($config, xdmp:database("${t}"))`},{keyword:"formatCompatibility",query:`${e} ${n} return admin:database-get-format-compatibility($config, xdmp:database("${t}"))`},{keyword:"indexDetection",query:`${e} ${n} return admin:database-get-index-detection($config, xdmp:database("${t}"))`},{keyword:"expungeLocks",query:`${e} ${n} return admin:database-get-expunge-locks($config, xdmp:database("${t}"))`},{keyword:"tfNormalization",query:`${e} ${n} return admin:database-get-tf-normalization($config, xdmp:database("${t}"))`},{keyword:"rebalancerEnable",query:`${e} ${n} return admin:database-get-rebalancer-enable($config, xdmp:database("${t}"))`},{keyword:"rebalancerThrottle",query:`${e} ${n} return admin:database-get-rebalancer-throttle($config, xdmp:database("${t}"))`},{keyword:"assignmentPolicy",query:`${e} ${n} return admin:database-get-assignment-policy($config, xdmp:database("${t}"))`}]},"getDBPropertiesConfig");TS.exports={getDBPropertiesConfig:KR}});var jS=D(($j,BS)=>{"use strict";var PS=zg(),xn=PS.queryBuilder,Wg=require("fs"),VR=ES(),xi,{dependencies:Ol}=wi(),{getDBPropertiesConfig:HR}=qS(),JR="collections",OS="directories",CS=null,_S=null,NS={},RS=s(({lodash:t})=>xi=t,"setDependencies"),YR=s(({connectionInfo:t=null,database:e=null})=>{if(t){let n={};t.is_ssl&&(n={ssl:!0,...d2(t)}),NS={host:t.host,port:t.port,user:t.username,password:t.password,...n}}return PS.createDatabaseClient({...NS,...e&&{database:e}})},"getDBClient"),ZR=s(t=>{t&&t.release()},"releaseDBClient"),e2=s(async(t,e)=>{let n=["Security","App-Services","Schemas","Last-Login","Fab","Triggers","Meters","Modules","Extensions"];e.log("info","","Getting db list started");let a=await t.xqueryEval("xdmp:database-name(xdmp:databases())").result(),l=(Array.isArray(a)?a.map(({value:u})=>u):[]).filter(u=>!n.includes(u));return e.log("info",{dbList:l},"Getting db list finished"),l},"getDbList"),t2=s(async({dbClient:t,logger:e,minDocumentsPerCollection:n,collections:r,collectionsMatcher:a})=>{e.log("info","",`Getting "${t.connectionParams.database}" collections list started`);let o=1e3,l=s((b=1e3,S=null)=>{let E=`cts:collections("", "limit=${b}")`;return S?`${E}[${S}]`:E},"getAllCollectionsXQueryLexiconReady"),u='fn:distinct-values(for $c in for $d in xdmp:directory("/", "infinity") return xdmp:document-get-collections(xdmp:node-uri($d)) return $c)',f=s((b,S=null)=>S?`fn:filter(function($a) { fn:number(fn:substring-after($a, ";")) >= ${b} }, cts:collections()[${S}]!(. || ";" || cts:count(., ${b})))`:`fn:filter(function($a) { fn:number(fn:substring-after($a, ";")) >= ${b} }, cts:collections()!(. || ";" || cts:count(., ${b})))`,"getAllCollectionsXQueryLexiconReadyFilterByMinDocuments"),d,g,v=r&&r.split(",").map(b=>b.trim()),w=Array.isArray(v)&&v.length>0;try{if(w)return await Ol.async.filterSeries(v,async S=>{let E=`xdmp:exists(collection("${S}"))`,q=await t.xqueryEval(E).result();return Ol.lodash.get(q,["0","value"],!1)});let b=parseInt(n);if(isNaN(b))d=await t.xqueryEval(l(o,a)).result();else{let S=await t.xqueryEval(f(b,a)).result();Array.isArray(S)&&(d=S.reduce((E,{value:q})=>{let[P,R]=q.split(";");return parseInt(R)>=b&&E.push({value:P}),E},[]))}}catch(b){e.log("error",b,"Getting collections list using collection lexicon"),d=await t.xqueryEval(u).result()}return g=Array.isArray(d)?d.map(({value:b})=>b):[],e.log("info",{collectionsNumber:g.length,collectionsList:g},`Getting "${t.connectionParams.database}" collections list finished`),g},"getDBCollections"),n2=s(async(t,e)=>{e.log("info","","Getting directories list");let n='fn:distinct-values(for $d in cts:uris() return fn:replace($d, "[^/]+$", ""))',r='fn:distinct-values(for $d in xdmp:directory("/", "infinity") return fn:replace(xdmp:node-uri($d), "[^/]+$", ""))',a;try{a=await t.xqueryEval(n).result()}catch(l){e.log("error",l,"Getting directories list using URI lexicon"),a=await t.xqueryEval(r).result()}let o=Array.isArray(a)?a.map(({value:l})=>l):[];return e.log("info",{directoriesNumber:o.length,directoriesList:o},`Getting "${t.connectionParams.database}" directories list finished`),o},"getDBDirectories"),r2=s(()=>_S,"getDocumentOrganizingType"),a2=s(async(t,e,n)=>{let r=await p2(t,n);return(await e.documents.query(xn.where(xn.collection(t)).withOptions({search:["format-json"]}).slice(0,r)).result()).map(({content:o})=>o)},"getCollectionDocuments"),i2=s(async(t,e,n)=>{let r;if(t.length>0)r=await e.documents.query(xn.where(xn.not(xn.collection(...t))).withOptions({search:["format-json"]}).slice(0,+n.absolute.value)).result();else{let a=await DS("/",n,!0);r=await e.documents.query(xn.where(xn.byExample({})).withOptions({search:["format-json"]}).slice(0,a)).result()}return r.map(({content:a})=>a)},"getUndefinedCollectionDocuments"),s2=s(async(t,e,n)=>{if(!t)return[];let r=await DS(t,n);return(await e.documents.query(xn.where(xn.directory(t)).withOptions({search:["format-json"]}).slice(0,r)).result()).map(({content:o})=>o)},"getDirectoryDocuments"),o2=s((t,e,n,r,a)=>(RS(Ol),t.map(o=>{let l="";e===OS&&(l=XS(o.collectionName,t));let u=o.documents.reduce((f,d)=>xi.merge(f,d),{});return{...o,bucketInfo:{...n,...r},validation:{jsonSchema:l2(u,l)},...a.active==="field"&&{documentTemplate:u}}})),"getEntityDataPackage"),l2=s((t,e)=>VR.getSchema(t,e),"getEntityJSONSchema"),XS=s((t,e)=>{if(t==="/")return null;let n=t.split("/").slice(0,-2),r=n.join("/")+"/";return n.length===1&&(r="/"),e.find(o=>o.collectionName===r)?r:XS(r,e)},"findParentDirectoryName"),c2=s(t=>{_S=t},"setDocumentsOrganizationType"),u2=s(async(t,e,n)=>{RS(Ol);let r=HR(e),a=s(l=>xi.get(l,"[0].value"),"defaultResponseMapper");return(await Promise.all(r.map(async l=>{let u;try{u=await t.xqueryEval(l.query).result()}catch(f){return n.log("error",f,"Retrieving DB property "+l.keyword),{keyword:l.keyword}}return{keyword:l.keyword,value:l.mapper?l.mapper(u):a(u)}}))).reduce((l,u)=>(l[u.keyword]=u.value,l),{})},"getDBProperties"),DS=s(async(t,e,n)=>{if(e.active==="absolute")return Number(e.absolute.value);{let r=await m2(t,n);return IS(r,e)}},"getDirectorySamplingCount"),p2=s(async(t,e)=>{if(e.active==="absolute")return Number(e.absolute.value);{let n=await f2(t);return IS(n,e)}},"getCollectionSamplingCount"),IS=s((t,e)=>{if(e.active==="absolute")return Number(e.absolute.value);let n=Math.ceil(t*e.relative.value/100);return Math.min(n,e.maxValue)},"getSampleDocSize"),f2=s(async t=>{let e=`xdmp:estimate(cts:search(doc(), cts:collection-query("${t}")))`,n=await CS.xqueryEval(e).result();return xi.get(n,"[0].value")},"getCollectionDocumentsCount"),m2=s(async(t,e=!1)=>{let n=e?`xdmp:estimate(cts:search(fn:doc(), cts:directory-query("${t}", "infinity")))`:`xdmp:estimate(cts:search(fn:doc(), cts:directory-query("${t}")))`,r=await CS.xqueryEval(n).result();return xi.get(r,"[0].value")},"getDirectoryDocumentsCount"),d2=s(t=>{let e={};return t.ca&&(e.ca=Wg.readFileSync(t.ca)),t.sslCert&&(e.cert=Wg.readFileSync(t.sslCert)),t.sslKey&&(e.key=Wg.readFileSync(t.sslKey)),e},"readCertificateFiles");BS.exports={DOCUMENTS_ORGANIZING_COLLECTIONS:JR,DOCUMENTS_ORGANIZING_DIRECTORIES:OS,getDBClient:YR,releaseDBClient:ZR,getDBCollections:t2,getDBDirectories:n2,getDocumentOrganizingType:r2,getCollectionDocuments:a2,getDirectoryDocuments:s2,getEntityDataPackage:o2,setDocumentsOrganizationType:c2,getDBProperties:u2,getUndefinedCollectionDocuments:i2,getDbList:e2}});var MS=D((zj,LS)=>{"use strict";var g2=s(t=>t instanceof Error?{message:t.message,stack:t.stack}:t,"prepareError");LS.exports={prepareError:g2}});var FS=D((Gj,h2)=>{h2.exports={name:"MarkLogic",version:"0.2.1",author:"hackolade",engines:{hackolade:"5.1.3",hackoladePlugin:"1.0.0"},contributes:{target:{applicationTarget:"MARKLOGIC",title:"MarkLogic",versions:["8.x","9.x","10.x","11.x","12.x"]},features:{jaySchemaHasRequiredPatternField:!0,nestedCollections:!0,enableReverseEngineering:{jsonDocument:!0,jsonSchema:!0,ddl:!0,xsd:!0,plugin:!0},enableForwardEngineering:{jsonDocument:!0,jsonSchema:!0,excel:!0,plugin:!0}}},description:"Hackolade plugin for MarkLogic",disabled:!1,dependencies:{lodash:"4.17.21",marklogic:"3.4.0","xml-js":"1.6.11"},"lint-staged":{"*.{js,json}":"prettier --write"},"simple-git-hooks":{"pre-commit":"npx lint-staged","pre-push":"npx eslint ."},scripts:{lint:"eslint . --max-warnings=0",package:"node esbuild.package.js"},devDependencies:{"@hackolade/hck-esbuild-plugins-pack":"0.0.1","@typescript-eslint/eslint-plugin":"7.11.0","@typescript-eslint/parser":"7.11.0",esbuild:"0.20.2","esbuild-plugin-clean":"1.0.1",eslint:"8.57.0","eslint-config-prettier":"9.1.0","eslint-formatter-teamcity":"^1.0.0","eslint-plugin-import":"^2.26.0","eslint-plugin-prettier":"5.1.3","eslint-plugin-unused-imports":"3.2.0","lint-staged":"14.0.1",prettier:"3.2.5","simple-git-hooks":"2.11.1"}}});var US=D((Kj,$S)=>{"use strict";var bn=require("os"),Wj=require("net"),y2=FS(),v2=s(()=>y2.version,"getPluginVersion"),w2=s(t=>`Date: ${new Date}
Application version: ${t}
Plugin version: ${v2()}

System information:
 Hostname:  ${bn.hostname()}
 Platform:  ${bn.platform()} ${bn.arch()}
 Release:   ${bn.release()}
 Uptime:    ${A2(bn.uptime())}
 Total RAM: ${(bn.totalmem()/1073741824).toFixed(2)} GB
 CPU Model: ${bn.cpus()[0].model}
 CPU Clock: ${x2(bn.cpus())} MHZ
 CPU Cores: ${bn.cpus().length} cores

`,"getSystemInfo"),x2=s(t=>t.reduce((e,n)=>Math.max(e,n.speed),0),"maxClock"),b2=s(t=>t<10?"0"+t:t,"prefixZero"),A2=s(t=>Math.floor(t/3600)+":"+b2(parseInt((t/3600-Math.floor(t/3600))*60)),"toTime"),S2={getSystemInfo:w2};$S.exports=S2});var zS=D(Cl=>{(function(t){t.parser=function(A,y){return new n(A,y)},t.SAXParser=n,t.SAXStream=d,t.createStream=f,t.MAX_BUFFER_LENGTH=64*1024;var e=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(A,y){if(!(this instanceof n))return new n(A,y);var L=this;a(L),L.q=L.c="",L.bufferCheckPosition=t.MAX_BUFFER_LENGTH,L.opt=y||{},L.opt.lowercase=L.opt.lowercase||L.opt.lowercasetags,L.looseCase=L.opt.lowercase?"toLowerCase":"toUpperCase",L.tags=[],L.closed=L.closedRoot=L.sawRoot=!1,L.tag=L.error=null,L.strict=!!A,L.noscript=!!(A||L.opt.noscript),L.state=k.BEGIN,L.strictEntities=L.opt.strictEntities,L.ENTITIES=L.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),L.attribList=[],L.opt.xmlns&&(L.ns=Object.create(S)),L.opt.unquotedAttributeValues===void 0&&(L.opt.unquotedAttributeValues=!A),L.trackPosition=L.opt.position!==!1,L.trackPosition&&(L.position=L.line=L.column=0),K(L,"onready")}s(n,"SAXParser"),Object.create||(Object.create=function(A){function y(){}s(y,"F"),y.prototype=A;var L=new y;return L}),Object.keys||(Object.keys=function(A){var y=[];for(var L in A)A.hasOwnProperty(L)&&y.push(L);return y});function r(A){for(var y=Math.max(t.MAX_BUFFER_LENGTH,10),L=0,_=0,le=e.length;_<le;_++){var Ee=A[e[_]].length;if(Ee>y)switch(e[_]){case"textNode":pe(A);break;case"cdata":H(A,"oncdata",A.cdata),A.cdata="";break;case"script":H(A,"onscript",A.script),A.script="";break;default:be(A,"Max buffer length exceeded: "+e[_])}L=Math.max(L,Ee)}var Pe=t.MAX_BUFFER_LENGTH-L;A.bufferCheckPosition=Pe+A.position}s(r,"checkBufferLength");function a(A){for(var y=0,L=e.length;y<L;y++)A[e[y]]=""}s(a,"clearBuffers");function o(A){pe(A),A.cdata!==""&&(H(A,"oncdata",A.cdata),A.cdata=""),A.script!==""&&(H(A,"onscript",A.script),A.script="")}s(o,"flushBuffers"),n.prototype={end:function(){Re(this)},write:Kn,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var l;try{l=require("stream").Stream}catch{l=s(function(){},"Stream")}l||(l=s(function(){},"Stream"));var u=t.EVENTS.filter(function(A){return A!=="error"&&A!=="end"});function f(A,y){return new d(A,y)}s(f,"createStream");function d(A,y){if(!(this instanceof d))return new d(A,y);l.apply(this),this._parser=new n(A,y),this.writable=!0,this.readable=!0;var L=this;this._parser.onend=function(){L.emit("end")},this._parser.onerror=function(_){L.emit("error",_),L._parser.error=null},this._decoder=null,u.forEach(function(_){Object.defineProperty(L,"on"+_,{get:function(){return L._parser["on"+_]},set:function(le){if(!le)return L.removeAllListeners(_),L._parser["on"+_]=le,le;L.on(_,le)},enumerable:!0,configurable:!1})})}s(d,"SAXStream"),d.prototype=Object.create(l.prototype,{constructor:{value:d}}),d.prototype.write=function(A){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(A)){if(!this._decoder){var y=require("string_decoder").StringDecoder;this._decoder=new y("utf8")}A=this._decoder.write(A)}return this._parser.write(A.toString()),this.emit("data",A),!0},d.prototype.end=function(A){return A&&A.length&&this.write(A),this._parser.end(),!0},d.prototype.on=function(A,y){var L=this;return!L._parser["on"+A]&&u.indexOf(A)!==-1&&(L._parser["on"+A]=function(){var _=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);_.splice(0,0,A),L.emit.apply(L,_)}),l.prototype.on.call(L,A,y)};var g="[CDATA[",v="DOCTYPE",w="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",S={xml:w,xmlns:b},E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,q=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,P=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,R=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function O(A){return A===" "||A===`
`||A==="\r"||A==="	"}s(O,"isWhitespace");function M(A){return A==='"'||A==="'"}s(M,"isQuote");function j(A){return A===">"||O(A)}s(j,"isAttribEnd");function U(A,y){return A.test(y)}s(U,"isMatch");function G(A,y){return!U(A,y)}s(G,"notMatch");var k=0;t.STATE={BEGIN:k++,BEGIN_WHITESPACE:k++,TEXT:k++,TEXT_ENTITY:k++,OPEN_WAKA:k++,SGML_DECL:k++,SGML_DECL_QUOTED:k++,DOCTYPE:k++,DOCTYPE_QUOTED:k++,DOCTYPE_DTD:k++,DOCTYPE_DTD_QUOTED:k++,COMMENT_STARTING:k++,COMMENT:k++,COMMENT_ENDING:k++,COMMENT_ENDED:k++,CDATA:k++,CDATA_ENDING:k++,CDATA_ENDING_2:k++,PROC_INST:k++,PROC_INST_BODY:k++,PROC_INST_ENDING:k++,OPEN_TAG:k++,OPEN_TAG_SLASH:k++,ATTRIB:k++,ATTRIB_NAME:k++,ATTRIB_NAME_SAW_WHITE:k++,ATTRIB_VALUE:k++,ATTRIB_VALUE_QUOTED:k++,ATTRIB_VALUE_CLOSED:k++,ATTRIB_VALUE_UNQUOTED:k++,ATTRIB_VALUE_ENTITY_Q:k++,ATTRIB_VALUE_ENTITY_U:k++,CLOSE_TAG:k++,CLOSE_TAG_SAW_WHITE:k++,SCRIPT:k++,SCRIPT_ENDING:k++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(A){var y=t.ENTITIES[A],L=typeof y=="number"?String.fromCharCode(y):y;t.ENTITIES[A]=L});for(var Y in t.STATE)t.STATE[t.STATE[Y]]=Y;k=t.STATE;function K(A,y,L){A[y]&&A[y](L)}s(K,"emit");function H(A,y,L){A.textNode&&pe(A),K(A,y,L)}s(H,"emitNode");function pe(A){A.textNode=ge(A.opt,A.textNode),A.textNode&&K(A,"ontext",A.textNode),A.textNode=""}s(pe,"closeText");function ge(A,y){return A.trim&&(y=y.trim()),A.normalize&&(y=y.replace(/\s+/g," ")),y}s(ge,"textopts");function be(A,y){return pe(A),A.trackPosition&&(y+=`
Line: `+A.line+`
Column: `+A.column+`
Char: `+A.c),y=new Error(y),A.error=y,K(A,"onerror",y),A}s(be,"error");function Re(A){return A.sawRoot&&!A.closedRoot&&J(A,"Unclosed root tag"),A.state!==k.BEGIN&&A.state!==k.BEGIN_WHITESPACE&&A.state!==k.TEXT&&be(A,"Unexpected end"),pe(A),A.c="",A.closed=!0,K(A,"onend"),n.call(A,A.strict,A.opt),A}s(Re,"end");function J(A,y){if(typeof A!="object"||!(A instanceof n))throw new Error("bad call to strictFail");A.strict&&be(A,y)}s(J,"strictFail");function Be(A){A.strict||(A.tagName=A.tagName[A.looseCase]());var y=A.tags[A.tags.length-1]||A,L=A.tag={name:A.tagName,attributes:{}};A.opt.xmlns&&(L.ns=y.ns),A.attribList.length=0,H(A,"onopentagstart",L)}s(Be,"newTag");function Ne(A,y){var L=A.indexOf(":"),_=L<0?["",A]:A.split(":"),le=_[0],Ee=_[1];return y&&A==="xmlns"&&(le="xmlns",Ee=""),{prefix:le,local:Ee}}s(Ne,"qname");function Ve(A){if(A.strict||(A.attribName=A.attribName[A.looseCase]()),A.attribList.indexOf(A.attribName)!==-1||A.tag.attributes.hasOwnProperty(A.attribName)){A.attribName=A.attribValue="";return}if(A.opt.xmlns){var y=Ne(A.attribName,!0),L=y.prefix,_=y.local;if(L==="xmlns")if(_==="xml"&&A.attribValue!==w)J(A,"xml: prefix must be bound to "+w+`
Actual: `+A.attribValue);else if(_==="xmlns"&&A.attribValue!==b)J(A,"xmlns: prefix must be bound to "+b+`
Actual: `+A.attribValue);else{var le=A.tag,Ee=A.tags[A.tags.length-1]||A;le.ns===Ee.ns&&(le.ns=Object.create(Ee.ns)),le.ns[_]=A.attribValue}A.attribList.push([A.attribName,A.attribValue])}else A.tag.attributes[A.attribName]=A.attribValue,H(A,"onattribute",{name:A.attribName,value:A.attribValue});A.attribName=A.attribValue=""}s(Ve,"attrib");function Ue(A,y){if(A.opt.xmlns){var L=A.tag,_=Ne(A.tagName);L.prefix=_.prefix,L.local=_.local,L.uri=L.ns[_.prefix]||"",L.prefix&&!L.uri&&(J(A,"Unbound namespace prefix: "+JSON.stringify(A.tagName)),L.uri=_.prefix);var le=A.tags[A.tags.length-1]||A;L.ns&&le.ns!==L.ns&&Object.keys(L.ns).forEach(function(Ai){H(A,"onopennamespace",{prefix:Ai,uri:L.ns[Ai]})});for(var Ee=0,Pe=A.attribList.length;Ee<Pe;Ee++){var Je=A.attribList[Ee],Ye=Je[0],An=Je[1],je=Ne(Ye,!0),Nt=je.prefix,Vn=je.local,fa=Nt===""?"":L.ns[Nt]||"",Er={name:Ye,value:An,prefix:Nt,local:Vn,uri:fa};Nt&&Nt!=="xmlns"&&!fa&&(J(A,"Unbound namespace prefix: "+JSON.stringify(Nt)),Er.uri=Nt),A.tag.attributes[Ye]=Er,H(A,"onattribute",Er)}A.attribList.length=0}A.tag.isSelfClosing=!!y,A.sawRoot=!0,A.tags.push(A.tag),H(A,"onopentag",A.tag),y||(!A.noscript&&A.tagName.toLowerCase()==="script"?A.state=k.SCRIPT:A.state=k.TEXT,A.tag=null,A.tagName=""),A.attribName=A.attribValue="",A.attribList.length=0}s(Ue,"openTag");function He(A){if(!A.tagName){J(A,"Weird empty close tag."),A.textNode+="</>",A.state=k.TEXT;return}if(A.script){if(A.tagName!=="script"){A.script+="</"+A.tagName+">",A.tagName="",A.state=k.SCRIPT;return}H(A,"onscript",A.script),A.script=""}var y=A.tags.length,L=A.tagName;A.strict||(L=L[A.looseCase]());for(var _=L;y--;){var le=A.tags[y];if(le.name!==_)J(A,"Unexpected close tag");else break}if(y<0){J(A,"Unmatched closing tag: "+A.tagName),A.textNode+="</"+A.tagName+">",A.state=k.TEXT;return}A.tagName=L;for(var Ee=A.tags.length;Ee-- >y;){var Pe=A.tag=A.tags.pop();A.tagName=A.tag.name,H(A,"onclosetag",A.tagName);var Je={};for(var Ye in Pe.ns)Je[Ye]=Pe.ns[Ye];var An=A.tags[A.tags.length-1]||A;A.opt.xmlns&&Pe.ns!==An.ns&&Object.keys(Pe.ns).forEach(function(je){var Nt=Pe.ns[je];H(A,"onclosenamespace",{prefix:je,uri:Nt})})}y===0&&(A.closedRoot=!0),A.tagName=A.attribValue=A.attribName="",A.attribList.length=0,A.state=k.TEXT}s(He,"closeTag");function Lt(A){var y=A.entity,L=y.toLowerCase(),_,le="";return A.ENTITIES[y]?A.ENTITIES[y]:A.ENTITIES[L]?A.ENTITIES[L]:(y=L,y.charAt(0)==="#"&&(y.charAt(1)==="x"?(y=y.slice(2),_=parseInt(y,16),le=_.toString(16)):(y=y.slice(1),_=parseInt(y,10),le=_.toString(10))),y=y.replace(/^0+/,""),isNaN(_)||le.toLowerCase()!==y?(J(A,"Invalid character entity"),"&"+A.entity+";"):String.fromCodePoint(_))}s(Lt,"parseEntity");function ft(A,y){y==="<"?(A.state=k.OPEN_WAKA,A.startTagPosition=A.position):O(y)||(J(A,"Non-whitespace before first tag."),A.textNode=y,A.state=k.TEXT)}s(ft,"beginWhiteSpace");function en(A,y){var L="";return y<A.length&&(L=A.charAt(y)),L}s(en,"charAt");function Kn(A){var y=this;if(this.error)throw this.error;if(y.closed)return be(y,"Cannot write after close. Assign an onready handler.");if(A===null)return Re(y);typeof A=="object"&&(A=A.toString());for(var L=0,_="";_=en(A,L++),y.c=_,!!_;)switch(y.trackPosition&&(y.position++,_===`
`?(y.line++,y.column=0):y.column++),y.state){case k.BEGIN:if(y.state=k.BEGIN_WHITESPACE,_==="\uFEFF")continue;ft(y,_);continue;case k.BEGIN_WHITESPACE:ft(y,_);continue;case k.TEXT:if(y.sawRoot&&!y.closedRoot){for(var le=L-1;_&&_!=="<"&&_!=="&";)_=en(A,L++),_&&y.trackPosition&&(y.position++,_===`
`?(y.line++,y.column=0):y.column++);y.textNode+=A.substring(le,L-1)}_==="<"&&!(y.sawRoot&&y.closedRoot&&!y.strict)?(y.state=k.OPEN_WAKA,y.startTagPosition=y.position):(!O(_)&&(!y.sawRoot||y.closedRoot)&&J(y,"Text data outside of root node."),_==="&"?y.state=k.TEXT_ENTITY:y.textNode+=_);continue;case k.SCRIPT:_==="<"?y.state=k.SCRIPT_ENDING:y.script+=_;continue;case k.SCRIPT_ENDING:_==="/"?y.state=k.CLOSE_TAG:(y.script+="<"+_,y.state=k.SCRIPT);continue;case k.OPEN_WAKA:if(_==="!")y.state=k.SGML_DECL,y.sgmlDecl="";else if(!O(_))if(U(E,_))y.state=k.OPEN_TAG,y.tagName=_;else if(_==="/")y.state=k.CLOSE_TAG,y.tagName="";else if(_==="?")y.state=k.PROC_INST,y.procInstName=y.procInstBody="";else{if(J(y,"Unencoded <"),y.startTagPosition+1<y.position){var Ee=y.position-y.startTagPosition;_=new Array(Ee).join(" ")+_}y.textNode+="<"+_,y.state=k.TEXT}continue;case k.SGML_DECL:if(y.sgmlDecl+_==="--"){y.state=k.COMMENT,y.comment="",y.sgmlDecl="";continue}y.doctype&&y.doctype!==!0&&y.sgmlDecl?(y.state=k.DOCTYPE_DTD,y.doctype+="<!"+y.sgmlDecl+_,y.sgmlDecl=""):(y.sgmlDecl+_).toUpperCase()===g?(H(y,"onopencdata"),y.state=k.CDATA,y.sgmlDecl="",y.cdata=""):(y.sgmlDecl+_).toUpperCase()===v?(y.state=k.DOCTYPE,(y.doctype||y.sawRoot)&&J(y,"Inappropriately located doctype declaration"),y.doctype="",y.sgmlDecl=""):_===">"?(H(y,"onsgmldeclaration",y.sgmlDecl),y.sgmlDecl="",y.state=k.TEXT):(M(_)&&(y.state=k.SGML_DECL_QUOTED),y.sgmlDecl+=_);continue;case k.SGML_DECL_QUOTED:_===y.q&&(y.state=k.SGML_DECL,y.q=""),y.sgmlDecl+=_;continue;case k.DOCTYPE:_===">"?(y.state=k.TEXT,H(y,"ondoctype",y.doctype),y.doctype=!0):(y.doctype+=_,_==="["?y.state=k.DOCTYPE_DTD:M(_)&&(y.state=k.DOCTYPE_QUOTED,y.q=_));continue;case k.DOCTYPE_QUOTED:y.doctype+=_,_===y.q&&(y.q="",y.state=k.DOCTYPE);continue;case k.DOCTYPE_DTD:_==="]"?(y.doctype+=_,y.state=k.DOCTYPE):_==="<"?(y.state=k.OPEN_WAKA,y.startTagPosition=y.position):M(_)?(y.doctype+=_,y.state=k.DOCTYPE_DTD_QUOTED,y.q=_):y.doctype+=_;continue;case k.DOCTYPE_DTD_QUOTED:y.doctype+=_,_===y.q&&(y.state=k.DOCTYPE_DTD,y.q="");continue;case k.COMMENT:_==="-"?y.state=k.COMMENT_ENDING:y.comment+=_;continue;case k.COMMENT_ENDING:_==="-"?(y.state=k.COMMENT_ENDED,y.comment=ge(y.opt,y.comment),y.comment&&H(y,"oncomment",y.comment),y.comment=""):(y.comment+="-"+_,y.state=k.COMMENT);continue;case k.COMMENT_ENDED:_!==">"?(J(y,"Malformed comment"),y.comment+="--"+_,y.state=k.COMMENT):y.doctype&&y.doctype!==!0?y.state=k.DOCTYPE_DTD:y.state=k.TEXT;continue;case k.CDATA:_==="]"?y.state=k.CDATA_ENDING:y.cdata+=_;continue;case k.CDATA_ENDING:_==="]"?y.state=k.CDATA_ENDING_2:(y.cdata+="]"+_,y.state=k.CDATA);continue;case k.CDATA_ENDING_2:_===">"?(y.cdata&&H(y,"oncdata",y.cdata),H(y,"onclosecdata"),y.cdata="",y.state=k.TEXT):_==="]"?y.cdata+="]":(y.cdata+="]]"+_,y.state=k.CDATA);continue;case k.PROC_INST:_==="?"?y.state=k.PROC_INST_ENDING:O(_)?y.state=k.PROC_INST_BODY:y.procInstName+=_;continue;case k.PROC_INST_BODY:if(!y.procInstBody&&O(_))continue;_==="?"?y.state=k.PROC_INST_ENDING:y.procInstBody+=_;continue;case k.PROC_INST_ENDING:_===">"?(H(y,"onprocessinginstruction",{name:y.procInstName,body:y.procInstBody}),y.procInstName=y.procInstBody="",y.state=k.TEXT):(y.procInstBody+="?"+_,y.state=k.PROC_INST_BODY);continue;case k.OPEN_TAG:U(q,_)?y.tagName+=_:(Be(y),_===">"?Ue(y):_==="/"?y.state=k.OPEN_TAG_SLASH:(O(_)||J(y,"Invalid character in tag name"),y.state=k.ATTRIB));continue;case k.OPEN_TAG_SLASH:_===">"?(Ue(y,!0),He(y)):(J(y,"Forward-slash in opening tag not followed by >"),y.state=k.ATTRIB);continue;case k.ATTRIB:if(O(_))continue;_===">"?Ue(y):_==="/"?y.state=k.OPEN_TAG_SLASH:U(E,_)?(y.attribName=_,y.attribValue="",y.state=k.ATTRIB_NAME):J(y,"Invalid attribute name");continue;case k.ATTRIB_NAME:_==="="?y.state=k.ATTRIB_VALUE:_===">"?(J(y,"Attribute without value"),y.attribValue=y.attribName,Ve(y),Ue(y)):O(_)?y.state=k.ATTRIB_NAME_SAW_WHITE:U(q,_)?y.attribName+=_:J(y,"Invalid attribute name");continue;case k.ATTRIB_NAME_SAW_WHITE:if(_==="=")y.state=k.ATTRIB_VALUE;else{if(O(_))continue;J(y,"Attribute without value"),y.tag.attributes[y.attribName]="",y.attribValue="",H(y,"onattribute",{name:y.attribName,value:""}),y.attribName="",_===">"?Ue(y):U(E,_)?(y.attribName=_,y.state=k.ATTRIB_NAME):(J(y,"Invalid attribute name"),y.state=k.ATTRIB)}continue;case k.ATTRIB_VALUE:if(O(_))continue;M(_)?(y.q=_,y.state=k.ATTRIB_VALUE_QUOTED):(y.opt.unquotedAttributeValues||be(y,"Unquoted attribute value"),y.state=k.ATTRIB_VALUE_UNQUOTED,y.attribValue=_);continue;case k.ATTRIB_VALUE_QUOTED:if(_!==y.q){_==="&"?y.state=k.ATTRIB_VALUE_ENTITY_Q:y.attribValue+=_;continue}Ve(y),y.q="",y.state=k.ATTRIB_VALUE_CLOSED;continue;case k.ATTRIB_VALUE_CLOSED:O(_)?y.state=k.ATTRIB:_===">"?Ue(y):_==="/"?y.state=k.OPEN_TAG_SLASH:U(E,_)?(J(y,"No whitespace between attributes"),y.attribName=_,y.attribValue="",y.state=k.ATTRIB_NAME):J(y,"Invalid attribute name");continue;case k.ATTRIB_VALUE_UNQUOTED:if(!j(_)){_==="&"?y.state=k.ATTRIB_VALUE_ENTITY_U:y.attribValue+=_;continue}Ve(y),_===">"?Ue(y):y.state=k.ATTRIB;continue;case k.CLOSE_TAG:if(y.tagName)_===">"?He(y):U(q,_)?y.tagName+=_:y.script?(y.script+="</"+y.tagName,y.tagName="",y.state=k.SCRIPT):(O(_)||J(y,"Invalid tagname in closing tag"),y.state=k.CLOSE_TAG_SAW_WHITE);else{if(O(_))continue;G(E,_)?y.script?(y.script+="</"+_,y.state=k.SCRIPT):J(y,"Invalid tagname in closing tag."):y.tagName=_}continue;case k.CLOSE_TAG_SAW_WHITE:if(O(_))continue;_===">"?He(y):J(y,"Invalid characters in closing tag");continue;case k.TEXT_ENTITY:case k.ATTRIB_VALUE_ENTITY_Q:case k.ATTRIB_VALUE_ENTITY_U:var Pe,Je;switch(y.state){case k.TEXT_ENTITY:Pe=k.TEXT,Je="textNode";break;case k.ATTRIB_VALUE_ENTITY_Q:Pe=k.ATTRIB_VALUE_QUOTED,Je="attribValue";break;case k.ATTRIB_VALUE_ENTITY_U:Pe=k.ATTRIB_VALUE_UNQUOTED,Je="attribValue";break}if(_===";"){var Ye=Lt(y);y.opt.unparsedEntities&&!Object.values(t.XML_ENTITIES).includes(Ye)?(y.entity="",y.state=Pe,y.write(Ye)):(y[Je]+=Ye,y.entity="",y.state=Pe)}else U(y.entity.length?R:P,_)?y.entity+=_:(J(y,"Invalid character in entity name"),y[Je]+="&"+y.entity+_,y.entity="",y.state=Pe);continue;default:throw new Error(y,"Unknown state: "+y.state)}return y.position>=y.bufferCheckPosition&&r(y),y}s(Kn,"write");String.fromCodePoint||function(){var A=String.fromCharCode,y=Math.floor,L=s(function(){var _=16384,le=[],Ee,Pe,Je=-1,Ye=arguments.length;if(!Ye)return"";for(var An="";++Je<Ye;){var je=Number(arguments[Je]);if(!isFinite(je)||je<0||je>1114111||y(je)!==je)throw RangeError("Invalid code point: "+je);je<=65535?le.push(je):(je-=65536,Ee=(je>>10)+55296,Pe=je%1024+56320,le.push(Ee,Pe)),(Je+1===Ye||le.length>_)&&(An+=A.apply(null,le),le.length=0)}return An},"fromCodePoint");Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:L,configurable:!0,writable:!0}):String.fromCodePoint=L}()})(typeof Cl>"u"?Cl.sax={}:Cl)});var _l=D((Yj,QS)=>{QS.exports={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}});var Rl=D((Zj,GS)=>{var k2=_l().isArray;GS.exports={copyOptions:function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},ensureFlagExists:function(t,e){(!(t in e)||typeof e[t]!="boolean")&&(e[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||typeof t.spaces!="number"&&typeof t.spaces!="string")&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||typeof t.alwaysArray!="boolean"&&!k2(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,e){(!(t+"Key"in e)||typeof e[t+"Key"]!="string")&&(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}}});var Vg=D((eL,ek)=>{var E2=zS(),T2={on:function(){},parse:function(){}},se=Rl(),pa=_l().isArray,I,Kg=!0,ne;function q2(t){return I=se.copyOptions(t),se.ensureFlagExists("ignoreDeclaration",I),se.ensureFlagExists("ignoreInstruction",I),se.ensureFlagExists("ignoreAttributes",I),se.ensureFlagExists("ignoreText",I),se.ensureFlagExists("ignoreComment",I),se.ensureFlagExists("ignoreCdata",I),se.ensureFlagExists("ignoreDoctype",I),se.ensureFlagExists("compact",I),se.ensureFlagExists("alwaysChildren",I),se.ensureFlagExists("addParent",I),se.ensureFlagExists("trim",I),se.ensureFlagExists("nativeType",I),se.ensureFlagExists("nativeTypeAttributes",I),se.ensureFlagExists("sanitize",I),se.ensureFlagExists("instructionHasAttributes",I),se.ensureFlagExists("captureSpacesBetweenElements",I),se.ensureAlwaysArrayExists(I),se.ensureKeyExists("declaration",I),se.ensureKeyExists("instruction",I),se.ensureKeyExists("attributes",I),se.ensureKeyExists("text",I),se.ensureKeyExists("comment",I),se.ensureKeyExists("cdata",I),se.ensureKeyExists("doctype",I),se.ensureKeyExists("type",I),se.ensureKeyExists("name",I),se.ensureKeyExists("elements",I),se.ensureKeyExists("parent",I),se.checkFnExists("doctype",I),se.checkFnExists("instruction",I),se.checkFnExists("cdata",I),se.checkFnExists("comment",I),se.checkFnExists("text",I),se.checkFnExists("instructionName",I),se.checkFnExists("elementName",I),se.checkFnExists("attributeName",I),se.checkFnExists("attributeValue",I),se.checkFnExists("attributes",I),I}s(q2,"validateOptions");function YS(t){var e=Number(t);if(!isNaN(e))return e;var n=t.toLowerCase();return n==="true"?!0:n==="false"?!1:t}s(YS,"nativeType");function bi(t,e){var n;if(I.compact){if(!ne[I[t+"Key"]]&&(pa(I.alwaysArray)?I.alwaysArray.indexOf(I[t+"Key"])!==-1:I.alwaysArray)&&(ne[I[t+"Key"]]=[]),ne[I[t+"Key"]]&&!pa(ne[I[t+"Key"]])&&(ne[I[t+"Key"]]=[ne[I[t+"Key"]]]),t+"Fn"in I&&typeof e=="string"&&(e=I[t+"Fn"](e,ne)),t==="instruction"&&("instructionFn"in I||"instructionNameFn"in I)){for(n in e)if(e.hasOwnProperty(n))if("instructionFn"in I)e[n]=I.instructionFn(e[n],n,ne);else{var r=e[n];delete e[n],e[I.instructionNameFn(n,r,ne)]=r}}pa(ne[I[t+"Key"]])?ne[I[t+"Key"]].push(e):ne[I[t+"Key"]]=e}else{ne[I.elementsKey]||(ne[I.elementsKey]=[]);var a={};if(a[I.typeKey]=t,t==="instruction"){for(n in e)if(e.hasOwnProperty(n))break;a[I.nameKey]="instructionNameFn"in I?I.instructionNameFn(n,e,ne):n,I.instructionHasAttributes?(a[I.attributesKey]=e[n][I.attributesKey],"instructionFn"in I&&(a[I.attributesKey]=I.instructionFn(a[I.attributesKey],n,ne))):("instructionFn"in I&&(e[n]=I.instructionFn(e[n],n,ne)),a[I.instructionKey]=e[n])}else t+"Fn"in I&&(e=I[t+"Fn"](e,ne)),a[I[t+"Key"]]=e;I.addParent&&(a[I.parentKey]=ne),ne[I.elementsKey].push(a)}}s(bi,"addField");function ZS(t){if("attributesFn"in I&&t&&(t=I.attributesFn(t,ne)),(I.trim||"attributeValueFn"in I||"attributeNameFn"in I||I.nativeTypeAttributes)&&t){var e;for(e in t)if(t.hasOwnProperty(e)&&(I.trim&&(t[e]=t[e].trim()),I.nativeTypeAttributes&&(t[e]=YS(t[e])),"attributeValueFn"in I&&(t[e]=I.attributeValueFn(t[e],e,ne)),"attributeNameFn"in I)){var n=t[e];delete t[e],t[I.attributeNameFn(e,t[e],ne)]=n}}return t}s(ZS,"manipulateAttributes");function N2(t){var e={};if(t.body&&(t.name.toLowerCase()==="xml"||I.instructionHasAttributes)){for(var n=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,r;(r=n.exec(t.body))!==null;)e[r[1]]=r[2]||r[3]||r[4];e=ZS(e)}if(t.name.toLowerCase()==="xml"){if(I.ignoreDeclaration)return;ne[I.declarationKey]={},Object.keys(e).length&&(ne[I.declarationKey][I.attributesKey]=e),I.addParent&&(ne[I.declarationKey][I.parentKey]=ne)}else{if(I.ignoreInstruction)return;I.trim&&(t.body=t.body.trim());var a={};I.instructionHasAttributes&&Object.keys(e).length?(a[t.name]={},a[t.name][I.attributesKey]=e):a[t.name]=t.body,bi("instruction",a)}}s(N2,"onInstruction");function WS(t,e){var n;if(typeof t=="object"&&(e=t.attributes,t=t.name),e=ZS(e),"elementNameFn"in I&&(t=I.elementNameFn(t,ne)),I.compact){if(n={},!I.ignoreAttributes&&e&&Object.keys(e).length){n[I.attributesKey]={};var r;for(r in e)e.hasOwnProperty(r)&&(n[I.attributesKey][r]=e[r])}!(t in ne)&&(pa(I.alwaysArray)?I.alwaysArray.indexOf(t)!==-1:I.alwaysArray)&&(ne[t]=[]),ne[t]&&!pa(ne[t])&&(ne[t]=[ne[t]]),pa(ne[t])?ne[t].push(n):ne[t]=n}else ne[I.elementsKey]||(ne[I.elementsKey]=[]),n={},n[I.typeKey]="element",n[I.nameKey]=t,!I.ignoreAttributes&&e&&Object.keys(e).length&&(n[I.attributesKey]=e),I.alwaysChildren&&(n[I.elementsKey]=[]),ne[I.elementsKey].push(n);n[I.parentKey]=ne,ne=n}s(WS,"onStartElement");function KS(t){I.ignoreText||!t.trim()&&!I.captureSpacesBetweenElements||(I.trim&&(t=t.trim()),I.nativeType&&(t=YS(t)),I.sanitize&&(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),bi("text",t))}s(KS,"onText");function VS(t){I.ignoreComment||(I.trim&&(t=t.trim()),bi("comment",t))}s(VS,"onComment");function HS(t){var e=ne[I.parentKey];I.addParent||delete ne[I.parentKey],ne=e}s(HS,"onEndElement");function P2(t){I.ignoreCdata||(I.trim&&(t=t.trim()),bi("cdata",t))}s(P2,"onCdata");function O2(t){I.ignoreDoctype||(t=t.replace(/^ /,""),I.trim&&(t=t.trim()),bi("doctype",t))}s(O2,"onDoctype");function JS(t){t.note=t}s(JS,"onError");ek.exports=function(t,e){var n=Kg?E2.parser(!0,{}):n=new T2.Parser("UTF-8"),r={};if(ne=r,I=q2(e),Kg?(n.opt={strictEntities:!0},n.onopentag=WS,n.ontext=KS,n.oncomment=VS,n.onclosetag=HS,n.onerror=JS,n.oncdata=P2,n.ondoctype=O2,n.onprocessinginstruction=N2):(n.on("startElement",WS),n.on("text",KS),n.on("comment",VS),n.on("endElement",HS),n.on("error",JS)),Kg)n.write(t).close();else if(!n.parse(t))throw new Error("XML parsing error: "+n.getError());if(r[I.elementsKey]){var a=r[I.elementsKey];delete r[I.elementsKey],r[I.elementsKey]=a,delete r.text}return r}});var rk=D((nL,nk)=>{var tk=Rl(),C2=Vg();function _2(t){var e=tk.copyOptions(t);return tk.ensureSpacesExists(e),e}s(_2,"validateOptions");nk.exports=function(t,e){var n,r,a,o;return n=_2(e),r=C2(t,n),o="compact"in n&&n.compact?"_parent":"parent","addParent"in n&&n.addParent?a=JSON.stringify(r,function(l,u){return l===o?"_":u},n.spaces):a=JSON.stringify(r,null,n.spaces),a.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}});var Jg=D((aL,fk)=>{var ue=Rl(),R2=_l().isArray,rt,at;function X2(t){var e=ue.copyOptions(t);return ue.ensureFlagExists("ignoreDeclaration",e),ue.ensureFlagExists("ignoreInstruction",e),ue.ensureFlagExists("ignoreAttributes",e),ue.ensureFlagExists("ignoreText",e),ue.ensureFlagExists("ignoreComment",e),ue.ensureFlagExists("ignoreCdata",e),ue.ensureFlagExists("ignoreDoctype",e),ue.ensureFlagExists("compact",e),ue.ensureFlagExists("indentText",e),ue.ensureFlagExists("indentCdata",e),ue.ensureFlagExists("indentAttributes",e),ue.ensureFlagExists("indentInstruction",e),ue.ensureFlagExists("fullTagEmptyElement",e),ue.ensureFlagExists("noQuotesForNativeAttributes",e),ue.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),ue.ensureKeyExists("declaration",e),ue.ensureKeyExists("instruction",e),ue.ensureKeyExists("attributes",e),ue.ensureKeyExists("text",e),ue.ensureKeyExists("comment",e),ue.ensureKeyExists("cdata",e),ue.ensureKeyExists("doctype",e),ue.ensureKeyExists("type",e),ue.ensureKeyExists("name",e),ue.ensureKeyExists("elements",e),ue.checkFnExists("doctype",e),ue.checkFnExists("instruction",e),ue.checkFnExists("cdata",e),ue.checkFnExists("comment",e),ue.checkFnExists("text",e),ue.checkFnExists("instructionName",e),ue.checkFnExists("elementName",e),ue.checkFnExists("attributeName",e),ue.checkFnExists("attributeValue",e),ue.checkFnExists("attributes",e),ue.checkFnExists("fullTagEmptyElement",e),e}s(X2,"validateOptions");function Yt(t,e,n){return(!n&&t.spaces?`
`:"")+Array(e+1).join(t.spaces)}s(Yt,"writeIndentation");function Xl(t,e,n){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,at,rt));var r,a,o,l,u=[];for(r in t)t.hasOwnProperty(r)&&t[r]!==null&&t[r]!==void 0&&(l=e.noQuotesForNativeAttributes&&typeof t[r]!="string"?"":'"',a=""+t[r],a=a.replace(/"/g,"&quot;"),o="attributeNameFn"in e?e.attributeNameFn(r,a,at,rt):r,u.push(e.spaces&&e.indentAttributes?Yt(e,n+1,!1):" "),u.push(o+"="+l+("attributeValueFn"in e?e.attributeValueFn(a,r,at,rt):a)+l));return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&u.push(Yt(e,n,!1)),u.join("")}s(Xl,"writeAttributes");function ak(t,e,n){return rt=t,at="xml",e.ignoreDeclaration?"":"<?xml"+Xl(t[e.attributesKey],e,n)+"?>"}s(ak,"writeDeclaration");function ik(t,e,n){if(e.ignoreInstruction)return"";var r;for(r in t)if(t.hasOwnProperty(r))break;var a="instructionNameFn"in e?e.instructionNameFn(r,t[r],at,rt):r;if(typeof t[r]=="object")return rt=t,at=a,"<?"+a+Xl(t[r][e.attributesKey],e,n)+"?>";var o=t[r]?t[r]:"";return"instructionFn"in e&&(o=e.instructionFn(o,r,at,rt)),"<?"+a+(o?" "+o:"")+"?>"}s(ik,"writeInstruction");function sk(t,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(t,at,rt):t)+"-->"}s(sk,"writeComment");function ok(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,at,rt):t.replace("]]>","]]]]><![CDATA[>"))+"]]>"}s(ok,"writeCdata");function lk(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,at,rt):t)+">"}s(lk,"writeDoctype");function Hg(t,e){return e.ignoreText?"":(t=""+t,t=t.replace(/&amp;/g,"&"),t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,at,rt):t)}s(Hg,"writeText");function D2(t,e){var n;if(t.elements&&t.elements.length)for(n=0;n<t.elements.length;++n)switch(t.elements[n][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}s(D2,"hasContent");function I2(t,e,n){rt=t,at=t.name;var r=[],a="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;r.push("<"+a),t[e.attributesKey]&&r.push(Xl(t[e.attributesKey],e,n));var o=t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&t[e.attributesKey]["xml:space"]==="preserve";return o||("fullTagEmptyElementFn"in e?o=e.fullTagEmptyElementFn(t.name,t):o=e.fullTagEmptyElement),o?(r.push(">"),t[e.elementsKey]&&t[e.elementsKey].length&&(r.push(ck(t[e.elementsKey],e,n+1)),rt=t,at=t.name),r.push(e.spaces&&D2(t,e)?`
`+Array(n+1).join(e.spaces):""),r.push("</"+a+">")):r.push("/>"),r.join("")}s(I2,"writeElement");function ck(t,e,n,r){return t.reduce(function(a,o){var l=Yt(e,n,r&&!a);switch(o.type){case"element":return a+l+I2(o,e,n);case"comment":return a+l+sk(o[e.commentKey],e);case"doctype":return a+l+lk(o[e.doctypeKey],e);case"cdata":return a+(e.indentCdata?l:"")+ok(o[e.cdataKey],e);case"text":return a+(e.indentText?l:"")+Hg(o[e.textKey],e);case"instruction":var u={};return u[o[e.nameKey]]=o[e.attributesKey]?o:o[e.instructionKey],a+(e.indentInstruction?l:"")+ik(u,e,n)}},"")}s(ck,"writeElements");function uk(t,e,n){var r;for(r in t)if(t.hasOwnProperty(r))switch(r){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||n)return!0;break;case e.cdataKey:if(e.indentCdata||n)return!0;break;case e.instructionKey:if(e.indentInstruction||n)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}s(uk,"hasContentCompact");function B2(t,e,n,r,a){rt=t,at=e;var o="elementNameFn"in n?n.elementNameFn(e,t):e;if(typeof t>"u"||t===null||t==="")return"fullTagEmptyElementFn"in n&&n.fullTagEmptyElementFn(e,t)||n.fullTagEmptyElement?"<"+o+"></"+o+">":"<"+o+"/>";var l=[];if(e){if(l.push("<"+o),typeof t!="object")return l.push(">"+Hg(t,n)+"</"+o+">"),l.join("");t[n.attributesKey]&&l.push(Xl(t[n.attributesKey],n,r));var u=uk(t,n,!0)||t[n.attributesKey]&&t[n.attributesKey]["xml:space"]==="preserve";if(u||("fullTagEmptyElementFn"in n?u=n.fullTagEmptyElementFn(e,t):u=n.fullTagEmptyElement),u)l.push(">");else return l.push("/>"),l.join("")}return l.push(pk(t,n,r+1,!1)),rt=t,at=e,e&&l.push((a?Yt(n,r,!1):"")+"</"+o+">"),l.join("")}s(B2,"writeElementCompact");function pk(t,e,n,r){var a,o,l,u=[];for(o in t)if(t.hasOwnProperty(o))for(l=R2(t[o])?t[o]:[t[o]],a=0;a<l.length;++a){switch(o){case e.declarationKey:u.push(ak(l[a],e,n));break;case e.instructionKey:u.push((e.indentInstruction?Yt(e,n,r):"")+ik(l[a],e,n));break;case e.attributesKey:case e.parentKey:break;case e.textKey:u.push((e.indentText?Yt(e,n,r):"")+Hg(l[a],e));break;case e.cdataKey:u.push((e.indentCdata?Yt(e,n,r):"")+ok(l[a],e));break;case e.doctypeKey:u.push(Yt(e,n,r)+lk(l[a],e));break;case e.commentKey:u.push(Yt(e,n,r)+sk(l[a],e));break;default:u.push(Yt(e,n,r)+B2(l[a],o,e,n,uk(l[a],e)))}r=r&&!u.length}return u.join("")}s(pk,"writeElementsCompact");fk.exports=function(t,e){e=X2(e);var n=[];return rt=t,at="_root_",e.compact?n.push(pk(t,e,0,!0)):(t[e.declarationKey]&&n.push(ak(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&n.push(ck(t[e.elementsKey],e,0,!n.length))),n.join("")}});var dk=D((sL,mk)=>{var j2=Jg();mk.exports=function(t,e){t instanceof Buffer&&(t=t.toString());var n=null;if(typeof t=="string")try{n=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else n=t;return j2(n,e)}});var hk=D((oL,gk)=>{var L2=Vg(),M2=rk(),F2=Jg(),$2=dk();gk.exports={xml2js:L2,xml2json:M2,js2xml:F2,json2xml:$2}});var wk=D((lL,vk)=>{"use strict";var U2=hk(),z2=s(async(t,e,n)=>{try{return n.log("info","","Retrieving DB indexes: "+e),n.progress({message:"Retrieving indexes",containerName:e,entityName:""}),{rangeIndexes:await Q2(t,e),geoPointIndexes:await G2(t,e),geoRegionIndexes:await W2(t,e)}}catch(r){return n.log("error",r,"Retrieving DB indexes: "+e),{}}},"getIndexes"),Q2=s(async(t,e)=>{let r=[K2(e),V2(e),H2(e),J2(e)].map(async o=>(await Yg(t,o.query)).map(o.mapper),[]),a=await Promise.all(r);return yk(a)},"getRangeIndexes"),G2=s(async(t,e)=>{let r=[Y2(e),Z2(e),eX(e),tX(e),nX(e)].map(async o=>(await Yg(t,o.query)).map(o.mapper),[]),a=await Promise.all(r);return yk(a)},"getGeoPointIndexes"),W2=s(async(t,e)=>{let n=rX(e);return(await Yg(t,n.query)).map(n.mapper)},"getGeoSpatialRegionIndexes"),K2=s(t=>({query:Zt("database-get-range-element-indexes",t),mapper:s((a,o)=>{let l=a["range-element-index"];return{idxName:`Element index (${o+1})`,idxType:"Element",scalarType:W(l,"scalar-type"),namespaceURI:W(l,"namespace-uri"),collation:W(l,"collation"),localname:W(l,"localname"),rangeValuePositions:W(l,"range-value-positions")==="true",invalidValues:W(l,"invalid-values")}},"mapper")}),"getElementRangeIndexConfig"),V2=s(t=>({query:Zt("database-get-range-element-attribute-indexes",t),mapper:s((a,o)=>{let l=a["range-element-attribute-index"];return{idxName:`Attribute index (${o+1})`,idxType:"Attribute",scalarType:W(l,"scalar-type"),parentNamespaceURI:W(l,"parent-namespace-uri"),parentLocalname:W(l,"parent-localname"),namespaceURI:W(l,"namespace-uri"),collation:W(l,"collation"),localname:W(l,"localname"),rangeValuePositions:W(l,"range-value-positions")==="true",invalidValues:W(l,"invalid-values")}},"mapper")}),"getAttributeRangeIndexConfig"),H2=s(t=>({query:Zt("database-get-range-path-indexes",t),mapper:s((a,o)=>{let l=a["range-path-index"];return{idxName:`Path index (${o+1})`,idxType:"Path",scalarType:W(l,"scalar-type"),pathExpression:W(l,"path-expression"),collation:W(l,"collation"),rangeValuePositions:W(l,"range-value-positions")==="true",invalidValues:W(l,"invalid-values")}},"mapper")}),"getPathRangeIndexConfig"),J2=s(t=>({query:Zt("database-get-range-field-indexes",t),mapper:s((a,o)=>{let l=a["range-field-index"];return{idxName:`Field index (${o+1})`,idxType:"Field",scalarType:W(l,"scalar-type"),fieldName:W(l,"field-name"),collation:W(l,"collation"),rangeValuePositions:W(l,"range-value-positions")==="true",invalidValues:W(l,"invalid-values")}},"mapper")}),"getFieldRangeIndexConfig"),Y2=s(t=>({query:Zt("database-get-geospatial-element-indexes",t),mapper:s((a,o)=>{let l=a["geospatial-element-index"];return{idxName:`Geospatial element index (${o+1})`,idxType:"Element",namespaceURI:W(l,"namespace-uri"),localname:W(l,"localname"),coordinateSystem:W(l,"coordinate-system"),pointFormat:W(l,"point-format"),rangeValuePositions:W(l,"range-value-positions")==="true",invalidValues:W(l,"invalid-values")}},"mapper")}),"getElementGeoSpatialPointIndexConfig"),Z2=s(t=>({query:Zt("database-get-geospatial-element-child-indexes",t),mapper:s((a,o)=>{let l=a["geospatial-element-child-index"];return{idxName:`Geospatial element child index (${o+1})`,idxType:"Element child",namespaceURI:W(l,"namespace-uri"),localname:W(l,"localname"),parentNamespaceURI:W(l,"parent-namespace-uri"),parentLocalname:W(l,"parent-localname"),coordinateSystem:W(l,"coordinate-system"),pointFormat:W(l,"point-format"),rangeValuePositions:W(l,"range-value-positions")==="true",invalidValues:W(l,"invalid-values")}},"mapper")}),"getElementChildGeoSpatialPointIndexConfig"),eX=s(t=>({query:Zt("database-get-geospatial-element-pair-indexes",t),mapper:s((a,o)=>{let l=a["geospatial-element-pair-index"];return{idxName:`Geospatial element pair index (${o+1})`,idxType:"Element pair",latitudeNamespaceURI:W(l,"latitude-namespace-uri"),latitudeLocalname:W(l,"latitude-localname"),longitudeNamespaceURI:W(l,"longitude-namespace-uri"),longitudeLocalname:W(l,"longitude-localname"),parentNamespaceURI:W(l,"parent-namespace-uri"),parentLocalname:W(l,"parent-localname"),coordinateSystem:W(l,"coordinate-system"),rangeValuePositions:W(l,"range-value-positions")==="true",invalidValues:W(l,"invalid-values")}},"mapper")}),"getElementPairGeoSpatialPointIndexConfig"),tX=s(t=>({query:Zt("database-get-geospatial-element-attribute-pair-indexes",t),mapper:s((a,o)=>{let l=a["geospatial-element-attribute-pair-index"];return{idxName:`Geospatial attribute pair index (${o+1})`,idxType:"Attribute pair",latitudeNamespaceURI:W(l,"latitude-namespace-uri"),latitudeLocalname:W(l,"latitude-localname"),longitudeNamespaceURI:W(l,"longitude-namespace-uri"),longitudeLocalname:W(l,"longitude-localname"),parentNamespaceURI:W(l,"parent-namespace-uri"),parentLocalname:W(l,"parent-localname"),coordinateSystem:W(l,"coordinate-system"),rangeValuePositions:W(l,"range-value-positions")==="true",invalidValues:W(l,"invalid-values")}},"mapper")}),"getAttributePairGeoSpatialPointIndexConfig"),nX=s(t=>({query:Zt("database-get-geospatial-path-indexes",t),mapper:s((a,o)=>{let l=a["geospatial-path-index"];return{idxName:`Geospatial path index (${o+1})`,idxType:"Path",pathExpression:W(l,"path-expression"),pointFormat:W(l,"point-format"),coordinateSystem:W(l,"coordinate-system"),rangeValuePositions:W(l,"range-value-positions")==="true",invalidValues:W(l,"invalid-values")}},"mapper")}),"getPathGeoSpatialPointIndexConfig"),rX=s(t=>({query:Zt("database-get-geospatial-region-path-indexes",t),mapper:s((a,o)=>{let l=a["geospatial-region-path-index"];return{idxName:`Geospatial region index (${o+1})`,idxType:"Path",pathExpression:W(l,"path-expression"),coordinateSystem:W(l,"coordinate-system"),units:W(l,"units"),geohashPrecision:W(l,"geohash-precision"),invalidValues:W(l,"invalid-values")}},"mapper")}),"getGeoRegionIndexConfig"),Yg=s(async(t,e)=>{let n=await t.xqueryEval(e).result();return aX(n)},"fetchIndexData"),Zt=s((t,e)=>`xquery version "1.0-ml"; import module namespace admin = "http://marklogic.com/xdmp/admin" at "/MarkLogic/admin.xqy"; let $config := admin:get-configuration() return admin:${t}($config, xdmp:database("${e}"));`,"getIndexQuery"),aX=s(t=>Array.isArray(t)?t.map(e=>U2.xml2js(e.value,{compact:!0,textKey:"value"})):[],"sharedResponseMapper"),W=s((t={},e)=>(t[e]||{}).value,"getXmlAttributeValue"),yk=s((t=[])=>t.reduce((e,n)=>[...e,...n],[]),"flatten");vk.exports={getIndexes:z2}});var uL=zg(),{DOCUMENTS_ORGANIZING_COLLECTIONS:Zg,DOCUMENTS_ORGANIZING_DIRECTORIES:iX,getDBClient:Dl,releaseDBClient:sX,getDBCollections:xk,getDBDirectories:oX,getDocumentOrganizingType:lX,getCollectionDocuments:cX,getDirectoryDocuments:uX,getEntityDataPackage:pX,setDocumentsOrganizationType:bk,getDBProperties:fX,getUndefinedCollectionDocuments:mX,getDbList:dX}=jS(),{prepareError:eh}=MS(),gX=US(),{setDependencies:Ak}=wi(),{getIndexes:hX}=wk(),{dependencies:Il}=wi(),th="Documents with undefined collection";module.exports={connect:function(t,e,n){let r=Dl({connectionInfo:t});e.log("info","","Got DB client"),n(r)},disconnect:function(t,e){e()},testConnection:function(t,e,n,r){Sk("Test connection",t,e),this.connect(t,e,async a=>{try{await a.checkConnection().result(),e.log("info","","Test connection: Connection successful"),n()}catch(o){e.log("info","","Test connection: Connection failed"),n(eh(o))}this.disconnect(t,()=>{})})},getDbCollectionsNames:async function(t,e,n,r){let a="Getting collections/directories timeout";Sk("Retrieving databases, collections/directories lists",t,e),e.log("info","","Getting databases, collections/directories lists"),Ak(r);let o=t.queryRequestTimeout||1e3*60*2,l;try{e.progress({message:"Getting database list",containerName:"",entityName:""});let u=Dl({connectionInfo:t}),f=t.database?[t.database]:await dX(u,e),d=await Il.async.mapSeries(f,async g=>{let v=Dl({database:g}),w=[];try{let b=s(()=>new Promise((S,E)=>{l=setTimeout(()=>{E(new Error(a))},o)}),"getTimeoutHandler");switch(t.documentsOrganizing){case"directories":w=await oX(v,e),bk(iX);break;default:w=await Promise.race([xk({dbClient:v,logger:e,minDocumentsPerCollection:t.minDocuments,collections:t.collections,collectionsMatcher:t.collectionsMatcher}),b()]),t.minDocuments||t.collections||w.push(th),bk(Zg)}}catch(b){if(b.message!==a)throw b;return e.progress({message:"Error getting collections list",containerName:g,entityName:""}),e.log("error",b,`Retrieving collections/directories list for "${g}" DB`),null}finally{clearTimeout(l)}return{dbCollections:w,dbName:g}});n(null,d.filter(Boolean))}catch(u){e.log("error",u,"Connecting to a DB for a retrieving collections/directories information"),n(eh(u))}finally{clearTimeout(l)}},getDbCollectionsData:async function(t,e,n,r){e.log("info",t,"Retrieving documents",t.hiddenKeys),Ak(r);let a=t.recordSamplingSettings,o=10;try{let l=lX(),u=await Il.async.mapSeries(t.collectionData.dataBaseNames,async d=>{e.progress({message:"Documents sampling started",containerName:d,entityName:""});let g=t.collectionData.collections[d]||[],v=Dl({database:d}),w=await fX(v,d,e),b=await hX(v,d,e),S=await Il.async.mapLimit(g,o,async E=>{e.log("info","",`Retrieving "${d}:${E}" documents started`);let q;if(l===Zg)if(E===th){let P=await xk({dbClient:v,logger:e});P.length>1e3?q=[]:q=await mX(P,v,a)}else q=await cX(E,v,a);else q=await uX(E||"",v,a);return e.progress({message:"Sample documents loaded",containerName:d,entityName:E}),e.log("info","",`Retrieving "${d}:${E}" documents finished`),!t.includeEmptyCollection&&q.length===0?null:{dbName:d,collectionName:E===th?"Undefined collection":E||"",documents:q,entityLevel:{storeAsCollDir:Zg?"collection":"directory"}}});return sX(v),pX(S.filter(Boolean),l,w,b,t.fieldInference)});e.progress({message:"Reverse-Engineering completed",containerName:"",entityName:""});let f=Il.lodash.flatten(u);n(null,f)}catch(l){e.log("error",l,"Retrieving collections/directories documents"),n(eh(l))}}};var Sk=s((t,e,n)=>{n.clear(),n.log("info",gX.getSystemInfo(e.appVersion),t),n.log("info",e,"connectionInfo",e.hiddenKeys)},"logInfo");
/*! Bundled license information:

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

sax/lib/sax.js:
  (*! http://mths.be/fromcodepoint v0.1.0 by @mathias *)
*/
